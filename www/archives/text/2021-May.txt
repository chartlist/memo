From jlrubin at mit.edu  Sat May  1 00:11:42 2021
From: jlrubin at mit.edu (Jeremy)
Date: Fri, 30 Apr 2021 17:11:42 -0700
Subject: [bitcoin-dev] Fee estimates and RBF
In-Reply-To: <MZZT0_o--3-2@tutanota.de>
References: <MZZT0_o--3-2@tutanota.de>
Message-ID: <CAD5xwhhCipMiOSHd3Ff_SJPkkjGFh44G_A3nARQ3M_OfhjqoUA@mail.gmail.com>

Hi Prayank,

Very glad to hear you are weathering the storm OK, wishing you and yours
safety in the weeks ahead.

I think you'll be interested to see
https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-September/018168.html
especially with regards to background services.

In the long term, this can be particularly useful since you can use a
separate fee-only wallet to arrange the bumps if your main wallet keys are
offline, and you do not disturb any of the on-chain dependants.

It can also be much cheaper to use this mechanism than actual RBF because
you are not subject to the feerate improvement rule, which forces you to
pay for the bump on all tx data.

I would be very interested to see a system whereby you can make a market
(maybe via LN) for someone to get your TX included (using oracle network
OK) by a particular date. Then you can abstract the whole system a lot
better, so that you can fee bump without having to create any direct on
chain traffic, and a sponsor vector can be offered across a number of txns
by a service provider.

Cheers,

Jeremy
--
@JeremyRubin <https://twitter.com/JeremyRubin>
<https://twitter.com/JeremyRubin>


On Fri, Apr 30, 2021 at 2:40 PM Prayank via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hello World,
>
> I hope everyone is doing okay. Things are not good in India and even I was
> tested covid positive few days back. Recovered and feeling better now.
> Hoping everything gets back to normal soon.
>
> There are different estimations used in wallets, explorers and other
> Bitcoin projects. For example: `estimatesmartfee` in Bitcoin Core (One of
> the implementation for Bitcoin which is used more but not official as there
> is nothing official in Bitcoin).  Are different estimations misleading and
> affect the way fees are used in Bitcoin transactions? Will it be better if
> we just share mempool stats and user can decide the fee rate accordingly?
>
> If I compare this with BTCUSD orderbook on any exchange, are we trying to
> estimate at what price buy order will get filled in certain time? Does that
> make sense?
>
> Mempool Stats: https://i.imgur.com/r4XKk2p.png
> BTCUSD Orderbook: https://i.imgur.com/ylGVHJB.png
>
> I consider it misleading because lot of users think a transaction with fee
> rate 1-5 sat/vByte will be included in 1 week or maybe a transaction with X
> sat/VByte will be included in Y time which is not true. Users can decide
> the fee rate and can do bidding, transaction will be included based on
> demand, supply and miners.
>
> Will it be better if the wallets used this approach?
> 1.Show mempool stats
> 2.Leave the fee rate for user to decide
> 3.RBF every transaction and follow different algorithms for automated
> bidding
>
> A basic algorithm for automated bidding can be:
> https://i.stack.imgur.com/1SlPv.png
>
> Such RBF algos can be helpful for users when Bitcoin wallets are open in
> background. Maybe it will work better for mobile wallets in which you can
> see a notification every time transaction is replaced with a new fee rate
> automatically.
>
> I wanted to know what others think about this approach of creating and
> using different RBF algos instead of predicting something that is difficult
> or doesn't make sense. Also if there was a way we could achieve this even
> if the user goes offline. For example: Alice broadcasts Tx1 with 1
> sat/vByte, its replaced with Tx2 (2 sat/vByte) after 2 blocks because Tx1
> was not confirmed. Alice decides to shut down her system or switch off
> mobile or mobile data. Tx2 is still not confirmed after another 2 blocks
> but it has some information as one OP_RETURN output which is used by
> Bitcoin nodes that see this transaction in the mempool. Bob's node use this
> information to replace the transaction with Tx3 and use fee rate 3
> sat/vByte.
>
> --
> Prayank
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210430/95501ff9/attachment.html>

From prayank at tutanota.de  Sat May  1 16:59:14 2021
From: prayank at tutanota.de (Prayank)
Date: Sat, 1 May 2021 18:59:14 +0200 (CEST)
Subject: [bitcoin-dev] Fee estimates and RBF
In-Reply-To: <CAD5xwhhCipMiOSHd3Ff_SJPkkjGFh44G_A3nARQ3M_OfhjqoUA@mail.gmail.com>
References: <MZZT0_o--3-2@tutanota.de>
 <CAD5xwhhCipMiOSHd3Ff_SJPkkjGFh44G_A3nARQ3M_OfhjqoUA@mail.gmail.com>
Message-ID: <MZcrehR----2@tutanota.de>

Thanks Jeremy for sharing this link:?https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-September/018168.html

Trying to understand everything mentioned and "fee-only" wallet sounds interesting.
-- 
Prayank

May 1, 2021, 05:41 by jlrubin at mit.edu:

> Hi Prayank,
>
> Very glad to hear you are weathering the storm OK, wishing you and yours safety in the weeks ahead.
>
> I think you'll be interested to see > https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-September/018168.html>  especially with regards to background services.
>
> In the long term, this can be particularly useful since you can use a separate fee-only wallet to arrange the bumps if your main wallet keys are offline, and you do not disturb any of the on-chain dependants.
>
> It can also be much cheaper to use this mechanism than actual RBF because you are not subject to the feerate improvement rule, which forces you to pay for the bump on all tx data.
>
> I would be very interested to see a system whereby you can make a market (maybe via LN) for someone to get your TX included (using oracle network OK) by a particular date. Then you can abstract the whole system a lot better, so that you can fee bump without having to create any direct on chain traffic, and a sponsor vector can be offered across a number of txns by a service provider.
>
> Cheers,
>
> Jeremy
> --
> @JeremyRubin <https://twitter.com/JeremyRubin> <https://twitter.com/JeremyRubin>
>
>
> On Fri, Apr 30, 2021 at 2:40 PM Prayank via bitcoin-dev <> bitcoin-dev at lists.linuxfoundation.org> > wrote:
>
>> Hello World, 
>>
>> I hope everyone is doing okay. Things are not good in India and even I was tested covid positive few days back. Recovered and feeling better now. Hoping everything gets back to normal soon.
>>
>> There are different estimations used in wallets, explorers and other Bitcoin projects. For example: `estimatesmartfee` in Bitcoin Core (One of the implementation for Bitcoin which is used more but not official as there is nothing official in Bitcoin).? Are different estimations misleading and affect the way fees are used in Bitcoin transactions? Will it be better if we just share mempool stats and user can decide the fee rate accordingly?
>>
>> If I compare this with BTCUSD orderbook on any exchange, are we trying to estimate at what price buy order will get filled in certain time? Does that make sense?
>>
>> Mempool Stats: >> https://i.imgur.com/r4XKk2p.png
>> BTCUSD Orderbook: >> https://i.imgur.com/ylGVHJB.png
>>
>> I consider it misleading because lot of users think a transaction with fee rate 1-5 sat/vByte will be included in 1 week or maybe a transaction with X sat/VByte will be included in Y time which is not true. Users can decide the fee rate and can do bidding, transaction will be included based on demand, supply and miners.
>>
>> Will it be better if the wallets used this approach?
>> 1.Show mempool stats
>> 2.Leave the fee rate for user to decide
>> 3.RBF every transaction and follow different algorithms for automated bidding
>>
>> A basic algorithm for automated bidding can be: >> https://i.stack.imgur.com/1SlPv.png
>>
>> Such RBF algos can be helpful for users when Bitcoin wallets are open in background. Maybe it will work better for mobile wallets in which you can see a notification every time transaction is replaced with a new fee rate automatically.
>>
>> I wanted to know what others think about this approach of creating and using different RBF algos instead of predicting something that is difficult or doesn't make sense. Also if there was a way we could achieve this even if the user goes offline. For example: Alice broadcasts Tx1 with 1 sat/vByte, its replaced with Tx2 (2 sat/vByte) after 2 blocks because Tx1 was not confirmed. Alice decides to shut down her system or switch off mobile or mobile data. Tx2 is still not confirmed after another 2 blocks but it has some information as one OP_RETURN output which is used by Bitcoin nodes that see this transaction in the mempool. Bob's node use this information to replace the transaction with Tx3 and use fee rate 3 sat/vByte.
>>
>> --
>> Prayank
>>
>> _______________________________________________
>>  bitcoin-dev mailing list
>>  >> bitcoin-dev at lists.linuxfoundation.org
>>  >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210501/196939d4/attachment.html>

From laanwj at protonmail.com  Sun May  2 07:14:05 2021
From: laanwj at protonmail.com (W. J. van der Laan)
Date: Sun, 02 May 2021 07:14:05 +0000
Subject: [bitcoin-dev] Bitcoin Core 0.21.1 released
Message-ID: <IOvwHrubSeL9fgLQtmyTXvzLIlzIDUBF7d-0b3guw5dC7Dh_lMu4RCXJzuQR_vjLPCATDyf56o8uq9twOPYgnBJ2dGaFVxmcnB6MUo5wSmo=@protonmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

0.21.1 Release Notes
====================

Bitcoin Core version 0.21.1 is now available from:

  <https://bitcoincore.org/bin/bitcoin-core-0.21.1/>

Or through Bittorrent:

  magnet:?xt=urn:btih:205b0189271c50a02fe966491e15737a01f94e08&dn=bitcoin-core-0.21.1&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A80&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969%2Fannounce&tr=udp%3A%2F%2Fexplodie.org%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.torrent.eu.org%3A451%2Fannounce&tr=udp%3A%2F%2Ftracker.bitcoin.sprovoost.nl%3A6969

This minor release includes various bug fixes and performance
improvements, as well as updated translations.

Please report bugs using the issue tracker at GitHub:

  <https://github.com/bitcoin/bitcoin/issues>

To receive security and update notifications, please subscribe to:

  <https://bitcoincore.org/en/list/announcements/join/>

How to Upgrade
==============

If you are running an older version, shut it down. Wait until it has completely
shut down (which might take a few minutes in some cases), then run the
installer (on Windows) or just copy over `/Applications/Bitcoin-Qt` (on Mac)
or `bitcoind`/`bitcoin-qt` (on Linux).

Upgrading directly from a version of Bitcoin Core that has reached its EOL is
possible, but it might take some time if the data directory needs to be migrated. Old
wallet versions of Bitcoin Core are generally supported.

Compatibility
==============

Bitcoin Core is supported and extensively tested on operating systems
using the Linux kernel, macOS 10.12+, and Windows 7 and newer.  Bitcoin
Core should also work on most other Unix-like systems but is not as
frequently tested on them.  It is not recommended to use Bitcoin Core on
unsupported systems.

- From Bitcoin Core 0.20.0 onwards, macOS versions earlier than 10.12 are no
longer supported. Additionally, Bitcoin Core does not yet change appearance
when macOS "dark mode" is activated.

Notable changes
===============

## Taproot Soft Fork

Included in this release are the mainnet and testnet activation
parameters for the taproot soft fork (BIP341) which also adds support
for schnorr signatures (BIP340) and tapscript (BIP342).

If activated, these improvements will allow users of single-signature
scripts, multisignature scripts, and complex contracts to all use
identical-appearing commitments that enhance their privacy and the
fungibility of all bitcoins. Spenders will enjoy lower fees and the
ability to resolve many multisig scripts and complex contracts with the
same efficiency, low fees, and large anonymity set as single-sig users.
Taproot and schnorr also include efficiency improvements for full nodes
such as the ability to batch signature verification.  Together, the
improvements lay the groundwork for future potential
upgrades that may improve efficiency, privacy, and fungibility further.

Activation for taproot is being managed using a variation of BIP9
versionbits called Speedy Trial (described in BIP341). Taproot's
versionbit is bit 2, and nodes will begin tracking which blocks signal
support for taproot at the beginning of the first retarget period after
taproot?s start date of 24 April 2021.  If 90% of blocks within a
2,016-block retarget period (about two weeks) signal support for taproot
prior to the first retarget period beginning after the time of 11 August
2021, the soft fork will be locked in, and taproot will then be active
as of block 709632 (expected in early or mid November).

Should taproot not be locked in via Speedy Trial activation, it is
expected that a follow-up activation mechanism will be deployed, with
changes to address the reasons the Speedy Trial method failed.

This release includes the ability to pay taproot addresses, although
payments to such addresses are not secure until taproot activates.
It also includes the ability to relay and mine taproot transactions
after activation.  Beyond those two basic capabilities, this release
does not include any code that allows anyone to directly use taproot.
The addition of taproot-related features to Bitcoin Core's wallet is
expected in later releases once taproot activation is assured.

All users, businesses, and miners are encouraged to upgrade to this
release (or a subsequent compatible release) unless they object to
activation of taproot.  If taproot is locked in, then upgrading before
block 709632 is highly recommended to help enforce taproot's new rules
and to avoid the unlikely case of seeing falsely confirmed transactions.

Miners who want to activate Taproot should preferably use this release
to control their signaling.  The `getblocktemplate` RPC results will
automatically be updated to signal once the appropriate start has been
reached and continue signaling until the timeout occurs or taproot
activates.  Alternatively, miners may manually start signaling on bit 2
at any time; if taproot activates, they will need to ensure they update
their nodes before block 709632 or non-upgraded nodes could cause them to mine on
an invalid chain.  See the [versionbits
FAQ](https://bitcoincore.org/en/2016/06/08/version-bits-miners-faq/) for
details.


For more information about taproot, please see the following resources:

- - Technical specifications
  - [BIP340 Schnorr signatures for secp256k1](https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki)
  - [BIP341 Taproot: SegWit version 1 spending rules](https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki)
  - [BIP342 Validation of Taproot scripts](https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki)

- - Popular articles;
  - [Taproot Is Coming: What It Is, and How It Will Benefit Bitcoin](https://bitcoinmagazine.com/technical/taproot-coming-what-it-and-how-it-will-benefit-bitcoin)
  - [What do Schnorr Signatures Mean for Bitcoin?](https://academy.binance.com/en/articles/what-do-schnorr-signatures-mean-for-bitcoin)
  - [The Schnorr Signature & Taproot Softfork Proposal](https://blog.bitmex.com/the-schnorr-signature-taproot-softfork-proposal/)

- - Development history overview
  - [Taproot](https://bitcoinops.org/en/topics/taproot/)
  - [Schnorr signatures](https://bitcoinops.org/en/topics/schnorr-signatures/)
  - [Tapscript](https://bitcoinops.org/en/topics/tapscript/)
  - [Soft fork activation](https://bitcoinops.org/en/topics/soft-fork-activation/)

- - Other
  - [Questions and answers related to taproot](https://bitcoin.stackexchange.com/questions/tagged/taproot)
  - [Taproot review](https://github.com/ajtowns/taproot-review)

Updated RPCs
- ------------

- - Due to [BIP 350](https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki)
  being implemented, behavior for all RPCs that accept addresses is changed when
  a native witness version 1 (or higher) is passed. These now require a Bech32m
  encoding instead of a Bech32 one, and Bech32m encoding will be used for such
  addresses in RPC output as well. No version 1 addresses should be created
  for mainnet until consensus rules are adopted that give them meaning
  (e.g. through [BIP 341](https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki)).
  Once that happens, Bech32m is expected to be used for them, so this shouldn't
  affect any production systems, but may be observed on other networks where such
  addresses already have meaning (like signet).

0.21.1 change log
=================

### Consensus
- - #21377 Speedy trial support for versionbits (ajtowns)
- - #21686 Speedy trial activation parameters for Taproot (achow101)

### P2P protocol and network code
- - #20852 allow CSubNet of non-IP networks (vasild)
- - #21043 Avoid UBSan warning in ProcessMessage(?) (practicalswift)

### Wallet
- - #21166 Introduce DeferredSignatureChecker and have SignatureExtractorClass subclass it (achow101)
- - #21083 Avoid requesting fee rates multiple times during coin selection (achow101)

### RPC and other APIs
- - #21201 Disallow sendtoaddress and sendmany when private keys disabled (achow101)

### Build system
- - #21486 link against -lsocket if required for `*ifaddrs` (fanquake)
- - #20983 Fix MSVC build after gui#176 (hebasto)

### Tests and QA
- - #21380 Add fuzzing harness for versionbits (ajtowns)
- - #20812 fuzz: Bump FuzzedDataProvider.h (MarcoFalke)
- - #20740 fuzz: Update FuzzedDataProvider.h from upstream (LLVM) (practicalswift)
- - #21446 Update vcpkg checkout commit (sipsorcery)
- - #21397 fuzz: Bump FuzzedDataProvider.h (MarcoFalke)
- - #21081 Fix the unreachable code at `feature_taproot` (brunoerg)
- - #20562 Test that a fully signed tx given to signrawtx is unchanged (achow101)
- - #21571 Make sure non-IP peers get discouraged and disconnected (vasild, MarcoFalke)
- - #21489 fuzz: cleanups for versionbits fuzzer (ajtowns)

### Miscellaneous
- - #20861 BIP 350: Implement Bech32m and use it for v1+ segwit addresses (sipa)

### Documentation
- - #21384 add signet to bitcoin.conf documentation (jonatack)
- - #21342 Remove outdated comment (hebasto)

Credits
=======

Thanks to everyone who directly contributed to this release:

- - Aaron Clauson
- - Andrew Chow
- - Anthony Towns
- - Bruno Garcia
- - Fabian Jahr
- - fanquake
- - Hennadii Stepanov
- - Jon Atack
- - Luke Dashjr
- - MarcoFalke
- - Pieter Wuille
- - practicalswift
- - randymcmillan
- - Sjors Provoost
- - Vasil Dimov
- - W. J. van der Laan

As well as to everyone that helped with translations on
[Transifex](https://www.transifex.com/bitcoin/bitcoin/).

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCgAdFiEEnerg3HBjJJ+wVHRoHkrtYphs0l0FAmCOTyUACgkQHkrtYphs
0l0NGgf/fkAJXREQTITAdHfYpv0kFJERm2TSgDCNUIevtbQAl+OHnTyyAtnKScTh
9RVJrrq2smZvFpDyDjYuBspW9yhdQ9RgJOkp1Az1RAx5IJPeCPvMJ44VG4lJAsJN
5QL6TsarMdbyKjYZ0lqkLjbjDV77ZVmboT2r18G5S5gDVMJ+4rOgqjY2ASh3FlDQ
ruic+Wm8ly4Fv/EwUoMAgq7fq+GJAuBiqfjDYZNtOISYj4fDK9cL8Moc++km3niO
BCsYVrskxHKMjBVIZ40R+vHclMbjc5Gsh8bBKFYBkZGJ3+4DItLpUhhJBsmAy3hq
SKTknRUElQbMxs3WlwTxXb0B8x+c/w==
=CtcI
-----END PGP SIGNATURE-----


From ZmnSCPxj at protonmail.com  Mon May  3 02:30:07 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Mon, 03 May 2021 02:30:07 +0000
Subject: [bitcoin-dev] maximum block height on transaction
In-Reply-To: <3mg9xnvKEhrXuQ5QriYQcLKmrhdYpO0hlxyRpJwZJZInyHCtva208PTZlIxglcq4afO8ftTFRBjRfG0ZEVPvIqxMJhHnFYpnPYTo_mp3qA0=@protonmail.com>
References: <5B6756D0-6BEF-4A01-BDB8-52C646916E29@friedenbach.org>
 <CAKzdR-pnvystx5H+P+OCXm73aVmWdyesCymerSgx=pCuXx+YGA@mail.gmail.com>
 <9FD4AF03-28A5-4B8A-9C12-CBCB1BC2E22C@friedenbach.org>
 <CAKzdR-r6u4J+_T5X516A=-tLWZ8zFFFsRokReiJndDE_S64OqQ@mail.gmail.com>
 <CAPg+sBi+WnzpJkcG6XACdpqqz9ZA3rHX8+H9b5eExUdgXaeiWQ@mail.gmail.com>
 <CAJowKg+kbnExgKt7H8GD6Kc-iLJEOvZhtw0uVbophhLCszvOHg@mail.gmail.com>
 <CAMZUoKmQyV67dhWS_+t1CmqNYT490_7g3WwKgxB-jiYfje+F+Q@mail.gmail.com>
 <CAD5xwhhZpQ9AQEFHgGYvPh2ad9HyQqq9WwEZje1H1siioB6eLQ@mail.gmail.com>
 <CAGpPWDZHKJ8BvD3TqrvP=5pxbAc0ez-ikJmO6a51WDad1xuLSw@mail.gmail.com>
 <3mg9xnvKEhrXuQ5QriYQcLKmrhdYpO0hlxyRpJwZJZInyHCtva208PTZlIxglcq4afO8ftTFRBjRfG0ZEVPvIqxMJhHnFYpnPYTo_mp3qA0=@protonmail.com>
Message-ID: <y8kJCDDh8iJOVjnbBFCxPuMLz2yBxNF2kW_DuxIaC3OyMNSxNm_e3rZVKUR9aWpoq6xmRBSBuPU9lAF30eQXMsmFrP8ycSMxqi7LVJXeJ3A=@protonmail.com>

Good morning Billy, and list,

> -   Using an opcode would greatly increase CPU usage because the script cache would need to be reworked (and probably cannot be made to work).
> -   Adding a field would greatly increase the code complexity to the level of SegWit, without all the important bugfixes+features (tx malleability, quadratic sighash, well-defined extensible outputs) that SegWit provides.

Sometimes, the only way out is through.

A general idea to get around this would be:

* Define a "hidden" field of a transaction, which is not existent in *any* serialization of the transaction.
* Set a default value for this field that would be compatible with pre-softfork rules.
* Have an opcode that manipulates this field, carefully designed so it is idempotent.

The above general idea is not original to me, I believe.
I think I have seen it elsewhere on the list, possibly in discussions around sidechains, though my primary cache is unable to fetch and additional searches through unindexed storage is taking too long.

So, for this particular case, here is a (non-serious) proposal to implement a maximum block height on transactions.

* Create a new field `u32 nMaxHeight` on `CTransaction` that is not serialized in any transaction format.
  * A block is not valid if any transaction in it has an `nMaxHeight` larger than the block height of the block.
  * Default value is `0xFFFFFFFF`.
* Add a new opcode `OP_SETMAXHEIGHT` that replaces an existing `OP_NOP`.
  * The opcode must be followed by an `OP_PUSH` of a 32-bit value, else script validation fails.
    * This prevents using a computed value, instead the value must be given as a constant in the script text.
      This is a precaution to reduce the risk that execution of the script at a different time or different computer or etc will result in a different value that the `OP_SETMAXHEIGHT` opcode uses, which can cause consensus divergence.
      If we figure out later that this precaution is not necessary, we can just use another `OP_NOP` for `OP_SETMAXHEIGHTFROMSTACK`.
  * If the current `nMaxHeight` is larger than the given value, then the `nMaxHeight` is set to the given value.

The above avoids issues with opcodes --- the script interpreter can continue to be executed in the only place it is in, i.e. at entry into the mempool.
It also avoids some of the code complexity with fields, since the field is non-existent in any serialization of the transaction, but is instead implied by the scripts that the transaction causes to be executed, reducing the need to identify pre-softfork peers and baby-talk to them --- the baby-talk simply contains "parental bonuses" that are understood by upgraded nodes who are "in the know".

Additional complications, such as the need for an index of `nMaxHeight` for transactions in the mempool (to remove transactions whose `nMaxHeight` is now in the past), and the additional checks needed when receiving an in-block transaction that is not in the mempool, are left to the reader.
Similar field and opcode for `CTransactionInput` for a relative-time max height are also left as an exercise to the reader.

> -   You can do what you want with a second `nLockTime`d transaction that spends the output anyway.

The advantage of this functionality is that you can be safely offline at the time the timeout occurs in any complicated timeout-based contract.

Typically, when using say an HTLC, the contractor who holds lien on the timelock branch, has to be online at the time the timelock becomes valid, in order to impose a timeout on the hashlock branch.
However, if instead the hashlock branch includes an `OP_SETMAXHEIGHT`, then the contractor holding lien on the timelock branch does not have this risk.

However, the contractor holding the lien on the hashlock branch now has increased risk.
If the timeout is approaching, and suddenly there is high mempool usage at the time, then a claim of the hashlock branch may fall off the mempool due to `nMaxHeight` violation.
But the transaction claiming the hashlock branch has been published and the preimage has been published in mempools all over the world, thus the contractor holding lien on the hashlock branch risks not being compensated for revelation of the preimage.

Whereas with the current way things are, the timelock-holder is at risk, and the hashlock-holder has reduced risk since even if the timeout arrives, there is still the possibility that the hashlock branch is what gets confirmed, whereas with `OP_SETMAXHEIGHT` the hashlock-holder has 0 chance of getting the hashlock branch confirmed in case of sudden spike in onchain usaage.

Thus it seems to me that this scheme does not really *improve* Bitcoin significantly, it only moves risks from one participant to another in a two-participant contract.
Thus, this proposal is not particularly serious.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Mon May  3 04:02:07 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Mon, 03 May 2021 04:02:07 +0000
Subject: [bitcoin-dev] Fee estimates and RBF
In-Reply-To: <MZZT0_o--3-2@tutanota.de>
References: <MZZT0_o--3-2@tutanota.de>
Message-ID: <FD5iXWFzOy1VYbksNsxzhBg-NGiiedTutilM0qpo4jqU15BAjhaZ4hQSqUTJATW8Fjk2kOzKPoGNgZVRIppZlHf1d_7wcYOu9vZIEZ1-x9U=@protonmail.com>

Good morning Prayank,

I believe a "true" full-RBF wallet should be what every onchain wallet aspires to.

However, I think a lot of the effort necessary here has to do with sheer engineering issues.

For example, if you think "RBF does not exist", you can do things like:

* Spend an unconfirmed input from a third party.
  * This is not actually safe since an unconfirmed tx might have a conflicting transaction get confirmed, but a lot of onchain wallets support this for non-RBF unconfirmed inputs because 99.9% of the time this never happens.
* When you spend from a (confirmed or unconfirmed) input, delete it from your db forever (because you do not have to worry about alternate transactions spending the same input).
  * This simplifies db design, you do not have to keep track of states like "has been spent but tx is not confirmed yet", "has two different alternate transactions spending it that have not confirmed", "is on a transaction that is not confirmed and therefore this input might disappear completely" etc.

In particular, if we want a "true" full-RBF wallet:

* Suppose the user wants to spend some amount to address A.
  * The user imposes a limit on up to how much to spend on fees to have this spend happen.
* The wallet optimistically creates a low-fee send transaction.
* After some time, the wallet bumps up the fee by creating a new transaction.
  * The wallet keeps bumping up, up to the designated limit, the longer the transaction is not confirmed.

Of note is that there is a *race condition* in the above case.
When the wallet is bumping up and constructing a new transaction with higher fee, a miner could find a new block that has the old transaction with lower fee.

Now consider the subsequent user story.

* After some time, the user wants to spend another amount to address B.
  * Again the user imposes a limit on how much to spend on fees to have this spend happen.
* The wallet RBFs the existing transaction to include the spend to address B.

Again, a race condition can occur --- while the wallet is feebumping a new transaction that includes the new output, a random miner can find a new block that includes the old transaction.

Thus, the wallet really needs to keep track of any "pending spends" and correlate them with actual transactions.

Further, of course it is convenient to be able to spend money even while it is unconfirmed.
But the sender of the unconfirmed input might be using the same software as this wallet as well, meaning that the actual transaction output might change as the original spender keeps fee-bumping it over time.

I confess I have not been thinking of this as well as I should have.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Mon May  3 05:17:46 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Mon, 03 May 2021 05:17:46 +0000
Subject: [bitcoin-dev] BIP - limiting OP_RETURN / HF
In-Reply-To: <CAPv7TjaLF-LeEvyfHXs6-4E2cqwDK6qvEQHzwyRy9SUpFA5G=g@mail.gmail.com>
References: <CAK=nyAxOa8fsVfxucH7WTTMn25BCzgQ28h_sNsunedpCoRXjjQ@mail.gmail.com>
 <CABE6yHscUPAcyK58DvqhOnxSOoPMBAy9aMUmReJYSkBit-Mekg@mail.gmail.com>
 <CAPv7Tja=4ZFm5+gHw+wMcZyPEqeQiVx-AjyXsRn0T8a+tXHb1A@mail.gmail.com>
 <050674b8bc51cff11e0a6e105880b647@cock.li>
 <CAPv7TjaLF-LeEvyfHXs6-4E2cqwDK6qvEQHzwyRy9SUpFA5G=g@mail.gmail.com>
Message-ID: <1m_DMz6Z562s0k_NXlvCLxOeXwOUdF4-teyh_XgnEyB6jirU8wJVWkXxMWJi9GfNfc5H89X0ac0keYSzV60CETvH0UB-7YI2ZXhLLP3UOy4=@protonmail.com>

Good morning Ruben,

> Hi Yanmaani,
>
> >Merged mining at present only needs one hash for a merkle root, and that's stored in the coinbase.
>
> Yes, but that method is not "blind", meaning BTC miners have to validate?the merged-mined chain, which is a significant downside.
>
> >It would be even simpler to add the following rules
>
> That would require a specific soft fork, whereas the method described in my post avoids doing that.
>
> >do I need to put in a transaction that burns bitcoins for the tx fee
>
> The blind merged-mined chain (which I call a "spacechain") needs its own native token in order to pay for fees. The mechanism I proposed for that is the perpetual one-way peg, which allows fair "spacecoin" creation by burning BTC, and circumvents creating bad speculative altcoin incentives. Anyone can create a spacechain block and take the fees, and then try to get BTC miners to include it by paying a higher fee than others (via RBF).

What bothers me about BMM is the B.

Mainchain miners assume that sidechain functionaries check the sidechain rules.
Their rule is that if the sidechain functionary is willing to pay an amount, then obviously the sidechain functionary must benefit by at *least* that amount (if not, the sidechain functionary is losing funds over time and will go out of business at some point).
Thus the BMM is an economic incentive for sidechain functionaries to be honest, because dishonesty means that sidechain nodes will reject their blocks and they will have earned nothing in the sidechain that is of equal or greater value than what they spend on the mainchain.

But the BMM on mainchain is done by bidding.
Suppose a sidechain functionary creates a block where it gets S fees, and it pays (times any exchange rates that arise due to differing security profiles of mainchain vs sidechain) M in fess to mainchain miners to get its commitment on the mainchain.
Then any other competing sidechain functionary can create the same block except the S fees go to itself, and paying M+1 in fees to mainchain miners to get *that* commitment mainchain.
This triggers a bidding war.
Logically, further sidechain functionaries will now bid M+2 etc. until M=S (times exchange rates) and the highest bidder earns nothing.

That means that sidechain functionaries will not earn anything once there are at least 2 functionaries, because if there are two sidechain functionaries then they will start the above bidding war and all earnings go to mainchain miners, who are not actually validating anything in the sidechain.
So they are doing all this work of validating the sidechain blocks, but gain nothing thereby, and are thus not much better than fullnodes.

Even if you argue that the sidechain functionaries might gain economic benefit from the existence of the sidechain, that economic benefit can be quantified as some economic value, that can be exchanged at some exchange rate with some number of mainchain tokens, so M just rises above S by that economic benefit and sidechain functionaries will still end up earning 0 money.

If there is only one sidechain functionary the above bidding war does not occur, but then the entire sidechain depends on this one sidechain functionary.

So it does not seem to me that blinded merge mining would work at scale.
Maybe.

Regards,
ZmnSCPxj

From rsomsen at gmail.com  Tue May  4 12:51:14 2021
From: rsomsen at gmail.com (Ruben Somsen)
Date: Tue, 4 May 2021 14:51:14 +0200
Subject: [bitcoin-dev] BIP - limiting OP_RETURN / HF
In-Reply-To: <1m_DMz6Z562s0k_NXlvCLxOeXwOUdF4-teyh_XgnEyB6jirU8wJVWkXxMWJi9GfNfc5H89X0ac0keYSzV60CETvH0UB-7YI2ZXhLLP3UOy4=@protonmail.com>
References: <CAK=nyAxOa8fsVfxucH7WTTMn25BCzgQ28h_sNsunedpCoRXjjQ@mail.gmail.com>
 <CABE6yHscUPAcyK58DvqhOnxSOoPMBAy9aMUmReJYSkBit-Mekg@mail.gmail.com>
 <CAPv7Tja=4ZFm5+gHw+wMcZyPEqeQiVx-AjyXsRn0T8a+tXHb1A@mail.gmail.com>
 <050674b8bc51cff11e0a6e105880b647@cock.li>
 <CAPv7TjaLF-LeEvyfHXs6-4E2cqwDK6qvEQHzwyRy9SUpFA5G=g@mail.gmail.com>
 <1m_DMz6Z562s0k_NXlvCLxOeXwOUdF4-teyh_XgnEyB6jirU8wJVWkXxMWJi9GfNfc5H89X0ac0keYSzV60CETvH0UB-7YI2ZXhLLP3UOy4=@protonmail.com>
Message-ID: <CAPv7TjYpMRRH563BmhWu64g5LuLH=Q1NXdFS-8_ivKeFwqTCuA@mail.gmail.com>

Good evening ZmnSCPxj,

Thanks for thinking it through. I appreciate the time and effort.

>sidechain functionaries will not earn anything once there are at least 2
functionaries [...] they are doing all this work of validating the
sidechain blocks, but gain nothing [...] the entire sidechain depends on
this one sidechain functionary

I think your description is accurate, and while it may intuitively sound
problematic, it turns out it does not actually cause any issues.

Even in a scenario where one entity is consistently creating all the
spacechain blocks, they can only do so as long as they consistently leave 0
profit on the table for others. This is actually perfectly acceptable,
because that means this entity is not censoring anyone. As soon as they try
to abuse their position with censorship, it's trivial for anyone to step in
and outbid them.

How trivial, you may wonder? Well, there is very little difference between
being a spacechain miner and a spacechain user. Both are expected to run
full nodes, the only difference is that the miner has some BTC available
and is willing to use it to "mine" the block reward in the spacechain. This
means that the barrier for users to act as miners is low to the point where
it may happen altruistically, and, interestingly, it also doubles as an
appealing way for users to purchase spacecoins in a decentralized fashion.

Btw, I personally prefer not to call a "BMM chain" a sidechain, because in
my eyes it's not a sidechain if the chain has its own altcoin. The
spacechain design (which avoids the use of an altcoin) comes closer to
being a sidechain in that regard, but even there the use of the term
"sidechain" is debatable.

I hope this clarifies things.

Cheers,
Ruben





On Mon, May 3, 2021 at 7:17 AM ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:

> Good morning Ruben,
>
> > Hi Yanmaani,
> >
> > >Merged mining at present only needs one hash for a merkle root, and
> that's stored in the coinbase.
> >
> > Yes, but that method is not "blind", meaning BTC miners have to
> validate the merged-mined chain, which is a significant downside.
> >
> > >It would be even simpler to add the following rules
> >
> > That would require a specific soft fork, whereas the method described in
> my post avoids doing that.
> >
> > >do I need to put in a transaction that burns bitcoins for the tx fee
> >
> > The blind merged-mined chain (which I call a "spacechain") needs its own
> native token in order to pay for fees. The mechanism I proposed for that is
> the perpetual one-way peg, which allows fair "spacecoin" creation by
> burning BTC, and circumvents creating bad speculative altcoin incentives.
> Anyone can create a spacechain block and take the fees, and then try to get
> BTC miners to include it by paying a higher fee than others (via RBF).
>
> What bothers me about BMM is the B.
>
> Mainchain miners assume that sidechain functionaries check the sidechain
> rules.
> Their rule is that if the sidechain functionary is willing to pay an
> amount, then obviously the sidechain functionary must benefit by at *least*
> that amount (if not, the sidechain functionary is losing funds over time
> and will go out of business at some point).
> Thus the BMM is an economic incentive for sidechain functionaries to be
> honest, because dishonesty means that sidechain nodes will reject their
> blocks and they will have earned nothing in the sidechain that is of equal
> or greater value than what they spend on the mainchain.
>
> But the BMM on mainchain is done by bidding.
> Suppose a sidechain functionary creates a block where it gets S fees, and
> it pays (times any exchange rates that arise due to differing security
> profiles of mainchain vs sidechain) M in fess to mainchain miners to get
> its commitment on the mainchain.
> Then any other competing sidechain functionary can create the same block
> except the S fees go to itself, and paying M+1 in fees to mainchain miners
> to get *that* commitment mainchain.
> This triggers a bidding war.
> Logically, further sidechain functionaries will now bid M+2 etc. until M=S
> (times exchange rates) and the highest bidder earns nothing.
>
> That means that sidechain functionaries will not earn anything once there
> are at least 2 functionaries, because if there are two sidechain
> functionaries then they will start the above bidding war and all earnings
> go to mainchain miners, who are not actually validating anything in the
> sidechain.
> So they are doing all this work of validating the sidechain blocks, but
> gain nothing thereby, and are thus not much better than fullnodes.
>
> Even if you argue that the sidechain functionaries might gain economic
> benefit from the existence of the sidechain, that economic benefit can be
> quantified as some economic value, that can be exchanged at some exchange
> rate with some number of mainchain tokens, so M just rises above S by that
> economic benefit and sidechain functionaries will still end up earning 0
> money.
>
> If there is only one sidechain functionary the above bidding war does not
> occur, but then the entire sidechain depends on this one sidechain
> functionary.
>
> So it does not seem to me that blinded merge mining would work at scale.
> Maybe.
>
> Regards,
> ZmnSCPxj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210504/9e7e2fe4/attachment.html>

From Tobias at kaupat-hh.de  Wed May  5 17:32:05 2021
From: Tobias at kaupat-hh.de (Tobias Kaupat)
Date: Wed, 5 May 2021 19:32:05 +0200
Subject: [bitcoin-dev] Encryption of an existing BIP39 mnemonic without
	changing the seed
Message-ID: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>

Hi all,
I want to start a discussion about a use case I have and a possible
solution. I have not found any satisfying solution to this use case yet.

*Use case:*
An existing mnemonic (e.g. for a hardware wallet) should be saved on a
paper backup in a password encrypted form. The encrypted form should be a
mnemonic itself to keep all backup properties like error correction.

*Suggested solution:*
1) Take the existing mnemonic and extract the related entropy
2) Create a SHA526 hash (key) from a user defined password
3) Use the key as input for an AES CTR (empty IV) to encrypt the entropy
4) Derive a new mnemonic from the encrypted entropy to be stored on a paper
backup

We can add some hints to the paper backp that the mnemonic is encrypted, or
prefix it with "*" to make clear it's not usable without applying the
password via the algorithm above.

To restore the original mnemonic, one must know the password and need to
follow the process above again.

An example implementation in GoLang can be found here:
https://github.com/Niondir/go-bip39/blob/master/encyrption_test.go

*Why not use the existing BIP-39 Passphrase?*
When generating a mnemonic with passphrase, the entropy is derived from the
passphrase. When you have an existing mnemonic without a passphrase, any
attempt to add a passphrase will end up in a different seed and thus a
different private key. What we actually need is to encrypt the entropy.

I'm open for your feedback. All encryption parameters are up to discussion
and the whole proposal needs a security review. It's just the first draft.

*Existing solutions*
One solution I found is "Seedshift" which can be found here:
https://github.com/mifunetoshiro/Seedshift

But I consider it less secure and I would like to suggest a solution based
on provably secure algorithms rather than a "rot23 derivation". Also using
a date as password seems not very clever to me.

Kind regards
Tobias
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210505/3e25a360/attachment.html>

From prayank at tutanota.de  Thu May  6 01:57:59 2021
From: prayank at tutanota.de (Prayank)
Date: Thu, 6 May 2021 03:57:59 +0200 (CEST)
Subject: [bitcoin-dev] Fee estimates and RBF
In-Reply-To: <FD5iXWFzOy1VYbksNsxzhBg-NGiiedTutilM0qpo4jqU15BAjhaZ4hQSqUTJATW8Fjk2kOzKPoGNgZVRIppZlHf1d_7wcYOu9vZIEZ1-x9U=@protonmail.com>
References: <MZZT0_o--3-2@tutanota.de>
 <FD5iXWFzOy1VYbksNsxzhBg-NGiiedTutilM0qpo4jqU15BAjhaZ4hQSqUTJATW8Fjk2kOzKPoGNgZVRIppZlHf1d_7wcYOu9vZIEZ1-x9U=@protonmail.com>
Message-ID: <MZzOKmO--3-2@tutanota.de>

Good morning ZmnSCPxj,

Thanks for your response. I agree there are few exceptions:?

1.Unconfirmed output can be spent resulting in conflict with RBF
2.Race condition and mining pool may include old transaction with low fee
I am trying few things related to RBF and handling such exceptions, will share if I find anything interesting.
-- 
Prayank

May 3, 2021, 09:32 by ZmnSCPxj at protonmail.com:

> Good morning Prayank,
>
> I believe a "true" full-RBF wallet should be what every onchain wallet aspires to.
>
> However, I think a lot of the effort necessary here has to do with sheer engineering issues.
>
> For example, if you think "RBF does not exist", you can do things like:
>
> * Spend an unconfirmed input from a third party.
>  * This is not actually safe since an unconfirmed tx might have a conflicting transaction get confirmed, but a lot of onchain wallets support this for non-RBF unconfirmed inputs because 99.9% of the time this never happens.
> * When you spend from a (confirmed or unconfirmed) input, delete it from your db forever (because you do not have to worry about alternate transactions spending the same input).
>  * This simplifies db design, you do not have to keep track of states like "has been spent but tx is not confirmed yet", "has two different alternate transactions spending it that have not confirmed", "is on a transaction that is not confirmed and therefore this input might disappear completely" etc.
>
> In particular, if we want a "true" full-RBF wallet:
>
> * Suppose the user wants to spend some amount to address A.
>  * The user imposes a limit on up to how much to spend on fees to have this spend happen.
> * The wallet optimistically creates a low-fee send transaction.
> * After some time, the wallet bumps up the fee by creating a new transaction.
>  * The wallet keeps bumping up, up to the designated limit, the longer the transaction is not confirmed.
>
> Of note is that there is a *race condition* in the above case.
> When the wallet is bumping up and constructing a new transaction with higher fee, a miner could find a new block that has the old transaction with lower fee.
>
> Now consider the subsequent user story.
>
> * After some time, the user wants to spend another amount to address B.
>  * Again the user imposes a limit on how much to spend on fees to have this spend happen.
> * The wallet RBFs the existing transaction to include the spend to address B.
>
> Again, a race condition can occur --- while the wallet is feebumping a new transaction that includes the new output, a random miner can find a new block that includes the old transaction.
>
> Thus, the wallet really needs to keep track of any "pending spends" and correlate them with actual transactions.
>
> Further, of course it is convenient to be able to spend money even while it is unconfirmed.
> But the sender of the unconfirmed input might be using the same software as this wallet as well, meaning that the actual transaction output might change as the original spender keeps fee-bumping it over time.
>
> I confess I have not been thinking of this as well as I should have.
>
> Regards,
> ZmnSCPxj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210506/a77cc71c/attachment.html>

From peter at coinkite.com  Thu May  6 12:56:37 2021
From: peter at coinkite.com (Peter D. Gray)
Date: Thu, 6 May 2021 08:56:37 -0400
Subject: [bitcoin-dev] Encryption of an existing BIP39 mnemonic without
 changing the seed
In-Reply-To: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>
References: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>
Message-ID: <20210506125637.GF1239@coinkite.com>

Hi Tobias.

The most recent release of Coldcard now offers "Seed XOR" to solve
similar problems. It allows any numbers of standard BIP-39
compatible seed phrases to be bitwise XOR'ed together to make a new seed.

Coldcard can split an existing seed into 2, 3 or 4 new phrases, or
you can take your existing seed phrase, and XOR-in a new seed phrase
to arrive at a new random seed phrase (and wallet).

More details about this feature at: <https://seedxor.com>

Best part is XOR is simple enough that the split or combine operation can
be worked out by hand on paper. (We even made a worksheet for this.)
The checksums on each of the XOR parts protects the final result, and
each "part" is a fully functional decoy wallet.

Hope that helps!

On Wed, May 05, 2021 at 07:32:05PM +0200, Tobias Kaupat wrote:
> Hi all,
> I want to start a discussion about a use case I have and a possible
> solution. I have not found any satisfying solution to this use case yet.
> 
> *Use case:*
> An existing mnemonic (e.g. for a hardware wallet) should be saved on a
> paper backup in a password encrypted form. The encrypted form should be a
> mnemonic itself to keep all backup properties like error correction.
> 
> *Suggested solution:*
> 1) Take the existing mnemonic and extract the related entropy
> 2) Create a SHA526 hash (key) from a user defined password
> 3) Use the key as input for an AES CTR (empty IV) to encrypt the entropy
> 4) Derive a new mnemonic from the encrypted entropy to be stored on a paper
> backup
...
> *Existing solutions*
> One solution I found is "Seedshift" which can be found here:
> https://github.com/mifunetoshiro/Seedshift
> 
> But I consider it less secure and I would like to suggest a solution based
> on provably secure algorithms rather than a "rot23 derivation". Also using
> a date as password seems not very clever to me.
> 
> Kind regards
> Tobias

---
@DocHEX  ||  Coinkite  ||  PGP: A3A31BAD 5A2A5B10

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: not available
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210506/a6b3fc68/attachment.sig>

From erik at q32.com  Thu May  6 13:19:31 2021
From: erik at q32.com (Erik Aronesty)
Date: Thu, 6 May 2021 09:19:31 -0400
Subject: [bitcoin-dev] Encryption of an existing BIP39 mnemonic without
 changing the seed
In-Reply-To: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>
References: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>
Message-ID: <CAJowKg+bpobZq3KfqwO6Rb-tKNw_N-tXoXFE84SdE0jjnc6i3g@mail.gmail.com>

i would stretch the password, with pbkdf2 or argon2 with like 30k
rounds or something first, rather than "just hashing it".  remember,
it's pretty easy to validate these seeds - not like you lock someone
out after 9 guesses!

On Wed, May 5, 2021 at 3:38 PM Tobias Kaupat via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org> wrote:
>
> Hi all,
> I want to start a discussion about a use case I have and a possible solution. I have not found any satisfying solution to this use case yet.
>
> Use case:
> An existing mnemonic (e.g. for a hardware wallet) should be saved on a paper backup in a password encrypted form. The encrypted form should be a mnemonic itself to keep all backup properties like error correction.
>
> Suggested solution:
> 1) Take the existing mnemonic and extract the related entropy
> 2) Create a SHA526 hash (key) from a user defined password
> 3) Use the key as input for an AES CTR (empty IV) to encrypt the entropy
> 4) Derive a new mnemonic from the encrypted entropy to be stored on a paper backup
>
> We can add some hints to the paper backp that the mnemonic is encrypted, or prefix it with "*" to make clear it's not usable without applying the password via the algorithm above.
>
> To restore the original mnemonic, one must know the password and need to follow the process above again.
>
> An example implementation in GoLang can be found here:
> https://github.com/Niondir/go-bip39/blob/master/encyrption_test.go
>
> Why not use the existing BIP-39 Passphrase?
> When generating a mnemonic with passphrase, the entropy is derived from the passphrase. When you have an existing mnemonic without a passphrase, any attempt to add a passphrase will end up in a different seed and thus a different private key. What we actually need is to encrypt the entropy.
>
> I'm open for your feedback. All encryption parameters are up to discussion and the whole proposal needs a security review. It's just the first draft.
>
> Existing solutions
> One solution I found is "Seedshift" which can be found here: https://github.com/mifunetoshiro/Seedshift
>
> But I consider it less secure and I would like to suggest a solution based on provably secure algorithms rather than a "rot23 derivation". Also using a date as password seems not very clever to me.
>
> Kind regards
> Tobias
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From antoine.riard at gmail.com  Thu May  6 13:55:53 2021
From: antoine.riard at gmail.com (Antoine Riard)
Date: Thu, 6 May 2021 09:55:53 -0400
Subject: [bitcoin-dev] Full Disclosure: CVE-2021-31876 Defect in Bitcoin
	Core's bip125 logic
Message-ID: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>

Hi,

I'm writing to report a defect in Bitcoin Core bip125 logic with minor
security and operational implications for downstream projects. Though this
defect grieves Bitcoin Core nodes 0.12.0 and above, base layer safety isn't
impacted.

# Problem

Bip 125 specification describes the following signalling mechanism :

"
This policy specifies two ways a transaction can signal that it is
replaceable.

* Explicit signaling: A transaction is considered to have opted in to
allowing replacement of itself if any of its inputs have an nSequence
number less than (0xffffffff - 1).

* Inherited signaling: Transactions that don't explicitly signal
replaceability are replaceable under this policy for as long as any one of
their ancestors signals replaceability and remains unconfirmed.

One or more transactions currently in the mempool (original transactions)
will be replaced by a new transaction (replacement transaction) that spends
one or more of the same inputs if,

# The original transactions signal replaceability explicitly or through
inheritance as described in the above Summary section.
"

An unconfirmed child transaction with nSequence = 0xff_ff_ff_ff spending an
unconfirmed parent with nSequence <= 0xff_ff_ff_fd should be replaceable as
the child transaction signals "through inheritance". However, the
replacement code as implemented in Core's `PreChecks()` shows that this
behavior isn't  enforced and Core's mempool rejects replacement attempts of
an unconfirmed child transaction.

Branch asserting the behavior is here :
https://github.com/ariard/bitcoin/commits/2021-03-test-rbf

# Solution

The defect has not been patched.

# Downstream Projects Affected

* LN : State-of-the-art pinning attacks against second-stage HTLCs
transactions were thought to be only possible by exploiting RBF rule 3 on
the necessity of a higher absolute fee [0]. However, this replacement
defect opens the way for an attacker to only pin with an opt-out child
without a higher fee than the honest competing transaction. This lowers the
cost of attack as the malicious pinning transaction only has to be above
mempools'min feerate. This also increases odds of attack success for a
reduced feerate diminishes odds of confirmation ending the pinning.

A functional test demo illustrating cases is available on this branch:
https://github.com/ariard/bitcoin/commits/2021-05-htlc-preimage-pinnings

LN nodes operators concerned by this defect might favor anchor outputs
channels, fully mitigating this specific pinning vector.

* Onchain DLC/Coinswap/Vault : Those contract protocols have also multiple
stages of execution with time-sensitive transactions opening the way to
pinning attacks. Those protocols being non-deployed or in early phase, I
would recommend that any in-protocol competing transactions explicitly
signal RBF.

* Coinjoin/Cut-Through : if CPFP is employed as a fee-bumping strategy, if
the coinjoin transaction is still laying in network mempools, if a
fee-bumping output is spendable by any protocol participant, this
fee-bumping mechanism might be halted by a malicious protocol participant
broadcasting an low-feerate opt-out child. According to bip125, if the
coinjoin parent tx signals replaceability, the child transaction should be
replaceable, whatever its signaling. However Core doesn't apply this
policy. RBF of the coinjoin transaction itself should be used as a
fallback. I'm not aware of any deployed coinjoin using such
"anyone-can-bump" fee-bumping strategy.

* Simple wallets : RBF engines' behaviors might be altered in ways not
matching the intent of their developers. I invite RBF engines dev to verify
what those components are doing in the light of disclosed information.

# Discovery

While reviewing the LN dual-funding flow, I inquired on potential new DoS
vectors introduced by relying on counterparty utxos in this following
analysis [1]. The second DoS issue "RBF opt-out by a Counterparty
Double-Spend" is relying on a malicious chain of transactions where the
parent is signaling RBF opt-in through nSequence<=0xff_ff_ff_ff-1 but the
child, servicing as a pinning transaction, opt-out from the RBF policy.
This pinning trick conception was matching my understanding of Core code
but while reading again the specification, I observed that it was
inconsistent from the inherited signaling mechanism as described in the
bip's "Summary" section.

After exercising the logic, I did submit the defect to Dave Harding, asking
confirmation of divergence between Bitcoin Core and BIP 125. Soon after, he
did confirm it and pointed that the defect has been there since the 2015's
PR introducing the opt-in RBF, advicing to to consider security
implications for deployed second-layer protocols. After noticing the minor
implications for pinning attacks on second-stage LN transactions while
talking with Matt Corallo, I did disclose to the Bitcoin Core security list.

My initial report was recommending avoiding a covert patch in the mempool
as risks of introducing DoS in this part of the codebase seemed to outweigh
security of deployed LN channels. This direction was agreed by the opinions
expressed on the security list. Beyond, there was a lack of agreement on
how to proceed with the disclosure as so far in the history project,
transaction relay policy have not been considered as strongly reliable.
Though from now on, L2 protocols like Lightning are making assumptions on
subset of this policy for their safety, such as the highlighted RBF one.

Defect was disclosed to the LN projects maintainers, informing them that
currently in deployment anchor outputs protocol upgrade was mitigating
against this defect though old channels will stay vulnerable. To the best
of my knowledge, I didn't identify other deployed protocols of which coins
safety are impacted by this defect.

# Ecosystem Observations

This long-standing defect with benign security implications provided an
opportunity to exercise coordinated security disclosure across layers and
development teams.

IMO, it underlies few interesting points:
* the lack of an established policy for coordinated security disclosures
between a base layer implementation and its downstream projects
* the lack of a clear methodology to identify downstream projects affected
by a transaction relay policy wreckage
* the lack of minimally-disruptive, emergency upgrade mechanisms
implemented by downstream projects [2]

Finally, security implications for downstream projects provoked by base
layer issues shouldn't be minimized as they do have a risk of windblow on
base layer operations. I believe we should minimize risks of disaster
scenarios such as thousands of LN channels manually closed by worried
operators due to a non-concerted security disclosure, provoking mempool
cloaks and disrupting regular transactions for a while.

# Timeline

2021-03-18 : Defect discovered, report to Dave Harding original author of
bip125, confirmation of the defect
2021-03-19 : Disclosure to the Bitcoin Core security list, Dave Harding,
Matt Corallo, acknowledgment of the issue
2021-04-05 : Disclosure to the LN projects maintainers (c-lightning, lnd,
eclair, electrum, rust-lightning)
2021-04-28 : CVE-2021-31876 assigned
2021-05-06 : Full disclosure to the bitcoin-dev mailing list

I believe the information reported is correct and reflects the best of my
knowledge, please point any shortcoming.

Cheers,
Antoine

[0]
https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-April/002639.html
[1] See "On Mempool Funny Games against Multi-Party Funded Transactions",
published 2021-05-06
[2] Such as
https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-July/002763.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210506/80fed090/attachment-0001.html>

From Tobias at kaupat-hh.de  Thu May  6 14:10:31 2021
From: Tobias at kaupat-hh.de (Tobias Kaupat)
Date: Thu, 6 May 2021 16:10:31 +0200
Subject: [bitcoin-dev] Encryption of an existing BIP39 mnemonic without
 changing the seed
In-Reply-To: <CAJowKg+bpobZq3KfqwO6Rb-tKNw_N-tXoXFE84SdE0jjnc6i3g@mail.gmail.com>
References: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>
 <CAJowKg+bpobZq3KfqwO6Rb-tKNw_N-tXoXFE84SdE0jjnc6i3g@mail.gmail.com>
Message-ID: <CAPyCnfuPdxUa7xRKt+7q92jP3cG4wrjnU9SajwCf19Bc-8=A_w@mail.gmail.com>

Hello Erik,
Thanks for your reply.
After a little research I came to the same conclusion. PDKDF2 makes sense,
since it is already used in BIP39.
I will update my code.



Regarding SeedXOR:
That's at least a similar solution, but than I have to store 2 phrases, I
really like to keep one part in my head, which is only possible with a
password.
Plus for anyone who want to use two seeds my proposal also works - it just
needs software to be applied.

Kind regards
Tobias Kaupat



Erik Aronesty <erik at q32.com> schrieb am Do., 6. Mai 2021, 15:19:

> i would stretch the password, with pbkdf2 or argon2 with like 30k
> rounds or something first, rather than "just hashing it".  remember,
> it's pretty easy to validate these seeds - not like you lock someone
> out after 9 guesses!
>
> On Wed, May 5, 2021 at 3:38 PM Tobias Kaupat via bitcoin-dev
> <bitcoin-dev at lists.linuxfoundation.org> wrote:
> >
> > Hi all,
> > I want to start a discussion about a use case I have and a possible
> solution. I have not found any satisfying solution to this use case yet.
> >
> > Use case:
> > An existing mnemonic (e.g. for a hardware wallet) should be saved on a
> paper backup in a password encrypted form. The encrypted form should be a
> mnemonic itself to keep all backup properties like error correction.
> >
> > Suggested solution:
> > 1) Take the existing mnemonic and extract the related entropy
> > 2) Create a SHA526 hash (key) from a user defined password
> > 3) Use the key as input for an AES CTR (empty IV) to encrypt the entropy
> > 4) Derive a new mnemonic from the encrypted entropy to be stored on a
> paper backup
> >
> > We can add some hints to the paper backp that the mnemonic is encrypted,
> or prefix it with "*" to make clear it's not usable without applying the
> password via the algorithm above.
> >
> > To restore the original mnemonic, one must know the password and need to
> follow the process above again.
> >
> > An example implementation in GoLang can be found here:
> > https://github.com/Niondir/go-bip39/blob/master/encyrption_test.go
> >
> > Why not use the existing BIP-39 Passphrase?
> > When generating a mnemonic with passphrase, the entropy is derived from
> the passphrase. When you have an existing mnemonic without a passphrase,
> any attempt to add a passphrase will end up in a different seed and thus a
> different private key. What we actually need is to encrypt the entropy.
> >
> > I'm open for your feedback. All encryption parameters are up to
> discussion and the whole proposal needs a security review. It's just the
> first draft.
> >
> > Existing solutions
> > One solution I found is "Seedshift" which can be found here:
> https://github.com/mifunetoshiro/Seedshift
> >
> > But I consider it less secure and I would like to suggest a solution
> based on provably secure algorithms rather than a "rot23 derivation". Also
> using a date as password seems not very clever to me.
> >
> > Kind regards
> > Tobias
> > _______________________________________________
> > bitcoin-dev mailing list
> > bitcoin-dev at lists.linuxfoundation.org
> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210506/49c0c183/attachment.html>

From SatoshiSingh at protonmail.com  Fri May  7 17:17:24 2021
From: SatoshiSingh at protonmail.com (SatoshiSingh)
Date: Fri, 07 May 2021 17:17:24 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
Message-ID: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>

Hello list,

I am a lurker here and like many of you I worry about the energy usage of bitcoin mining. I understand a lot mining happens with renewable resources but the impact is still high.

I want to get your opinion on implementing proof of stake for bitcoin mining in future. For now, proof of stake is still untested and not battle tested like proof of work. Though someday it will be.

In the following years we'll be seeing proof of stake being implemented. Smaller networks can test PoS which is a luxury bitcoin can't afford. Here's how I see this the possibilities:

1 - Proof of stake isn't a good enough security mechanism
2 - Proof of state is a good security mechanism and works as intended

IF PoS turns out to be good after battle testing, would you consider implementing it for Bitcoin? I understand this would invoke a lot of controversies and a hard fork that no one likes. But its important enough to consider a hard fork. What are your opinions provided PoS does work?

Love from India.

From eric at voskuil.org  Fri May  7 23:04:19 2021
From: eric at voskuil.org (Eric Voskuil)
Date: Fri, 7 May 2021 16:04:19 -0700
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
Message-ID: <6C68BF06-522B-41D3-BF3A-17D900C51BD1@voskuil.org>

https://github.com/libbitcoin/libbitcoin-system/wiki/Proof-of-Stake-Fallacy

> On May 7, 2021, at 15:50, SatoshiSingh via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
> 
> ?Hello list,
> 
> I am a lurker here and like many of you I worry about the energy usage of bitcoin mining. I understand a lot mining happens with renewable resources but the impact is still high.
> 
> I want to get your opinion on implementing proof of stake for bitcoin mining in future. For now, proof of stake is still untested and not battle tested like proof of work. Though someday it will be.
> 
> In the following years we'll be seeing proof of stake being implemented. Smaller networks can test PoS which is a luxury bitcoin can't afford. Here's how I see this the possibilities:
> 
> 1 - Proof of stake isn't a good enough security mechanism
> 2 - Proof of state is a good security mechanism and works as intended
> 
> IF PoS turns out to be good after battle testing, would you consider implementing it for Bitcoin? I understand this would invoke a lot of controversies and a hard fork that no one likes. But its important enough to consider a hard fork. What are your opinions provided PoS does work?
> 
> Love from India.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210507/ed773f98/attachment.html>

From jlrubin at mit.edu  Fri May  7 23:19:48 2021
From: jlrubin at mit.edu (Jeremy)
Date: Fri, 7 May 2021 16:19:48 -0700
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
Message-ID: <CAD5xwhi9fxgzYXCsWLUYJ1Bw7Txxnnsm46ySnJTEAiDxqg9UQA@mail.gmail.com>

Proof-of-stake tends towards oligopolistic control, which is antithetical
to bitcoin.

Proof-of-stake also has some other security issues that make it a bad
substitute for Proof-of-work with respect to equivocation (reorgs).

Overall you'll find me *personally* in the camp that it's OK to explore
non-PoW means of consensus long term that can keep the network in consensus
in a more capital efficient manner, but that proof-of-stake is not such a
substitute. Other Bitcoiners will disagree with this invariably, but if you
truly have a novel solution for Byzantine Generals, it would be a major
contribution to not just Bitcoin but the field of computer science as a
whole and would likely get due consideration.

What's difficult is that Bitcoin PoW has some very specific properties that
may or may not be desirable around e.g. fairness that might be difficult to
ensure in other systems, so there is probably more to the puzzle than just
consensus.
--
@JeremyRubin <https://twitter.com/JeremyRubin>
<https://twitter.com/JeremyRubin>


On Fri, May 7, 2021 at 3:50 PM SatoshiSingh via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hello list,
>
> I am a lurker here and like many of you I worry about the energy usage of
> bitcoin mining. I understand a lot mining happens with renewable resources
> but the impact is still high.
>
> I want to get your opinion on implementing proof of stake for bitcoin
> mining in future. For now, proof of stake is still untested and not battle
> tested like proof of work. Though someday it will be.
>
> In the following years we'll be seeing proof of stake being implemented.
> Smaller networks can test PoS which is a luxury bitcoin can't afford.
> Here's how I see this the possibilities:
>
> 1 - Proof of stake isn't a good enough security mechanism
> 2 - Proof of state is a good security mechanism and works as intended
>
> IF PoS turns out to be good after battle testing, would you consider
> implementing it for Bitcoin? I understand this would invoke a lot of
> controversies and a hard fork that no one likes. But its important enough
> to consider a hard fork. What are your opinions provided PoS does work?
>
> Love from India.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210507/bdc3653f/attachment.html>

From honest69abe at protonmail.com  Sat May  8 02:40:34 2021
From: honest69abe at protonmail.com (honest69abe)
Date: Sat, 08 May 2021 02:40:34 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAD5xwhi9fxgzYXCsWLUYJ1Bw7Txxnnsm46ySnJTEAiDxqg9UQA@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAD5xwhi9fxgzYXCsWLUYJ1Bw7Txxnnsm46ySnJTEAiDxqg9UQA@mail.gmail.com>
Message-ID: <EmeXoxWiQfJsJqUqUtd9dfiBaxyILASksimq7iGF0_O8HH2UV-RaMRUlHCb_xhcA61hlK4hMeooafgDIVFxCDgo_ms3otRS9aU0dR3oHtvA=@protonmail.com>

And to address your energy usage concern:

Energy usage, in-and-of-itself, is nothing to be ashamed of!! It's the composition of that energy usage that could be shameful. There is much debate currently about what that composition is for Bitcoin, but those estimates range from between 20-80% renewable. However, where it currently stands is largely irrelevant...

What is more important;
Bitcoin mining introduces the first free-market demand for the cheapest energy source.

I think most people are unaware of how impactful this is.

Renewable energies have crossed over into being the cheapest forms of energy and are still declining at steep rates. Estimates from the International Renewable Energy Agency breakdown the Levelized Cost of Energy as such: Geothermal ($0.05-0.1/kWh), Coal (0.06-0.07), natural gas (0.04-0.07), wind (0.02-0.05), solar (0.03-0.04), hydro (0.01-0.04).

Thus, Bitcoin is the first intrinsic incentive for humans to invest in cheapest energy, which happen to be the cleanest forms of energy.

Bitcoin as a free-market energy generation incentive that doesn't also optimize for human habitability will be civilizationally changing. E.g. solar farms in deserts, high-altitude wind.

Welcome to any thoughts and criticisms of my thinking here

Sent from ProtonMail mobile

-------- Original Message --------
On May 7, 2021, 7:19 PM, Jeremy via bitcoin-dev wrote:

> Proof-of-stake tends towards oligopolistic control, which is antithetical to bitcoin.
>
> Proof-of-stake also has some other security issues that make it a bad substitute for Proof-of-work with respect to equivocation (reorgs).
>
> Overall you'll find me personally in the camp that it's OK to explore non-PoW means of consensus long term that can keep the network in consensus in a more capital efficient manner, but that proof-of-stake is not such a substitute. Other Bitcoiners will disagree with this invariably, but if you truly have a novel solution for Byzantine Generals, it would be a major contribution to not just Bitcoin but the field of computer science as a whole and would likely get due consideration.
>
> What's difficult is that Bitcoin PoW has some very specific properties that may or may not be desirable around e.g. fairness that might be difficult to ensure in other systems, so there is probably more to the puzzle than just consensus.
> --
> [@JeremyRubin](https://twitter.com/JeremyRubin)https://twitter.com/JeremyRubin
>
> On Fri, May 7, 2021 at 3:50 PM SatoshiSingh via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Hello list,
>>
>> I am a lurker here and like many of you I worry about the energy usage of bitcoin mining. I understand a lot mining happens with renewable resources but the impact is still high.
>>
>> I want to get your opinion on implementing proof of stake for bitcoin mining in future. For now, proof of stake is still untested and not battle tested like proof of work. Though someday it will be.
>>
>> In the following years we'll be seeing proof of stake being implemented. Smaller networks can test PoS which is a luxury bitcoin can't afford. Here's how I see this the possibilities:
>>
>> 1 - Proof of stake isn't a good enough security mechanism
>> 2 - Proof of state is a good security mechanism and works as intended
>>
>> IF PoS turns out to be good after battle testing, would you consider implementing it for Bitcoin? I understand this would invoke a lot of controversies and a hard fork that no one likes. But its important enough to consider a hard fork. What are your opinions provided PoS does work?
>>
>> Love from India.
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210508/f555e3c8/attachment.html>

From prayank at tutanota.de  Sat May  8 10:21:04 2021
From: prayank at tutanota.de (Prayank)
Date: Sat, 8 May 2021 12:21:04 +0200 (CEST)
Subject: [bitcoin-dev] Opinion on proof of stake in future
Message-ID: <M_AUeYf--F-2@tutanota.de>

My opinion:

1.I don't consider PoS to be a better consensus mechanism compared to PoW used in Bitcoin. So any proposal related to PoS in Bitcoin is not an improvement for me.
?
2.Bitcoin is a protocol for decentralized network that creates consensus without needing a central authority to provide trust. Bitcoin with PoS will be a protocol for a network that creates consensus based on bitcoin holdings.

3.Experiments with PoS can work in trust minimized applications that use Bitcoin or LN or Bitcoin sidechains. However, PoW works better for base layer or Bitcoin protocol.

4.Bitcoin protocol should not be changed based on mainstream media articles, new buzzwords or trends, altcoins, governments etc.?

5.Everything involves trade-offs. Not everything needs to be online. Not everything needs to be on a chain of blocks. There are things that you would prefer to save in a spreadsheet offline or write on a paper. Similarly PoS is not the best consensus mechanism for a 'decentralized network' but it may work for projects(not decentralized) that want to use Bitcoin for few things.

6.Most of the Bitcoin users and devs consider PoW used in Bitcoin as the best consensus mechanism. Few people experimenting with PoS will result in another altcoin with nothing much to contribute in improving Bitcoin. I think there are better things to focus on and one of them is privacy.

Few things related to Bitcoin mining that I consider improvements:

-Stratum v2
-More countries started mining bitcoin recently
-Recycling ASIC heat:?https://braiins.com/blog/green-innovation-in-bitcoin-mining-recycling-asic-heat

I would love to see people in India researching about creating better ASICs and more involved in Bitcoin mining.?

Related links:

https://bitcoin.stackexchange.com/questions/95356/why-doesnt-bitcoin-migrate-to-proof-of-stake

https://download.wpsoftware.net/bitcoin/asic-faq.pdf?(Andrew Poelstra)

https://medium.com/@dsl_uiuc/fake-stake-attacks-on-chain-based-proof-of-stake-cryptocurrencies-b8b05723f806


-- 
 Prayank
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210508/ba41a1a9/attachment.html>

From eric at ericmartindale.com  Sat May  8 13:44:24 2021
From: eric at ericmartindale.com (Eric Martindale)
Date: Sat, 8 May 2021 09:44:24 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
Message-ID: <CAAf19Wq4Bbte5aKJKZVyvesWQ-=HVmH17rz6rE=w8=7sN7rgmw@mail.gmail.com>

Mr. Singh,

Proof of Stake is only resilient to ? of the network demonstrating a
Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold.
You can explore prior research here:
https://download.wpsoftware.net/bitcoin/pos.pdf

Independent of the security thresholds, Proof of Stake requires other
trade-offs which are incompatible with Bitcoin's objective (to be a
trustless digital cash) ? specifically the famous "security vs. liveness"
guarantee.  Digital cash is not useful if it must be globally halted to
ensure its security, and Proof of Work squarely addresses this concern.

Above and beyond any security consideration, Proof of Stake incentivizes
the accumulation of wealth within a small set of actors, which is
undesirable for the long-term health of any such network.  If we are to
free humanity from the tyranny of the State, we must do so by protecting
the rights of every individual to hold and preserve their own value,
without trusting any third party.  Entrusting the health of the network to
the "economic elite" is the paramount evil with respect to Bitcoin's
objectives, nevermind that Proof of Work relies on energy expenditure to
provide its security.

Sincerely,

Eric Martindale, relentless maker.
Founder & CEO, Fabric, Inc. <https://fabric.fm>
+1 (919) 374-2020


On Fri, May 7, 2021 at 6:50 PM SatoshiSingh via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hello list,
>
> I am a lurker here and like many of you I worry about the energy usage of
> bitcoin mining. I understand a lot mining happens with renewable resources
> but the impact is still high.
>
> I want to get your opinion on implementing proof of stake for bitcoin
> mining in future. For now, proof of stake is still untested and not battle
> tested like proof of work. Though someday it will be.
>
> In the following years we'll be seeing proof of stake being implemented.
> Smaller networks can test PoS which is a luxury bitcoin can't afford.
> Here's how I see this the possibilities:
>
> 1 - Proof of stake isn't a good enough security mechanism
> 2 - Proof of state is a good security mechanism and works as intended
>
> IF PoS turns out to be good after battle testing, would you consider
> implementing it for Bitcoin? I understand this would invoke a lot of
> controversies and a hard fork that no one likes. But its important enough
> to consider a hard fork. What are your opinions provided PoS does work?
>
> Love from India.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210508/28d52c41/attachment-0001.html>

From gmkarl at gmail.com  Sat May  8 14:33:31 2021
From: gmkarl at gmail.com (Karl)
Date: Sat, 8 May 2021 10:33:31 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <6C68BF06-522B-41D3-BF3A-17D900C51BD1@voskuil.org>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <6C68BF06-522B-41D3-BF3A-17D900C51BD1@voskuil.org>
Message-ID: <CALL-=e7E1KhnfuTQoZ8BB4xNgjkZSsbE3NXHc13ObtJQtZOF3A@mail.gmail.com>

Bitcoin would get better mainstream public reputation if the block reward
were reduced to reduce mining.  This would quickly and easily reduce energy
expenditure.

A system would be needed to do that with consensus, to make it political.
For example, making a norm of extending the block reward termination
farther into the future, spreading the remaining coins out more thinly, but
never doing the opposite.

PoS can be made to work but it's hard to do so amid such disagreement.  It
is so hard to express one's relevant information concisely and effectively.

I recommended earlier finding or hiring an experienced facilitator who
could make sure all concerns around the chain are included by engaging all
the dialog more productively.  Somebody would need to be available to do
the work of finding such a person and any compensation they might need.

On Fri, May 7, 2021, 7:05 PM Eric Voskuil via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> https://github.com/libbitcoin/libbitcoin-system/wiki/Proof-of-Stake-Fallacy
>

This wiki states things as impossible but does not at all demonstrate them
to be so.

The assumption that something is impossible always relies on many other
assumptions, and the reader may have different ones from the author.

Quote from Proof-of-Stake-Fallacy
> In Other Means Principle it is shown that censorship resistance depends
on people paying miners to overpower the censor.
> Overcoming censorship is not possible in a PoS system, as the censor has
acquired majority stake and cannot be unseated.

If the link in that text is followed you get,

Quote from Other Means Principle:
> Given that mining is necessarily anonymous, there is no way for the
economy to prevent state participation in mining.

The article then goes on to assume this, but "no way" is a circular link
back to Proof-of-Stake-Fallacy!

Never is it demonstrated that a censor will always be able to have majority
stake.  In a PoS system, they would have to be able to form false chain
histories to do that.  In a PoW system, they would have to outcompete the
work.

These are not inherent limitations.  The whole world is open.  Consider a
proof of work algorithm that requires the freeing of prisoners: a state a
very different state if it does this.  Or a communication protocol that
already cannot be intercepted.  These things are exotically hard, but not
impossible, and show that the logic of the articles is not valid.

Another random idea: incentivising out-of-band channels, for example.
Mining blocks based on finding and uniting illegitimate forks.  Now a chain
functions by defeating its own censorship.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210508/0f6fc4e7/attachment.html>

From gmkarl at gmail.com  Sat May  8 14:42:24 2021
From: gmkarl at gmail.com (Karl)
Date: Sat, 8 May 2021 10:42:24 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <EmeXoxWiQfJsJqUqUtd9dfiBaxyILASksimq7iGF0_O8HH2UV-RaMRUlHCb_xhcA61hlK4hMeooafgDIVFxCDgo_ms3otRS9aU0dR3oHtvA=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAD5xwhi9fxgzYXCsWLUYJ1Bw7Txxnnsm46ySnJTEAiDxqg9UQA@mail.gmail.com>
 <EmeXoxWiQfJsJqUqUtd9dfiBaxyILASksimq7iGF0_O8HH2UV-RaMRUlHCb_xhcA61hlK4hMeooafgDIVFxCDgo_ms3otRS9aU0dR3oHtvA=@protonmail.com>
Message-ID: <CALL-=e7QYotr0W=3uD90A7gb8eQKJ=C3269cUzn4j-BMv8T4RQ@mail.gmail.com>

>
> What is more important;
> Bitcoin mining introduces the first free-market demand for the cheapest
> energy source.


This is a really great idea but I think access to technologically advanced
hardware is a stronger component than energy here.

Making open community chip fabs might change that.  Then anybody could get
on the bandwagon.  But right now the hardware barrier keeps the common
person out.

If you can build a chip fab, you may also be able to build a powerplant.
Not many others can do that to compete with you.  The energy economy still
has more supply than competition or renewable energy would quickly
outcompete nonrenewable as the price dropped.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210508/416f416a/attachment.html>

From bitplates at marketnetworks.co.uk  Sat May  8 15:21:51 2021
From: bitplates at marketnetworks.co.uk (=?UTF-8?Q?BitPLATES=C2=AE_=28Chris=29?=)
Date: Sat, 8 May 2021 16:21:51 +0100
Subject: [bitcoin-dev] Proposal for an Informational BIP
Message-ID: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>

Hi,

I'd like to submit an idea for review, as a potential informational BIP
(Bitcoin Improvement Proposal), describing an optional method of producing
a BIP39 passphrase, using only BIP39 'mnemonic' seed words.

The idea specifically refers to a method of introducing two-factor
authentication, to protect a Bitcoin wallet using only 24 seed words, and
therefore, providing plausible deniability about the existence of this
separate 2nd layer passphrase.

I've suggested the name 'quantum' passphrase to be used casually as a
unique identifier.

The data stored within a 'quantum' passphrase, is simultaneously the
minimum required data for reproducing a BIP39-compatible 24-word seed
mnemonic... hence, the name 'quantum' seems fitting, to reflect the
multiple simultaneous states of data.

Abstract...

This improvement proposal describes the use of twenty four, newly generated
BIP39 seed words, to produce a '25th-word' BIP39-compatible 'quantum'
passphrase.

Two-factor authentication (2FA) or (2 of 2 multi-signature) can be
implemented with a two-wallet setup:

The 1st Bitcoin wallet is protected by the seed words of the 2nd Bitcoin
wallet; inversely, the 2nd Bitcoin wallet is protected by the seed words of
the 1st Bitcoin wallet.

The 'quantum' passphrase offers an exponential increase in the level of
protection, as that offered by the original BIP39 mnemonic seed words
(?2048^23 possible combinations).

ie. A Bitcoin wallet with a 2nd layer 'quantum'passphrase is protected by
2048^23 to the power of 2048^23 possible combinations.

With existing computer capabilities, this level of protection is far
greater than required; however, this does provide a sufficient level of
protection for each separate layer of a two-factor Bitcoin wallet, should
any one layer be accidentally exposed.

This method of passphrase generation, consists of two parts:

1st - generating the BIP39 mnemonic seed words, using a BIP39-compatible
hardware wallet.

2nd - Converting these seed words into the 'quantum' passphrase, following
four simple rules, which most importantly, do not destroy the integrity of
the initial data.

Motivation...

The well established practice of preserving up to 24 seed words for the
purpose of reproduction of a Bitcoin wallet, suffers from a major flaw...
Exposure of these mnemonic seed words can cause catastrophic loss of funds
without adequate multi-factor protection.

Whilst it is recognised that a number of multi-factor solutions are
available (including the standard BIP39 passphrase, and hardware wallet
multi-signature functionality), this proposal aims to provide an extremely
safe and secure 'low-tech' option, that requires minimal (non-destructive)
adjustments to the seed words.

Furthermore, the 'quantum' passphrase offers a number advantages over the
existing methods of multi-factor protection:

Firstly, this method of creating a passphrase leaves no evidence of its
existence on any backup devices, providing plausible deniability in case of
coercion.

This is because the passphrase is easily created from a genuine 24 seed
word mnemonic; therefore, the physical backup of the passphrase can be
disguised as a simple Bitcoin wallet on a metal backup plate.

It presents a way of discouraging user-created words or sentences (also
known as 'brain-wallets'), which often provide a drastically reduced level
of passphrase security, unbeknown to many users.

The large amount of data required to produce a 'quantum' passphrase (up to
96 characters long), encourages the physical backup of the passphrase.

Furthermore, the use of BIP39-only words provides a higher degree of
standardization, which can help to avoid potential mistakes made by
creating unnecessarily complicated combinations of letters, numbers and
symbols. Increased complication (disorderly, and non-human-friendly), does
not always equal increased complexity (orderly, and more human-friendly),
or increased security.

As previously mentioned, a two-wallet configuration provides the user an
opportunity to safely split the two factors of protection (equivalent to a
2 of 2 'multi-sig' setup).

If a BIP39-compatible passphrase is created using a new set of 24 seed
words, it provides 76 degrees of extra complexity (ie. 1 with 76 zeros, or
10?? possible combinations of words).

The strength of this 2nd factor solution, provides adequate
risk-management, when considering the production of multiple backup
devices, strategically stored in multiple geographical locations.

Generating the 'quantum' passphrase...

Following just four (non-destructive) BIP39-compatible rules, the 24 seed
words can also function as a 'quantum' passphrase:

1 . Only BIP39 words
(Standard list of 2048 English words - other languages should be compatible)

2 . Only the first four letters of each word
(BIP39 words require only this data for reproduction)

3 . Only upper case letters
(All alphabet references use this standard format)

4 . No spaces between words
(Spaces represent an additional unit of data, that is not recorded)

In essence, the 'quantum' passphrase is simply a single string of all 24
seed words, set out using the above rules.

I welcome a productive technical discussion.

Thanks,

Chris Johnston
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210508/1e640f69/attachment-0001.html>

From yanmaani at cock.li  Sat May  8 22:49:01 2021
From: yanmaani at cock.li (yanmaani at cock.li)
Date: Sat, 08 May 2021 22:49:01 +0000
Subject: [bitcoin-dev] Encryption of an existing BIP39 mnemonic without
 changing the seed
In-Reply-To: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>
References: <CAPyCnfvqVT00C2TZ86GXf856jNJqPXY0duRa1CfdCqC0ecC6xA@mail.gmail.com>
Message-ID: <6e325fc7954d34b75e3c1cf7590d0395@cock.li>

Why the existing mnemonic? If you've already dealt with unencrypted 
material carelessly, the genie is out of the bottle. And if you're OK 
with making a new one, why not just use BIP-39 passphrases to begin 
with?

If you must, it seems like a decent way to accomplish it, but raw 
SHA-256 is probably not the best choice. PBKDF2 like in the BIP-39 spec 
is tried and true, or something like scrypt. This would however change 
the storage format - you'd have to store a salt too, making your 
mnemonic bigger.

On 2021-05-05 17:32, Tobias Kaupat via bitcoin-dev wrote:
> Hi all,
> I want to start a discussion about a use case I have and a possible
> solution. I have not found any satisfying solution to this use case
> yet.
> 
> Use case:
> An existing mnemonic (e.g. for a hardware wallet) should be saved on a
> paper backup in a password encrypted form. The encrypted form should
> be a mnemonic itself to keep all backup properties like error
> correction.
> 
> Suggested solution:
> 1) Take the existing mnemonic and extract the related entropy
> 2) Create a SHA526 hash (key) from a user defined password
> 3) Use the key as input for an AES CTR (empty IV) to encrypt the
> entropy
> 4) Derive a new mnemonic from the encrypted entropy to be stored on a
> paper backup
> 
> We can add some hints to the paper backp that the mnemonic is
> encrypted, or prefix it with "*" to make clear it's not usable without
> applying the password via the algorithm above.
> 
> To restore the original mnemonic, one must know the password and need
> to follow the process above again.
> 
> An example implementation in GoLang can be found here:
> https://github.com/Niondir/go-bip39/blob/master/encyrption_test.go
> 
> Why not use the existing BIP-39 Passphrase?
> When generating a mnemonic with passphrase, the entropy is derived
> from the passphrase. When you have an existing mnemonic without a
> passphrase, any attempt to add a passphrase will end up in a different
> seed and thus a different private key. What we actually need is to
> encrypt the entropy.
> 
> I'm open for your feedback. All encryption parameters are up to
> discussion and the whole proposal needs a security review. It's just
> the first draft.
> 
> Existing solutions
> One solution I found is "Seedshift" which can be found here:
> https://github.com/mifunetoshiro/Seedshift
> 
> But I consider it less secure and I would like to suggest a solution
> based on provably secure algorithms rather than a "rot23 derivation".
> Also using a date as password seems not very clever to me.
> 
> Kind regards
> Tobias
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From Tobias at kaupat-hh.de  Sun May  9 07:24:28 2021
From: Tobias at kaupat-hh.de (Tobias Kaupat)
Date: Sun, 9 May 2021 09:24:28 +0200
Subject: [bitcoin-dev] Proposal for an Informational BIP
In-Reply-To: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>
References: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>
Message-ID: <CAPyCnfsRhF-X792cFUAcWj2DK=3WE_LYMX-eFO2A-U7aA81btQ@mail.gmail.com>

Hello Chris,
Isn't your suggestion already covered by BIP39 since there is not
restriction in how you choose your passphrase?

It's up to any user to choose his password like you propose. I see your
proposal more like a way to choose my password rather than anything that
needs to be implemented somewhere.

Don't I have plausible deniability already with any other password that I
keep in mind, since the seed without the password is already a valid
address?

One issue might be, that the passphrase is part of the mnemonic. A hardware
wallet needs the passphrase to generate the complete mnemonic (changing the
password does change the resulting seed). Thus you get a chicken-egg
problem, at least for some implementations. Probably you could use the
restore feature to work around this - but it's one step more that should be
mentioned.


Kind regards
Tobias




BitPLATES? (Chris) via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>
schrieb am Sa., 8. Mai 2021, 17:21:

> Hi,
>
> I'd like to submit an idea for review, as a potential informational BIP
> (Bitcoin Improvement Proposal), describing an optional method of producing
> a BIP39 passphrase, using only BIP39 'mnemonic' seed words.
>
> The idea specifically refers to a method of introducing two-factor
> authentication, to protect a Bitcoin wallet using only 24 seed words, and
> therefore, providing plausible deniability about the existence of this
> separate 2nd layer passphrase.
>
> I've suggested the name 'quantum' passphrase to be used casually as a
> unique identifier.
>
> The data stored within a 'quantum' passphrase, is simultaneously the
> minimum required data for reproducing a BIP39-compatible 24-word seed
> mnemonic... hence, the name 'quantum' seems fitting, to reflect the
> multiple simultaneous states of data.
>
> Abstract...
>
> This improvement proposal describes the use of twenty four, newly
> generated BIP39 seed words, to produce a '25th-word' BIP39-compatible
> 'quantum' passphrase.
>
> Two-factor authentication (2FA) or (2 of 2 multi-signature) can be
> implemented with a two-wallet setup:
>
> The 1st Bitcoin wallet is protected by the seed words of the 2nd Bitcoin
> wallet; inversely, the 2nd Bitcoin wallet is protected by the seed words of
> the 1st Bitcoin wallet.
>
> The 'quantum' passphrase offers an exponential increase in the level of
> protection, as that offered by the original BIP39 mnemonic seed words
> (?2048^23 possible combinations).
>
> ie. A Bitcoin wallet with a 2nd layer 'quantum'passphrase is protected by
> 2048^23 to the power of 2048^23 possible combinations.
>
> With existing computer capabilities, this level of protection is far
> greater than required; however, this does provide a sufficient level of
> protection for each separate layer of a two-factor Bitcoin wallet, should
> any one layer be accidentally exposed.
>
> This method of passphrase generation, consists of two parts:
>
> 1st - generating the BIP39 mnemonic seed words, using a BIP39-compatible
> hardware wallet.
>
> 2nd - Converting these seed words into the 'quantum' passphrase, following
> four simple rules, which most importantly, do not destroy the integrity of
> the initial data.
>
> Motivation...
>
> The well established practice of preserving up to 24 seed words for the
> purpose of reproduction of a Bitcoin wallet, suffers from a major flaw...
> Exposure of these mnemonic seed words can cause catastrophic loss of funds
> without adequate multi-factor protection.
>
> Whilst it is recognised that a number of multi-factor solutions are
> available (including the standard BIP39 passphrase, and hardware wallet
> multi-signature functionality), this proposal aims to provide an extremely
> safe and secure 'low-tech' option, that requires minimal (non-destructive)
> adjustments to the seed words.
>
> Furthermore, the 'quantum' passphrase offers a number advantages over the
> existing methods of multi-factor protection:
>
> Firstly, this method of creating a passphrase leaves no evidence of its
> existence on any backup devices, providing plausible deniability in case of
> coercion.
>
> This is because the passphrase is easily created from a genuine 24 seed
> word mnemonic; therefore, the physical backup of the passphrase can be
> disguised as a simple Bitcoin wallet on a metal backup plate.
>
> It presents a way of discouraging user-created words or sentences (also
> known as 'brain-wallets'), which often provide a drastically reduced level
> of passphrase security, unbeknown to many users.
>
> The large amount of data required to produce a 'quantum' passphrase (up to
> 96 characters long), encourages the physical backup of the passphrase.
>
> Furthermore, the use of BIP39-only words provides a higher degree of
> standardization, which can help to avoid potential mistakes made by
> creating unnecessarily complicated combinations of letters, numbers and
> symbols. Increased complication (disorderly, and non-human-friendly), does
> not always equal increased complexity (orderly, and more human-friendly),
> or increased security.
>
> As previously mentioned, a two-wallet configuration provides the user an
> opportunity to safely split the two factors of protection (equivalent to a
> 2 of 2 'multi-sig' setup).
>
> If a BIP39-compatible passphrase is created using a new set of 24 seed
> words, it provides 76 degrees of extra complexity (ie. 1 with 76 zeros, or
> 10?? possible combinations of words).
>
> The strength of this 2nd factor solution, provides adequate
> risk-management, when considering the production of multiple backup
> devices, strategically stored in multiple geographical locations.
>
> Generating the 'quantum' passphrase...
>
> Following just four (non-destructive) BIP39-compatible rules, the 24 seed
> words can also function as a 'quantum' passphrase:
>
> 1 . Only BIP39 words
> (Standard list of 2048 English words - other languages should be
> compatible)
>
> 2 . Only the first four letters of each word
> (BIP39 words require only this data for reproduction)
>
> 3 . Only upper case letters
> (All alphabet references use this standard format)
>
> 4 . No spaces between words
> (Spaces represent an additional unit of data, that is not recorded)
>
> In essence, the 'quantum' passphrase is simply a single string of all 24
> seed words, set out using the above rules.
>
> I welcome a productive technical discussion.
>
> Thanks,
>
> Chris Johnston
>
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210509/cea893d5/attachment-0001.html>

From darosior at protonmail.com  Sun May  9 07:56:43 2021
From: darosior at protonmail.com (darosior)
Date: Sun, 09 May 2021 07:56:43 +0000
Subject: [bitcoin-dev] Full Disclosure: CVE-2021-31876 Defect in Bitcoin
	Core's bip125 logic
In-Reply-To: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
References: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
Message-ID: <MT4soB8ro1-wKY5ht6hqY0c2OutPMDgdLrSny8I9-KPn75p6CdatFkwDZCPNI98yYXOqMeKLu9Z1EBwMXXWZQmCE6Nv70gPo6Mv8FjsGnxc=@protonmail.com>

Hi Antoine,

Thank you for the disclosure.

> * Onchain DLC/Coinswap/Vault : Those contract protocols have also multiple stages of execution with time-sensitive transactions opening the way to pinning attacks. Those protocols being non-deployed or in early phase, I would recommend that any in-protocol competing transactions explicitly signal RBF.

For what it's worth, Revault isn't vulnerable as all transactions signal RBF and there is no way to sneak a non-signaling competing transaction (as long as the CSV isn't matured yet).

Thanks,

Antoine (the other one)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210509/73a6d27f/attachment-0001.html>

From bitplates at marketnetworks.co.uk  Sun May  9 08:29:05 2021
From: bitplates at marketnetworks.co.uk (BitPLATES (Chris))
Date: Sun, 9 May 2021 09:29:05 +0100
Subject: [bitcoin-dev] Proposal for an Informational BIP
In-Reply-To: <CAPyCnfsRhF-X792cFUAcWj2DK=3WE_LYMX-eFO2A-U7aA81btQ@mail.gmail.com>
References: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>
 <CAPyCnfsRhF-X792cFUAcWj2DK=3WE_LYMX-eFO2A-U7aA81btQ@mail.gmail.com>
Message-ID: <CAAvTZ658FN2++znPjWim+cf=Xfgq7ycWqyZLbjKyizorkxv0ww@mail.gmail.com>

Hi Tobias,

In answer to your questions...

"Isn't your suggestion already covered by BIP39 since there is not
restriction in how you choose your passphrase?"

- Correct, my idea is covered by BIP39, and therefore compatible with
BIP39... I see the 'quantum' passphrase as an optional 'soft fork' leading
towards a more restricted choice of characters, rather than the fuller,
less restrictive choice of characters.

"It's up to any user to choose his password like you propose. I see your
proposal more like a way to choose my password rather than anything that
needs to be implemented somewhere."

- Correct also, my proposal is for an Informational BIP to educate users
how to create a 'quantum' passphrase, which provides the same high degree
of protection (2048^23 combinations) as the original 1st layer mnemonic
seed words. Should their 24 seed words be compromised (or posted on the
internet), this extreme level of protection would make it impossible to
brute-force the wallet without the 'quantum' passphrase.

"Don't I have plausible deniability already with any other password that I
keep in mind, since the seed without the password is already a valid
address?"

- No, because an unrestricted passphrase may contain characters different
to those allowed by the 'quantum' passphrase. Memorisation of the 2nd layer
passphrase is very dangerous, whereby, an unfortunate accident could leave
your family without access to their inherence. The 'quantum' passphrase
encourages the use of multiple metal backup storage devices, but anything
more that A-Z (upper case only), would not be disguised as a 24 word seed.
Therefore, discovery of a backup device with the extra, unrestricted
characters that don't also open a (sacrificial) wallet, will be recognised
as a 2nd layer passphrase... This is when the $5 wrench is brought to the
table to extract the 1st layer seed words.

"One issue might be, that the passphrase is part of the mnemonic. A
hardware wallet needs the passphrase to generate the complete mnemonic
(changing the password does change the resulting seed). Thus you get a
chicken-egg problem, at least for some implementations. Probably you could
use the restore feature to work around this - but it's one step more that
should be mentioned."

- I'm not sure that I fully understand this last paragraph of your email,
but just to be clear, the 'quantum' passphrase is made from the 24 seed
words of a separate wallet. This is essentially the 2nd layer (or 2nd
signing key) to add to the 1st layer (or 1st signing key) required to
complete the full mnemonic, which then provides access to the
passphrase-protected wallet.

eg. The 1st Bitcoin wallet is protected by a 'quantum' passphrase,
containing the seed words of the 2nd Bitcoin wallet; inversely, the 2nd
Bitcoin wallet is protected by a 'quantum' passphrase, containing the seed
words of the 1st Bitcoin wallet.

Thank you for your thoughts.

Regards,

Chris


On Sun, 9 May 2021, 08:24 Tobias Kaupat, <Tobias at kaupat-hh.de> wrote:

> Hello Chris,
> Isn't your suggestion already covered by BIP39 since there is not
> restriction in how you choose your passphrase?
>
> It's up to any user to choose his password like you propose. I see your
> proposal more like a way to choose my password rather than anything that
> needs to be implemented somewhere.
>
> Don't I have plausible deniability already with any other password that I
> keep in mind, since the seed without the password is already a valid
> address?
>
> One issue might be, that the passphrase is part of the mnemonic. A
> hardware wallet needs the passphrase to generate the complete mnemonic
> (changing the password does change the resulting seed). Thus you get a
> chicken-egg problem, at least for some implementations. Probably you could
> use the restore feature to work around this - but it's one step more that
> should be mentioned.
>
>
> Kind regards
> Tobias
>
>
>
>
> BitPLATES? (Chris) via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>
> schrieb am Sa., 8. Mai 2021, 17:21:
>
>> Hi,
>>
>> I'd like to submit an idea for review, as a potential informational BIP
>> (Bitcoin Improvement Proposal), describing an optional method of producing
>> a BIP39 passphrase, using only BIP39 'mnemonic' seed words.
>>
>> The idea specifically refers to a method of introducing two-factor
>> authentication, to protect a Bitcoin wallet using only 24 seed words, and
>> therefore, providing plausible deniability about the existence of this
>> separate 2nd layer passphrase.
>>
>> I've suggested the name 'quantum' passphrase to be used casually as a
>> unique identifier.
>>
>> The data stored within a 'quantum' passphrase, is simultaneously the
>> minimum required data for reproducing a BIP39-compatible 24-word seed
>> mnemonic... hence, the name 'quantum' seems fitting, to reflect the
>> multiple simultaneous states of data.
>>
>> Abstract...
>>
>> This improvement proposal describes the use of twenty four, newly
>> generated BIP39 seed words, to produce a '25th-word' BIP39-compatible
>> 'quantum' passphrase.
>>
>> Two-factor authentication (2FA) or (2 of 2 multi-signature) can be
>> implemented with a two-wallet setup:
>>
>> The 1st Bitcoin wallet is protected by the seed words of the 2nd Bitcoin
>> wallet; inversely, the 2nd Bitcoin wallet is protected by the seed words of
>> the 1st Bitcoin wallet.
>>
>> The 'quantum' passphrase offers an exponential increase in the level of
>> protection, as that offered by the original BIP39 mnemonic seed words
>> (?2048^23 possible combinations).
>>
>> ie. A Bitcoin wallet with a 2nd layer 'quantum'passphrase is protected by
>> 2048^23 to the power of 2048^23 possible combinations.
>>
>> With existing computer capabilities, this level of protection is far
>> greater than required; however, this does provide a sufficient level of
>> protection for each separate layer of a two-factor Bitcoin wallet, should
>> any one layer be accidentally exposed.
>>
>> This method of passphrase generation, consists of two parts:
>>
>> 1st - generating the BIP39 mnemonic seed words, using a BIP39-compatible
>> hardware wallet.
>>
>> 2nd - Converting these seed words into the 'quantum' passphrase,
>> following four simple rules, which most importantly, do not destroy the
>> integrity of the initial data.
>>
>> Motivation...
>>
>> The well established practice of preserving up to 24 seed words for the
>> purpose of reproduction of a Bitcoin wallet, suffers from a major flaw...
>> Exposure of these mnemonic seed words can cause catastrophic loss of funds
>> without adequate multi-factor protection.
>>
>> Whilst it is recognised that a number of multi-factor solutions are
>> available (including the standard BIP39 passphrase, and hardware wallet
>> multi-signature functionality), this proposal aims to provide an extremely
>> safe and secure 'low-tech' option, that requires minimal (non-destructive)
>> adjustments to the seed words.
>>
>> Furthermore, the 'quantum' passphrase offers a number advantages over the
>> existing methods of multi-factor protection:
>>
>> Firstly, this method of creating a passphrase leaves no evidence of its
>> existence on any backup devices, providing plausible deniability in case of
>> coercion.
>>
>> This is because the passphrase is easily created from a genuine 24 seed
>> word mnemonic; therefore, the physical backup of the passphrase can be
>> disguised as a simple Bitcoin wallet on a metal backup plate.
>>
>> It presents a way of discouraging user-created words or sentences (also
>> known as 'brain-wallets'), which often provide a drastically reduced level
>> of passphrase security, unbeknown to many users.
>>
>> The large amount of data required to produce a 'quantum' passphrase (up
>> to 96 characters long), encourages the physical backup of the passphrase.
>>
>> Furthermore, the use of BIP39-only words provides a higher degree of
>> standardization, which can help to avoid potential mistakes made by
>> creating unnecessarily complicated combinations of letters, numbers and
>> symbols. Increased complication (disorderly, and non-human-friendly), does
>> not always equal increased complexity (orderly, and more human-friendly),
>> or increased security.
>>
>> As previously mentioned, a two-wallet configuration provides the user an
>> opportunity to safely split the two factors of protection (equivalent to a
>> 2 of 2 'multi-sig' setup).
>>
>> If a BIP39-compatible passphrase is created using a new set of 24 seed
>> words, it provides 76 degrees of extra complexity (ie. 1 with 76 zeros, or
>> 10?? possible combinations of words).
>>
>> The strength of this 2nd factor solution, provides adequate
>> risk-management, when considering the production of multiple backup
>> devices, strategically stored in multiple geographical locations.
>>
>> Generating the 'quantum' passphrase...
>>
>> Following just four (non-destructive) BIP39-compatible rules, the 24 seed
>> words can also function as a 'quantum' passphrase:
>>
>> 1 . Only BIP39 words
>> (Standard list of 2048 English words - other languages should be
>> compatible)
>>
>> 2 . Only the first four letters of each word
>> (BIP39 words require only this data for reproduction)
>>
>> 3 . Only upper case letters
>> (All alphabet references use this standard format)
>>
>> 4 . No spaces between words
>> (Spaces represent an additional unit of data, that is not recorded)
>>
>> In essence, the 'quantum' passphrase is simply a single string of all 24
>> seed words, set out using the above rules.
>>
>> I welcome a productive technical discussion.
>>
>> Thanks,
>>
>> Chris Johnston
>>
>>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210509/25d3791a/attachment.html>

From rebroad+linuxfoundation.org at gmail.com  Sun May  9 10:21:17 2021
From: rebroad+linuxfoundation.org at gmail.com (R E Broadley)
Date: Sun, 9 May 2021 11:21:17 +0100
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CALL-=e7E1KhnfuTQoZ8BB4xNgjkZSsbE3NXHc13ObtJQtZOF3A@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <6C68BF06-522B-41D3-BF3A-17D900C51BD1@voskuil.org>
 <CALL-=e7E1KhnfuTQoZ8BB4xNgjkZSsbE3NXHc13ObtJQtZOF3A@mail.gmail.com>
Message-ID: <CAFBxzABfarr6AoxoCF3KQiv7HKuGChHDE=wfaM4uhAgdnZyr8g@mail.gmail.com>

On Sat, 8 May 2021 at 15:36, Karl via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org> wrote:
> Bitcoin would get better mainstream public reputation if the block reward were reduced to reduce mining.  This would quickly and easily reduce energy expenditure.

You're in luck then, as the block reward is being reduced by 50%, every 4 years.

From gmkarl at gmail.com  Sun May  9 10:59:46 2021
From: gmkarl at gmail.com (Karl)
Date: Sun, 9 May 2021 06:59:46 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAFBxzABfarr6AoxoCF3KQiv7HKuGChHDE=wfaM4uhAgdnZyr8g@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <6C68BF06-522B-41D3-BF3A-17D900C51BD1@voskuil.org>
 <CALL-=e7E1KhnfuTQoZ8BB4xNgjkZSsbE3NXHc13ObtJQtZOF3A@mail.gmail.com>
 <CAFBxzABfarr6AoxoCF3KQiv7HKuGChHDE=wfaM4uhAgdnZyr8g@mail.gmail.com>
Message-ID: <CALL-=e4eS64=jDrx+_v+RJOmw8=Bd6=aOJ_F+=qmKDnU76fM+w@mail.gmail.com>

On Sun, May 9, 2021, 6:21 AM R E Broadley <
rebroad+linuxfoundation.org at gmail.com> wrote:

> On Sat, 8 May 2021 at 15:36, Karl via bitcoin-dev
> <bitcoin-dev at lists.linuxfoundation.org> wrote:
> > Bitcoin would get better mainstream public reputation if the block
> reward were reduced to reduce mining.  This would quickly and easily reduce
> energy expenditure.
>
> You're in luck then, as the block reward is being reduced by 50%, every 4
> years.
>

I'm aware of that and it is why I mentioned "block reward termination" in
the next paragraph... did you receive the rest of my message?  Or why do
you say this?

>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210509/6cd06ec8/attachment-0001.html>

From rebroad+linuxfoundation.org at gmail.com  Sun May  9 11:30:53 2021
From: rebroad+linuxfoundation.org at gmail.com (R E Broadley)
Date: Sun, 9 May 2021 12:30:53 +0100
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAAf19Wq4Bbte5aKJKZVyvesWQ-=HVmH17rz6rE=w8=7sN7rgmw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAAf19Wq4Bbte5aKJKZVyvesWQ-=HVmH17rz6rE=w8=7sN7rgmw@mail.gmail.com>
Message-ID: <CAFBxzAAZjRtraHOmEKsd6K2V6pfYa2mHHRwCBDD3GXvtWmd_ug@mail.gmail.com>

According to this paper:
https://www.cs.umd.edu/projects/coinscope/coinscope.pdf

PoW is also only resilient to 1/3rd of the network.

On Sat, 8 May 2021 at 14:46, Eric Martindale via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:
>
> Mr. Singh,
>
> Proof of Stake is only resilient to ? of the network demonstrating a
Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold.
You can explore prior research here:
https://download.wpsoftware.net/bitcoin/pos.pdf
>
> Independent of the security thresholds, Proof of Stake requires other
trade-offs which are incompatible with Bitcoin's objective (to be a
trustless digital cash) ? specifically the famous "security vs. liveness"
guarantee.  Digital cash is not useful if it must be globally halted to
ensure its security, and Proof of Work squarely addresses this concern.
>
> Above and beyond any security consideration, Proof of Stake incentivizes
the accumulation of wealth within a small set of actors, which is
undesirable for the long-term health of any such network.  If we are to
free humanity from the tyranny of the State, we must do so by protecting
the rights of every individual to hold and preserve their own value,
without trusting any third party.  Entrusting the health of the network to
the "economic elite" is the paramount evil with respect to Bitcoin's
objectives, nevermind that Proof of Work relies on energy expenditure to
provide its security.
>
> Sincerely,
>
> Eric Martindale, relentless maker.
> Founder & CEO, Fabric, Inc.
> +1 (919) 374-2020
>
>
> On Fri, May 7, 2021 at 6:50 PM SatoshiSingh via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>> Hello list,
>>
>> I am a lurker here and like many of you I worry about the energy usage
of bitcoin mining. I understand a lot mining happens with renewable
resources but the impact is still high.
>>
>> I want to get your opinion on implementing proof of stake for bitcoin
mining in future. For now, proof of stake is still untested and not battle
tested like proof of work. Though someday it will be.
>>
>> In the following years we'll be seeing proof of stake being implemented.
Smaller networks can test PoS which is a luxury bitcoin can't afford.
Here's how I see this the possibilities:
>>
>> 1 - Proof of stake isn't a good enough security mechanism
>> 2 - Proof of state is a good security mechanism and works as intended
>>
>> IF PoS turns out to be good after battle testing, would you consider
implementing it for Bitcoin? I understand this would invoke a lot of
controversies and a hard fork that no one likes. But its important enough
to consider a hard fork. What are your opinions provided PoS does work?
>>
>> Love from India.
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210509/120dd43f/attachment-0001.html>

From quantumas3 at gmail.com  Sun May  9 19:07:43 2021
From: quantumas3 at gmail.com (Cloud Strife)
Date: Sun, 9 May 2021 15:07:43 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CALL-=e7QYotr0W=3uD90A7gb8eQKJ=C3269cUzn4j-BMv8T4RQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAD5xwhi9fxgzYXCsWLUYJ1Bw7Txxnnsm46ySnJTEAiDxqg9UQA@mail.gmail.com>
 <EmeXoxWiQfJsJqUqUtd9dfiBaxyILASksimq7iGF0_O8HH2UV-RaMRUlHCb_xhcA61hlK4hMeooafgDIVFxCDgo_ms3otRS9aU0dR3oHtvA=@protonmail.com>
 <CALL-=e7QYotr0W=3uD90A7gb8eQKJ=C3269cUzn4j-BMv8T4RQ@mail.gmail.com>
Message-ID: <CAHeORgKKfvY5a8_dQ3KOsCEV5spHsMg42FOfcO5CCkN6+jUPMw@mail.gmail.com>

Proof of stake is permissioned by coins, an internal, permissioned, and
already owned resource.

You cannot gain tokens without someone choosing to give up those coins - a
form of permission. Permission can also be thought of as an infinite
barrier to entry.

PoW forces giving up control through both permissionless to enter mining
via EXTERNAL permissionless resources and unforgeable costliness for the
miners.

Without unforgeable costliness there's no reason to ever give up control in
PoS.

In fact, staking quite literally incentivizes keeping control by rewarding
those in control with more coins and control in perpetuity at no cost - the
incentives on PoS are completely backwards from decentralizing control.

Since no mechanism forces control to be permissionlessly distributed to
others, parties in control cannot be considered independent parties nor can
control be considered decentralized.

PoS solves nothing that's relevant to permissionless decentralized networks.


> In the following years we'll be seeing proof of stake being implemented


It has been implemented since 2014 but it doesn't meet criteria for a
permissionless network. There's nothing new about implementing permissioned
networks.

You could try to replace proof of work with proof of bitcoin burn (not well
studied) on blockchains other than Bitcoin, but there's no known
replacement for proof of work for Bitcoin right now.

PoS has been considered and studied since then many times since then and
dismissed repeatedly for irrelevance to decentralized permissionless
technology, examples:

   - https://nakamotoinstitute.org/research/on-stake-and-consensus/
   -
   https://medium.com/@factchecker9000/nothing-is-worse-than-proof-of-stake-e70b12b988ca
   - https://www.truthcoin.info/blog/pow-cheapest/
   -
   https://hugonguyen.medium.com/work-is-timeless-stake-is-not-554c4450ce18
   - https://arxiv.org/abs/1809.06528



On Sat, May 8, 2021 at 10:49 AM Karl via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> What is more important;
>> Bitcoin mining introduces the first free-market demand for the cheapest
>> energy source.
>
>
> This is a really great idea but I think access to technologically advanced
> hardware is a stronger component than energy here.
>
> Making open community chip fabs might change that.  Then anybody could get
> on the bandwagon.  But right now the hardware barrier keeps the common
> person out.
>
> If you can build a chip fab, you may also be able to build a powerplant.
> Not many others can do that to compete with you.  The energy economy still
> has more supply than competition or renewable energy would quickly
> outcompete nonrenewable as the price dropped.
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210509/b188b6b3/attachment-0001.html>

From Tobias at kaupat-hh.de  Sun May  9 22:53:51 2021
From: Tobias at kaupat-hh.de (Tobias Kaupat)
Date: Mon, 10 May 2021 00:53:51 +0200
Subject: [bitcoin-dev] Proposal for an Informational BIP
In-Reply-To: <CAAvTZ658FN2++znPjWim+cf=Xfgq7ycWqyZLbjKyizorkxv0ww@mail.gmail.com>
References: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>
 <CAPyCnfsRhF-X792cFUAcWj2DK=3WE_LYMX-eFO2A-U7aA81btQ@mail.gmail.com>
 <CAAvTZ658FN2++znPjWim+cf=Xfgq7ycWqyZLbjKyizorkxv0ww@mail.gmail.com>
Message-ID: <CAPyCnfu32KKmrmDEmx5QNNnzifNE_J5Sfi2uWoPZo0NA4ruqgg@mail.gmail.com>

Hi Chris,
thanks for the clarification. It makes sense so far.

About the "chicken - egg" problem:
When you generate a BIP39 mnemonic "A" without password, you get a Seed
"As" from which you derive your private key.
Using the same mnemonic with a passphrase will give you a different seed
"As*" with a different private and public key.
Now your process must look like:
- Generate mnemonic A without password (will never be used)
- Generate mnemonic B* using words from A as password
- Generate mnemonic A* using words from B* as password

That's just an implementation detail but might have impact on the actual
process, depending on the wallet you are using.

Hope it's clear.

Kind regards
Tobias



BitPLATES (Chris) <bitplates at marketnetworks.co.uk> schrieb am So., 9. Mai
2021, 10:29:

> Hi Tobias,
>
> In answer to your questions...
>
> "Isn't your suggestion already covered by BIP39 since there is not
> restriction in how you choose your passphrase?"
>
> - Correct, my idea is covered by BIP39, and therefore compatible with
> BIP39... I see the 'quantum' passphrase as an optional 'soft fork' leading
> towards a more restricted choice of characters, rather than the fuller,
> less restrictive choice of characters.
>
> "It's up to any user to choose his password like you propose. I see your
> proposal more like a way to choose my password rather than anything that
> needs to be implemented somewhere."
>
> - Correct also, my proposal is for an Informational BIP to educate users
> how to create a 'quantum' passphrase, which provides the same high degree
> of protection (2048^23 combinations) as the original 1st layer mnemonic
> seed words. Should their 24 seed words be compromised (or posted on the
> internet), this extreme level of protection would make it impossible to
> brute-force the wallet without the 'quantum' passphrase.
>
> "Don't I have plausible deniability already with any other password that I
> keep in mind, since the seed without the password is already a valid
> address?"
>
> - No, because an unrestricted passphrase may contain characters different
> to those allowed by the 'quantum' passphrase. Memorisation of the 2nd layer
> passphrase is very dangerous, whereby, an unfortunate accident could leave
> your family without access to their inherence. The 'quantum' passphrase
> encourages the use of multiple metal backup storage devices, but anything
> more that A-Z (upper case only), would not be disguised as a 24 word seed.
> Therefore, discovery of a backup device with the extra, unrestricted
> characters that don't also open a (sacrificial) wallet, will be recognised
> as a 2nd layer passphrase... This is when the $5 wrench is brought to the
> table to extract the 1st layer seed words.
>
> "One issue might be, that the passphrase is part of the mnemonic. A
> hardware wallet needs the passphrase to generate the complete mnemonic
> (changing the password does change the resulting seed). Thus you get a
> chicken-egg problem, at least for some implementations. Probably you could
> use the restore feature to work around this - but it's one step more that
> should be mentioned."
>
> - I'm not sure that I fully understand this last paragraph of your email,
> but just to be clear, the 'quantum' passphrase is made from the 24 seed
> words of a separate wallet. This is essentially the 2nd layer (or 2nd
> signing key) to add to the 1st layer (or 1st signing key) required to
> complete the full mnemonic, which then provides access to the
> passphrase-protected wallet.
>
> eg. The 1st Bitcoin wallet is protected by a 'quantum' passphrase,
> containing the seed words of the 2nd Bitcoin wallet; inversely, the 2nd
> Bitcoin wallet is protected by a 'quantum' passphrase, containing the seed
> words of the 1st Bitcoin wallet.
>
> Thank you for your thoughts.
>
> Regards,
>
> Chris
>
>
> On Sun, 9 May 2021, 08:24 Tobias Kaupat, <Tobias at kaupat-hh.de> wrote:
>
>> Hello Chris,
>> Isn't your suggestion already covered by BIP39 since there is not
>> restriction in how you choose your passphrase?
>>
>> It's up to any user to choose his password like you propose. I see your
>> proposal more like a way to choose my password rather than anything that
>> needs to be implemented somewhere.
>>
>> Don't I have plausible deniability already with any other password that I
>> keep in mind, since the seed without the password is already a valid
>> address?
>>
>> One issue might be, that the passphrase is part of the mnemonic. A
>> hardware wallet needs the passphrase to generate the complete mnemonic
>> (changing the password does change the resulting seed). Thus you get a
>> chicken-egg problem, at least for some implementations. Probably you could
>> use the restore feature to work around this - but it's one step more that
>> should be mentioned.
>>
>>
>> Kind regards
>> Tobias
>>
>>
>>
>>
>> BitPLATES? (Chris) via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>
>> schrieb am Sa., 8. Mai 2021, 17:21:
>>
>>> Hi,
>>>
>>> I'd like to submit an idea for review, as a potential informational BIP
>>> (Bitcoin Improvement Proposal), describing an optional method of producing
>>> a BIP39 passphrase, using only BIP39 'mnemonic' seed words.
>>>
>>> The idea specifically refers to a method of introducing two-factor
>>> authentication, to protect a Bitcoin wallet using only 24 seed words, and
>>> therefore, providing plausible deniability about the existence of this
>>> separate 2nd layer passphrase.
>>>
>>> I've suggested the name 'quantum' passphrase to be used casually as a
>>> unique identifier.
>>>
>>> The data stored within a 'quantum' passphrase, is simultaneously the
>>> minimum required data for reproducing a BIP39-compatible 24-word seed
>>> mnemonic... hence, the name 'quantum' seems fitting, to reflect the
>>> multiple simultaneous states of data.
>>>
>>> Abstract...
>>>
>>> This improvement proposal describes the use of twenty four, newly
>>> generated BIP39 seed words, to produce a '25th-word' BIP39-compatible
>>> 'quantum' passphrase.
>>>
>>> Two-factor authentication (2FA) or (2 of 2 multi-signature) can be
>>> implemented with a two-wallet setup:
>>>
>>> The 1st Bitcoin wallet is protected by the seed words of the 2nd Bitcoin
>>> wallet; inversely, the 2nd Bitcoin wallet is protected by the seed words of
>>> the 1st Bitcoin wallet.
>>>
>>> The 'quantum' passphrase offers an exponential increase in the level of
>>> protection, as that offered by the original BIP39 mnemonic seed words
>>> (?2048^23 possible combinations).
>>>
>>> ie. A Bitcoin wallet with a 2nd layer 'quantum'passphrase is protected
>>> by 2048^23 to the power of 2048^23 possible combinations.
>>>
>>> With existing computer capabilities, this level of protection is far
>>> greater than required; however, this does provide a sufficient level of
>>> protection for each separate layer of a two-factor Bitcoin wallet, should
>>> any one layer be accidentally exposed.
>>>
>>> This method of passphrase generation, consists of two parts:
>>>
>>> 1st - generating the BIP39 mnemonic seed words, using a BIP39-compatible
>>> hardware wallet.
>>>
>>> 2nd - Converting these seed words into the 'quantum' passphrase,
>>> following four simple rules, which most importantly, do not destroy the
>>> integrity of the initial data.
>>>
>>> Motivation...
>>>
>>> The well established practice of preserving up to 24 seed words for the
>>> purpose of reproduction of a Bitcoin wallet, suffers from a major flaw...
>>> Exposure of these mnemonic seed words can cause catastrophic loss of funds
>>> without adequate multi-factor protection.
>>>
>>> Whilst it is recognised that a number of multi-factor solutions are
>>> available (including the standard BIP39 passphrase, and hardware wallet
>>> multi-signature functionality), this proposal aims to provide an extremely
>>> safe and secure 'low-tech' option, that requires minimal (non-destructive)
>>> adjustments to the seed words.
>>>
>>> Furthermore, the 'quantum' passphrase offers a number advantages over
>>> the existing methods of multi-factor protection:
>>>
>>> Firstly, this method of creating a passphrase leaves no evidence of its
>>> existence on any backup devices, providing plausible deniability in case of
>>> coercion.
>>>
>>> This is because the passphrase is easily created from a genuine 24 seed
>>> word mnemonic; therefore, the physical backup of the passphrase can be
>>> disguised as a simple Bitcoin wallet on a metal backup plate.
>>>
>>> It presents a way of discouraging user-created words or sentences (also
>>> known as 'brain-wallets'), which often provide a drastically reduced level
>>> of passphrase security, unbeknown to many users.
>>>
>>> The large amount of data required to produce a 'quantum' passphrase (up
>>> to 96 characters long), encourages the physical backup of the passphrase.
>>>
>>> Furthermore, the use of BIP39-only words provides a higher degree of
>>> standardization, which can help to avoid potential mistakes made by
>>> creating unnecessarily complicated combinations of letters, numbers and
>>> symbols. Increased complication (disorderly, and non-human-friendly), does
>>> not always equal increased complexity (orderly, and more human-friendly),
>>> or increased security.
>>>
>>> As previously mentioned, a two-wallet configuration provides the user an
>>> opportunity to safely split the two factors of protection (equivalent to a
>>> 2 of 2 'multi-sig' setup).
>>>
>>> If a BIP39-compatible passphrase is created using a new set of 24 seed
>>> words, it provides 76 degrees of extra complexity (ie. 1 with 76 zeros, or
>>> 10?? possible combinations of words).
>>>
>>> The strength of this 2nd factor solution, provides adequate
>>> risk-management, when considering the production of multiple backup
>>> devices, strategically stored in multiple geographical locations.
>>>
>>> Generating the 'quantum' passphrase...
>>>
>>> Following just four (non-destructive) BIP39-compatible rules, the 24
>>> seed words can also function as a 'quantum' passphrase:
>>>
>>> 1 . Only BIP39 words
>>> (Standard list of 2048 English words - other languages should be
>>> compatible)
>>>
>>> 2 . Only the first four letters of each word
>>> (BIP39 words require only this data for reproduction)
>>>
>>> 3 . Only upper case letters
>>> (All alphabet references use this standard format)
>>>
>>> 4 . No spaces between words
>>> (Spaces represent an additional unit of data, that is not recorded)
>>>
>>> In essence, the 'quantum' passphrase is simply a single string of all 24
>>> seed words, set out using the above rules.
>>>
>>> I welcome a productive technical discussion.
>>>
>>> Thanks,
>>>
>>> Chris Johnston
>>>
>>>
>>> _______________________________________________
>>> bitcoin-dev mailing list
>>> bitcoin-dev at lists.linuxfoundation.org
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210510/592b529e/attachment-0001.html>

From bitplates at marketnetworks.co.uk  Mon May 10 06:30:22 2021
From: bitplates at marketnetworks.co.uk (BitPLATES (Chris))
Date: Mon, 10 May 2021 07:30:22 +0100
Subject: [bitcoin-dev] Proposal for an Informational BIP
In-Reply-To: <CAPyCnfu32KKmrmDEmx5QNNnzifNE_J5Sfi2uWoPZo0NA4ruqgg@mail.gmail.com>
References: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>
 <CAPyCnfsRhF-X792cFUAcWj2DK=3WE_LYMX-eFO2A-U7aA81btQ@mail.gmail.com>
 <CAAvTZ658FN2++znPjWim+cf=Xfgq7ycWqyZLbjKyizorkxv0ww@mail.gmail.com>
 <CAPyCnfu32KKmrmDEmx5QNNnzifNE_J5Sfi2uWoPZo0NA4ruqgg@mail.gmail.com>
Message-ID: <CAAvTZ65Rm4MMGnC=5AVDfMm7_jcmzdsVXXFBA2R3BBJi-2Xdyw@mail.gmail.com>

Thank you for your reply Tobias,

I don't think that the chicken-egg scenario is relevant, but please let me
explain why:

Wallet A = seed words (A) - add minimal funds as a canary/sacrificial wallet

Wallet B = seed words (B) - add minimal funds as a canary/sacrificial wallet

Wallet AB = seed words (A) + 'quantum' passphrase using seed words (B) -
add 1/2 of main funds

Wallet BA = seed words (B) + 'quantum' passphrase using seed words (A) -
add 1/2 of main funds

If the backup plate containing seed words (A) is compromised, then minimal
funds are taken.

If the backup plate containing seed words (B) is compromised, then minimal
funds are taken.

Both backup plates must remain geographically separated.

Furthermore, backup plate (A) could be held by a 1st party, whilst backup
plate (B) could be held by a 2nd party, as part of a 2 of 2 multi-factor
(or multi-sig) setup.

I hope this clarifies everything.

Regards,

Chris

On Sun, 9 May 2021, 23:54 Tobias Kaupat, <Tobias at kaupat-hh.de> wrote:

> Hi Chris,
> thanks for the clarification. It makes sense so far.
>
> About the "chicken - egg" problem:
> When you generate a BIP39 mnemonic "A" without password, you get a Seed
> "As" from which you derive your private key.
> Using the same mnemonic with a passphrase will give you a different seed
> "As*" with a different private and public key.
> Now your process must look like:
> - Generate mnemonic A without password (will never be used)
> - Generate mnemonic B* using words from A as password
> - Generate mnemonic A* using words from B* as password
>
> That's just an implementation detail but might have impact on the actual
> process, depending on the wallet you are using.
>
> Hope it's clear.
>
> Kind regards
> Tobias
>
>
>
> BitPLATES (Chris) <bitplates at marketnetworks.co.uk> schrieb am So., 9. Mai
> 2021, 10:29:
>
>> Hi Tobias,
>>
>> In answer to your questions...
>>
>> "Isn't your suggestion already covered by BIP39 since there is not
>> restriction in how you choose your passphrase?"
>>
>> - Correct, my idea is covered by BIP39, and therefore compatible with
>> BIP39... I see the 'quantum' passphrase as an optional 'soft fork' leading
>> towards a more restricted choice of characters, rather than the fuller,
>> less restrictive choice of characters.
>>
>> "It's up to any user to choose his password like you propose. I see your
>> proposal more like a way to choose my password rather than anything that
>> needs to be implemented somewhere."
>>
>> - Correct also, my proposal is for an Informational BIP to educate users
>> how to create a 'quantum' passphrase, which provides the same high degree
>> of protection (2048^23 combinations) as the original 1st layer mnemonic
>> seed words. Should their 24 seed words be compromised (or posted on the
>> internet), this extreme level of protection would make it impossible to
>> brute-force the wallet without the 'quantum' passphrase.
>>
>> "Don't I have plausible deniability already with any other password that
>> I keep in mind, since the seed without the password is already a valid
>> address?"
>>
>> - No, because an unrestricted passphrase may contain characters different
>> to those allowed by the 'quantum' passphrase. Memorisation of the 2nd layer
>> passphrase is very dangerous, whereby, an unfortunate accident could leave
>> your family without access to their inherence. The 'quantum' passphrase
>> encourages the use of multiple metal backup storage devices, but anything
>> more that A-Z (upper case only), would not be disguised as a 24 word seed.
>> Therefore, discovery of a backup device with the extra, unrestricted
>> characters that don't also open a (sacrificial) wallet, will be recognised
>> as a 2nd layer passphrase... This is when the $5 wrench is brought to the
>> table to extract the 1st layer seed words.
>>
>> "One issue might be, that the passphrase is part of the mnemonic. A
>> hardware wallet needs the passphrase to generate the complete mnemonic
>> (changing the password does change the resulting seed). Thus you get a
>> chicken-egg problem, at least for some implementations. Probably you could
>> use the restore feature to work around this - but it's one step more that
>> should be mentioned."
>>
>> - I'm not sure that I fully understand this last paragraph of your email,
>> but just to be clear, the 'quantum' passphrase is made from the 24 seed
>> words of a separate wallet. This is essentially the 2nd layer (or 2nd
>> signing key) to add to the 1st layer (or 1st signing key) required to
>> complete the full mnemonic, which then provides access to the
>> passphrase-protected wallet.
>>
>> eg. The 1st Bitcoin wallet is protected by a 'quantum' passphrase,
>> containing the seed words of the 2nd Bitcoin wallet; inversely, the 2nd
>> Bitcoin wallet is protected by a 'quantum' passphrase, containing the seed
>> words of the 1st Bitcoin wallet.
>>
>> Thank you for your thoughts.
>>
>> Regards,
>>
>> Chris
>>
>>
>> On Sun, 9 May 2021, 08:24 Tobias Kaupat, <Tobias at kaupat-hh.de> wrote:
>>
>>> Hello Chris,
>>> Isn't your suggestion already covered by BIP39 since there is not
>>> restriction in how you choose your passphrase?
>>>
>>> It's up to any user to choose his password like you propose. I see your
>>> proposal more like a way to choose my password rather than anything that
>>> needs to be implemented somewhere.
>>>
>>> Don't I have plausible deniability already with any other password that
>>> I keep in mind, since the seed without the password is already a valid
>>> address?
>>>
>>> One issue might be, that the passphrase is part of the mnemonic. A
>>> hardware wallet needs the passphrase to generate the complete mnemonic
>>> (changing the password does change the resulting seed). Thus you get a
>>> chicken-egg problem, at least for some implementations. Probably you could
>>> use the restore feature to work around this - but it's one step more that
>>> should be mentioned.
>>>
>>>
>>> Kind regards
>>> Tobias
>>>
>>>
>>>
>>>
>>> BitPLATES? (Chris) via bitcoin-dev <
>>> bitcoin-dev at lists.linuxfoundation.org> schrieb am Sa., 8. Mai 2021,
>>> 17:21:
>>>
>>>> Hi,
>>>>
>>>> I'd like to submit an idea for review, as a potential informational BIP
>>>> (Bitcoin Improvement Proposal), describing an optional method of producing
>>>> a BIP39 passphrase, using only BIP39 'mnemonic' seed words.
>>>>
>>>> The idea specifically refers to a method of introducing two-factor
>>>> authentication, to protect a Bitcoin wallet using only 24 seed words, and
>>>> therefore, providing plausible deniability about the existence of this
>>>> separate 2nd layer passphrase.
>>>>
>>>> I've suggested the name 'quantum' passphrase to be used casually as a
>>>> unique identifier.
>>>>
>>>> The data stored within a 'quantum' passphrase, is simultaneously the
>>>> minimum required data for reproducing a BIP39-compatible 24-word seed
>>>> mnemonic... hence, the name 'quantum' seems fitting, to reflect the
>>>> multiple simultaneous states of data.
>>>>
>>>> Abstract...
>>>>
>>>> This improvement proposal describes the use of twenty four, newly
>>>> generated BIP39 seed words, to produce a '25th-word' BIP39-compatible
>>>> 'quantum' passphrase.
>>>>
>>>> Two-factor authentication (2FA) or (2 of 2 multi-signature) can be
>>>> implemented with a two-wallet setup:
>>>>
>>>> The 1st Bitcoin wallet is protected by the seed words of the 2nd
>>>> Bitcoin wallet; inversely, the 2nd Bitcoin wallet is protected by the seed
>>>> words of the 1st Bitcoin wallet.
>>>>
>>>> The 'quantum' passphrase offers an exponential increase in the level of
>>>> protection, as that offered by the original BIP39 mnemonic seed words
>>>> (?2048^23 possible combinations).
>>>>
>>>> ie. A Bitcoin wallet with a 2nd layer 'quantum'passphrase is protected
>>>> by 2048^23 to the power of 2048^23 possible combinations.
>>>>
>>>> With existing computer capabilities, this level of protection is far
>>>> greater than required; however, this does provide a sufficient level of
>>>> protection for each separate layer of a two-factor Bitcoin wallet, should
>>>> any one layer be accidentally exposed.
>>>>
>>>> This method of passphrase generation, consists of two parts:
>>>>
>>>> 1st - generating the BIP39 mnemonic seed words, using a
>>>> BIP39-compatible hardware wallet.
>>>>
>>>> 2nd - Converting these seed words into the 'quantum' passphrase,
>>>> following four simple rules, which most importantly, do not destroy the
>>>> integrity of the initial data.
>>>>
>>>> Motivation...
>>>>
>>>> The well established practice of preserving up to 24 seed words for the
>>>> purpose of reproduction of a Bitcoin wallet, suffers from a major flaw...
>>>> Exposure of these mnemonic seed words can cause catastrophic loss of funds
>>>> without adequate multi-factor protection.
>>>>
>>>> Whilst it is recognised that a number of multi-factor solutions are
>>>> available (including the standard BIP39 passphrase, and hardware wallet
>>>> multi-signature functionality), this proposal aims to provide an extremely
>>>> safe and secure 'low-tech' option, that requires minimal (non-destructive)
>>>> adjustments to the seed words.
>>>>
>>>> Furthermore, the 'quantum' passphrase offers a number advantages over
>>>> the existing methods of multi-factor protection:
>>>>
>>>> Firstly, this method of creating a passphrase leaves no evidence of its
>>>> existence on any backup devices, providing plausible deniability in case of
>>>> coercion.
>>>>
>>>> This is because the passphrase is easily created from a genuine 24 seed
>>>> word mnemonic; therefore, the physical backup of the passphrase can be
>>>> disguised as a simple Bitcoin wallet on a metal backup plate.
>>>>
>>>> It presents a way of discouraging user-created words or sentences (also
>>>> known as 'brain-wallets'), which often provide a drastically reduced level
>>>> of passphrase security, unbeknown to many users.
>>>>
>>>> The large amount of data required to produce a 'quantum' passphrase (up
>>>> to 96 characters long), encourages the physical backup of the passphrase.
>>>>
>>>> Furthermore, the use of BIP39-only words provides a higher degree of
>>>> standardization, which can help to avoid potential mistakes made by
>>>> creating unnecessarily complicated combinations of letters, numbers and
>>>> symbols. Increased complication (disorderly, and non-human-friendly), does
>>>> not always equal increased complexity (orderly, and more human-friendly),
>>>> or increased security.
>>>>
>>>> As previously mentioned, a two-wallet configuration provides the user
>>>> an opportunity to safely split the two factors of protection (equivalent to
>>>> a 2 of 2 'multi-sig' setup).
>>>>
>>>> If a BIP39-compatible passphrase is created using a new set of 24 seed
>>>> words, it provides 76 degrees of extra complexity (ie. 1 with 76 zeros, or
>>>> 10?? possible combinations of words).
>>>>
>>>> The strength of this 2nd factor solution, provides adequate
>>>> risk-management, when considering the production of multiple backup
>>>> devices, strategically stored in multiple geographical locations.
>>>>
>>>> Generating the 'quantum' passphrase...
>>>>
>>>> Following just four (non-destructive) BIP39-compatible rules, the 24
>>>> seed words can also function as a 'quantum' passphrase:
>>>>
>>>> 1 . Only BIP39 words
>>>> (Standard list of 2048 English words - other languages should be
>>>> compatible)
>>>>
>>>> 2 . Only the first four letters of each word
>>>> (BIP39 words require only this data for reproduction)
>>>>
>>>> 3 . Only upper case letters
>>>> (All alphabet references use this standard format)
>>>>
>>>> 4 . No spaces between words
>>>> (Spaces represent an additional unit of data, that is not recorded)
>>>>
>>>> In essence, the 'quantum' passphrase is simply a single string of all
>>>> 24 seed words, set out using the above rules.
>>>>
>>>> I welcome a productive technical discussion.
>>>>
>>>> Thanks,
>>>>
>>>> Chris Johnston
>>>>
>>>>
>>>> _______________________________________________
>>>> bitcoin-dev mailing list
>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>
>>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210510/4412fe5d/attachment-0001.html>

From erik at q32.com  Mon May 10 14:08:14 2021
From: erik at q32.com (Erik Aronesty)
Date: Mon, 10 May 2021 10:08:14 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
Message-ID: <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>

personally, not speaking for anyone else, i think that proof-of-burn
has a much higher likelihood of being a) good enough security and b)
solving the nothing-at-stake problem

 the only issue i see with a quality PoB implementation is a robust
solution to the block-timing problem.

https://grisha.org/blog/2018/01/23/explaining-proof-of-work/

i do think there *could* be other low-energy solutions to verifiable
timing, just haven't seen one


On Fri, May 7, 2021 at 6:50 PM SatoshiSingh via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org> wrote:
>
> Hello list,
>
> I am a lurker here and like many of you I worry about the energy usage of bitcoin mining. I understand a lot mining happens with renewable resources but the impact is still high.
>
> I want to get your opinion on implementing proof of stake for bitcoin mining in future. For now, proof of stake is still untested and not battle tested like proof of work. Though someday it will be.
>
> In the following years we'll be seeing proof of stake being implemented. Smaller networks can test PoS which is a luxury bitcoin can't afford. Here's how I see this the possibilities:
>
> 1 - Proof of stake isn't a good enough security mechanism
> 2 - Proof of state is a good security mechanism and works as intended
>
> IF PoS turns out to be good after battle testing, would you consider implementing it for Bitcoin? I understand this would invoke a lot of controversies and a hard fork that no one likes. But its important enough to consider a hard fork. What are your opinions provided PoS does work?
>
> Love from India.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From keagan.mcclelland at gmail.com  Mon May 10 15:01:05 2021
From: keagan.mcclelland at gmail.com (Keagan McClelland)
Date: Mon, 10 May 2021 09:01:05 -0600
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
Message-ID: <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>

To reiterate some of the points here. My problem with proof of stake is
twofold.

1. It requires permission of coin holders to enter into the system. This is
not true of proof of work. You may even attempt (though not successfully) a
proof of work with pencil and paper and submit the block from a regular
laptop if you so choose. Whether this level of permissionlessness is
necessary is up to individual risk tolerance etc. but it is definitely the
default preference of Bitcoin.

2. Proof of stake must have a trusted means of timestamping to regulate
overproduction of blocks. This introduction of trust is generally
considered to be a nonstarter in Bitcoin. Proof of Work regulates this by
making blocks fundamentally difficult to produce in the first place.

Like Jeremy, I?m always interested to learn about new attempts in consensus
algorithms, but the bar to clear is very high and proof of stake to date
has not proposed much less demonstrated a set of properties that is
consistent with Bitcoins objectives.

Keagan

On Mon, May 10, 2021 at 8:43 AM Erik Aronesty via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> personally, not speaking for anyone else, i think that proof-of-burn
> has a much higher likelihood of being a) good enough security and b)
> solving the nothing-at-stake problem
>
>  the only issue i see with a quality PoB implementation is a robust
> solution to the block-timing problem.
>
> https://grisha.org/blog/2018/01/23/explaining-proof-of-work/
>
> i do think there *could* be other low-energy solutions to verifiable
> timing, just haven't seen one
>
>
> On Fri, May 7, 2021 at 6:50 PM SatoshiSingh via bitcoin-dev
> <bitcoin-dev at lists.linuxfoundation.org> wrote:
> >
> > Hello list,
> >
> > I am a lurker here and like many of you I worry about the energy usage
> of bitcoin mining. I understand a lot mining happens with renewable
> resources but the impact is still high.
> >
> > I want to get your opinion on implementing proof of stake for bitcoin
> mining in future. For now, proof of stake is still untested and not battle
> tested like proof of work. Though someday it will be.
> >
> > In the following years we'll be seeing proof of stake being implemented.
> Smaller networks can test PoS which is a luxury bitcoin can't afford.
> Here's how I see this the possibilities:
> >
> > 1 - Proof of stake isn't a good enough security mechanism
> > 2 - Proof of state is a good security mechanism and works as intended
> >
> > IF PoS turns out to be good after battle testing, would you consider
> implementing it for Bitcoin? I understand this would invoke a lot of
> controversies and a hard fork that no one likes. But its important enough
> to consider a hard fork. What are your opinions provided PoS does work?
> >
> > Love from India.
> > _______________________________________________
> > bitcoin-dev mailing list
> > bitcoin-dev at lists.linuxfoundation.org
> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210510/a45a8038/attachment.html>

From jlrubin at mit.edu  Mon May 10 21:51:26 2021
From: jlrubin at mit.edu (Jeremy)
Date: Mon, 10 May 2021 14:51:26 -0700
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
Message-ID: <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>

re: 2, there's been some promising developments with Verifiable Delay
Functions that make me think that the block regulation problems are
solvable without requiring brute-force search proof of work. Are those
inapplicable for some reason?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210510/ec6b1926/attachment.html>

From willtech at live.com.au  Mon May 10 21:22:17 2021
From: willtech at live.com.au (LORD HIS EXCELLENCY JAMES HRMH)
Date: Mon, 10 May 2021 21:22:17 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>,
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
Message-ID: <PS2P216MB10897B23359226ADA4859AE89D549@PS2P216MB1089.KORP216.PROD.OUTLOOK.COM>

Good Afternoon,

Proof-of-stake sounds like an altcoin fork. There is no consideration that proof-of-work is insufficient or that it can be improved upon, only that it should be regulated. Imagine, you are a gold miner with larger hands so you start a mining race and mine plenty more than everyone. Pretty soon everybody is employing all their available resources just to keep up in the mining race since there are only so many carts instead of just to leisurely utilise surplus resources for an opportune find. Each block is a new gold mine. It is enough for everybody to use leisurely resources.

I have initiated conversation previously regarding a method to regulate mining, and believe whole heartedly it should happen. That is necessary for the future stability of Bitcoin as it is clear the rate of work cannot be allowed to increase at such a rate. If you search the bitcoin-dev archives you will find discussion there under my email as we search for a solution.

KING JAMES HRMH
Great British Empire

Regards,
The Australian
LORD HIS EXCELLENCY JAMES HRMH (& HMRH)
of Hougun Manor & Glencoe & British Empire
MR. Damian A. James Williamson
Wills

et al.


Willtech
www.willtech.com.au
www.go-overt.com
and other projects

earn.com/willtech
linkedin.com/in/damianwilliamson


m. 0487135719
f. +61261470192


This email does not constitute a general advice. Please disregard this email if misdelivered.
________________________________
From: bitcoin-dev <bitcoin-dev-bounces at lists.linuxfoundation.org> on behalf of Keagan McClelland via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>
Sent: Tuesday, 11 May 2021 1:01 AM
To: Bitcoin Protocol Discussion <bitcoin-dev at lists.linuxfoundation.org>; Erik Aronesty <erik at q32.com>
Cc: SatoshiSingh <SatoshiSingh at protonmail.com>
Subject: Re: [bitcoin-dev] Opinion on proof of stake in future

To reiterate some of the points here. My problem with proof of stake is twofold.

1. It requires permission of coin holders to enter into the system. This is not true of proof of work. You may even attempt (though not successfully) a proof of work with pencil and paper and submit the block from a regular laptop if you so choose. Whether this level of permissionlessness is necessary is up to individual risk tolerance etc. but it is definitely the default preference of Bitcoin.

2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks. This introduction of trust is generally considered to be a nonstarter in Bitcoin. Proof of Work regulates this by making blocks fundamentally difficult to produce in the first place.

Like Jeremy, I?m always interested to learn about new attempts in consensus algorithms, but the bar to clear is very high and proof of stake to date has not proposed much less demonstrated a set of properties that is consistent with Bitcoins objectives.

Keagan

On Mon, May 10, 2021 at 8:43 AM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org<mailto:bitcoin-dev at lists.linuxfoundation.org>> wrote:
personally, not speaking for anyone else, i think that proof-of-burn
has a much higher likelihood of being a) good enough security and b)
solving the nothing-at-stake problem

 the only issue i see with a quality PoB implementation is a robust
solution to the block-timing problem.

https://grisha.org/blog/2018/01/23/explaining-proof-of-work/

i do think there *could* be other low-energy solutions to verifiable
timing, just haven't seen one


On Fri, May 7, 2021 at 6:50 PM SatoshiSingh via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org<mailto:bitcoin-dev at lists.linuxfoundation.org>> wrote:
>
> Hello list,
>
> I am a lurker here and like many of you I worry about the energy usage of bitcoin mining. I understand a lot mining happens with renewable resources but the impact is still high.
>
> I want to get your opinion on implementing proof of stake for bitcoin mining in future. For now, proof of stake is still untested and not battle tested like proof of work. Though someday it will be.
>
> In the following years we'll be seeing proof of stake being implemented. Smaller networks can test PoS which is a luxury bitcoin can't afford. Here's how I see this the possibilities:
>
> 1 - Proof of stake isn't a good enough security mechanism
> 2 - Proof of state is a good security mechanism and works as intended
>
> IF PoS turns out to be good after battle testing, would you consider implementing it for Bitcoin? I understand this would invoke a lot of controversies and a hard fork that no one likes. But its important enough to consider a hard fork. What are your opinions provided PoS does work?
>
> Love from India.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org<mailto:bitcoin-dev at lists.linuxfoundation.org>
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
_______________________________________________
bitcoin-dev mailing list
bitcoin-dev at lists.linuxfoundation.org<mailto:bitcoin-dev at lists.linuxfoundation.org>
https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210510/788958ad/attachment-0001.html>

From bitplates at marketnetworks.co.uk  Tue May 11 08:48:44 2021
From: bitplates at marketnetworks.co.uk (BitPLATES (Chris))
Date: Tue, 11 May 2021 09:48:44 +0100
Subject: [bitcoin-dev] Proposal for an Informational BIP
In-Reply-To: <CAC0TF=m+Cg_LKz0vSuTb-xg6qY1GbeGMjaXa0bgoiLqtCbMikQ@mail.gmail.com>
References: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>
 <CAC0TF=m+Cg_LKz0vSuTb-xg6qY1GbeGMjaXa0bgoiLqtCbMikQ@mail.gmail.com>
Message-ID: <CAAvTZ64H3jQJ9F-Hxbc1=0+pN8p=wGEEcMokpoJCFJSVDjqzKA@mail.gmail.com>

Hi Chris,

Thank you for your thoughts.

Unfortunately, your analysis is incorrect.

This is a non-destructive adaptation of the BIP39 standard, and is
certainly not "rolling your own security".

The 'quantum' passphrase is relying on the well established security of the
existing BIP39 standard.

There are 2048 possible words that can be chosen from the BIP39 word list.
Therefore, to derive a seed from a string of 24 BIP39 words, is exactly the
same as deriving a seed from the full 24 words:

2048 to the power of 23 combinations of security (not the power of 24
because of the checksum), or 10 to the power of 76 combinations.

If you created your own combinations of words to make up a passphrase, this
same degree of security would require 15 random words from the English
dictionary (assuming 100,000 English words):

100,000 to the power of 15 = 10 to the power of 75 combinations.

The other problem with this, is that you could not plausibly deny that it
was a passphrase, whereas, using a 'quantum' passphrase allows you to
backup your passphrase disguised as a 24 seed mnemonic.

I hope this alleviates your concerns.

All the best,

Chris


On Tue, 11 May 2021, 09:12 Chris D'Costa, <chrisjdcosta at gmail.com> wrote:

> I think the biggest problem you have with this proposal is "rolling your
> own security".
>
> Are you aware that the dictionary is designed such that the first four
> letters are unique to each word? Taking those four letters and
> concatenating them to a string basically means that I can derive your seed
> from your supposedly secure "quantum" passphrase. It does not add to the
> security - if anything it makes it worse. It would be orders of magnitude
> worse than using a random password and encryption as most wallets have been
> using for years.
>
> C
>
> On Sat, 8 May 2021 at 17:21, BitPLATES? (Chris) via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Hi,
>>
>> I'd like to submit an idea for review, as a potential informational BIP
>> (Bitcoin Improvement Proposal), describing an optional method of producing
>> a BIP39 passphrase, using only BIP39 'mnemonic' seed words.
>>
>> The idea specifically refers to a method of introducing two-factor
>> authentication, to protect a Bitcoin wallet using only 24 seed words, and
>> therefore, providing plausible deniability about the existence of this
>> separate 2nd layer passphrase.
>>
>> I've suggested the name 'quantum' passphrase to be used casually as a
>> unique identifier.
>>
>> The data stored within a 'quantum' passphrase, is simultaneously the
>> minimum required data for reproducing a BIP39-compatible 24-word seed
>> mnemonic... hence, the name 'quantum' seems fitting, to reflect the
>> multiple simultaneous states of data.
>>
>> Abstract...
>>
>> This improvement proposal describes the use of twenty four, newly
>> generated BIP39 seed words, to produce a '25th-word' BIP39-compatible
>> 'quantum' passphrase.
>>
>> Two-factor authentication (2FA) or (2 of 2 multi-signature) can be
>> implemented with a two-wallet setup:
>>
>> The 1st Bitcoin wallet is protected by the seed words of the 2nd Bitcoin
>> wallet; inversely, the 2nd Bitcoin wallet is protected by the seed words of
>> the 1st Bitcoin wallet.
>>
>> The 'quantum' passphrase offers an exponential increase in the level of
>> protection, as that offered by the original BIP39 mnemonic seed words
>> (?2048^23 possible combinations).
>>
>> ie. A Bitcoin wallet with a 2nd layer 'quantum'passphrase is protected by
>> 2048^23 to the power of 2048^23 possible combinations.
>>
>> With existing computer capabilities, this level of protection is far
>> greater than required; however, this does provide a sufficient level of
>> protection for each separate layer of a two-factor Bitcoin wallet, should
>> any one layer be accidentally exposed.
>>
>> This method of passphrase generation, consists of two parts:
>>
>> 1st - generating the BIP39 mnemonic seed words, using a BIP39-compatible
>> hardware wallet.
>>
>> 2nd - Converting these seed words into the 'quantum' passphrase,
>> following four simple rules, which most importantly, do not destroy the
>> integrity of the initial data.
>>
>> Motivation...
>>
>> The well established practice of preserving up to 24 seed words for the
>> purpose of reproduction of a Bitcoin wallet, suffers from a major flaw...
>> Exposure of these mnemonic seed words can cause catastrophic loss of funds
>> without adequate multi-factor protection.
>>
>> Whilst it is recognised that a number of multi-factor solutions are
>> available (including the standard BIP39 passphrase, and hardware wallet
>> multi-signature functionality), this proposal aims to provide an extremely
>> safe and secure 'low-tech' option, that requires minimal (non-destructive)
>> adjustments to the seed words.
>>
>> Furthermore, the 'quantum' passphrase offers a number advantages over the
>> existing methods of multi-factor protection:
>>
>> Firstly, this method of creating a passphrase leaves no evidence of its
>> existence on any backup devices, providing plausible deniability in case of
>> coercion.
>>
>> This is because the passphrase is easily created from a genuine 24 seed
>> word mnemonic; therefore, the physical backup of the passphrase can be
>> disguised as a simple Bitcoin wallet on a metal backup plate.
>>
>> It presents a way of discouraging user-created words or sentences (also
>> known as 'brain-wallets'), which often provide a drastically reduced level
>> of passphrase security, unbeknown to many users.
>>
>> The large amount of data required to produce a 'quantum' passphrase (up
>> to 96 characters long), encourages the physical backup of the passphrase.
>>
>> Furthermore, the use of BIP39-only words provides a higher degree of
>> standardization, which can help to avoid potential mistakes made by
>> creating unnecessarily complicated combinations of letters, numbers and
>> symbols. Increased complication (disorderly, and non-human-friendly), does
>> not always equal increased complexity (orderly, and more human-friendly),
>> or increased security.
>>
>> As previously mentioned, a two-wallet configuration provides the user an
>> opportunity to safely split the two factors of protection (equivalent to a
>> 2 of 2 'multi-sig' setup).
>>
>> If a BIP39-compatible passphrase is created using a new set of 24 seed
>> words, it provides 76 degrees of extra complexity (ie. 1 with 76 zeros, or
>> 10?? possible combinations of words).
>>
>> The strength of this 2nd factor solution, provides adequate
>> risk-management, when considering the production of multiple backup
>> devices, strategically stored in multiple geographical locations.
>>
>> Generating the 'quantum' passphrase...
>>
>> Following just four (non-destructive) BIP39-compatible rules, the 24 seed
>> words can also function as a 'quantum' passphrase:
>>
>> 1 . Only BIP39 words
>> (Standard list of 2048 English words - other languages should be
>> compatible)
>>
>> 2 . Only the first four letters of each word
>> (BIP39 words require only this data for reproduction)
>>
>> 3 . Only upper case letters
>> (All alphabet references use this standard format)
>>
>> 4 . No spaces between words
>> (Spaces represent an additional unit of data, that is not recorded)
>>
>> In essence, the 'quantum' passphrase is simply a single string of all 24
>> seed words, set out using the above rules.
>>
>> I welcome a productive technical discussion.
>>
>> Thanks,
>>
>> Chris Johnston
>>
>>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210511/ff8686e6/attachment.html>

From prayank at tutanota.de  Tue May 11 09:05:40 2021
From: prayank at tutanota.de (Prayank)
Date: Tue, 11 May 2021 11:05:40 +0200 (CEST)
Subject: [bitcoin-dev] Prediction Markets and Bitcoin
In-Reply-To: <y8Kg6O56gsHAibyZ_UbVSFVWXtS-77wg7H-KKhpDfL-CdGyt7KaZ5y9RDhU7kdgr8JDfkQjTtbkm4vX8UMnxAhSs0nKdt8yFhpfZmc-JBLU=@protonmail.com>
References: <y8Kg6O56gsHAibyZ_UbVSFVWXtS-77wg7H-KKhpDfL-CdGyt7KaZ5y9RDhU7kdgr8JDfkQjTtbkm4vX8UMnxAhSs0nKdt8yFhpfZmc-JBLU=@protonmail.com>
Message-ID: <M_PfAhN--3-2@tutanota.de>

Good morning?ZmnSCPxj,

This will be a long email because I want to cover all the things and difficult to express them in few sentences or respond to the tweets about use of futures markets in Bitcoin.

TL;DR: Prediction markets or futures markets can be helpful in collecting more information and hedging however, if used incorrectly can become a reason for failure of Bitcoin.

===============================================================

>?Of course development must be free to do what is best technically, and to experiment and see what other techniques are possible or workable. Thus the market must follow development.

Agree.

>?Of course the people ultimately funding the development must impose what direction that development goes to, after all, it is their money that is being modified. Thus development must follow the market.

Disagree.?

1.A position in a futures market about possible outcomes of an event is not equivalent to funding Bitcoin development.

2.People or organizations funding Bitcoin developers or projects can always have some opinion, influence and disagreements. They can never impose or force something at least in Bitcoin protocol.

> what is unclear is what the market wants, thus I think prediction markets are something that are needed in order for the negotiation

Partially agree. Yes, its not clear what the market wants and sometimes its unclear even after expiry of futures contract because two people can look at the same data and share different analysis. Prediction markets are not needed for negotiation but can be helpful sometimes.

===============================================================

3 things I mentioned in TL;DR: Hedging, Collecting information and Incorrect usage

1.Hedging:
Futures market can be useful in hedging few things in Bitcoin. Jack Mallers had shared the idea of using futures markets for 'fees' in Lightning Conference:?https://www.youtube.com/watch?v=rBCG0btUlTw

Summary of the presentation(Hedging the chain): Derivatives contracts are used to hedge financial exposure.? Projects and businesses that use bitcoin transactions regularly prefer paying less transaction fees. Miners revenue increases if transaction fees goes up and subsidy is reduced after every 210,000 blocks so miners prefer high transaction fees or more fees per block.

Examples:

A)Zap expects $1000/month on-chain operating costs. Longs(1x) on-chain fee futures. If bitcoin transaction fees for the month costs more than $1000, the loss will be covered with profits from long position. If long position is in loss because fees are low, it will be covered by paying less than $1000 for the month in transaction fees.

Miner expects $1000/month on-chain fee profits. Shorts(1x) on-chain fee futures. If short position is in loss because fees go up, loss will be covered with more profits from mining. If profits are less from mining because fees was low, loss will be covered with profits in short position,

B)Hashrate Derivatives:?https://onthebrink-podcast.com/tim-kelly-bitooda/

C)Consider there is a futures contract for Taproot soft fork. Alice has done enough research and thinks Taproot will be activated. She opens a long position. Bob thinks miners signaling will not reach the required threshold, so Taproot will not be activated with MASF. Bob opens a short position. Carol is working on a project that will work better with taproot activated. She is not interested in speculating but wants to hedge the financial exposure. Carol expects her project will receive $10000 funding and make $1000 profits per month. She opens a short position (1x) which will cover the loss incase taproot is not activated. If taproot is not activated, UASF can take another year which will delay her funding and profits but she can cover this loss with the profits from short position. This futures contract will expire on?2021-08-11 00:00 UTC and settlement is based on multiple oracles that broadcast results for `getblockchaininfo` regularly for their nodes. Start date can be before or after signaling. Trade-offs: If the futures contract starts before signaling, miners are likely to follow the market (not necessary). If the futures contract starts after a week of signaling, traders can use this information while opening a position. In this example, futures contract starts from?2021-05-01 00:00 UTC.

Similarly if we improve privacy in Bitcoin with a soft fork that includes confidential transactions, Chainalysis can use such futures contract to open a long position because it affects their business. If CT-SF is activated, they can cover some loss with the profits from long position.?

2.Collecting more information:
a - Bitcoin Dev Mailing List
b - Different PRs: GitHub repository for Bitcoin Core and other implementations
c - IRC channels
d - Bitcoin Stackexchange (If not sure about some technical things involved in a soft fork)
e - Reddit posts
f - Twitter (Not the best place to discuss anything important but used a lot so consider it as a source)
g- Opinion of mining pools: 2nd column in the table?https://taprootactivation.com/
h- Bitcoin meetups
i - Bitcoin podcasts
k- Interacting with different people involved in exchanges(centralized and DEX), wallets, merchants, layer 2 projects, darknet forums, journalists and activists that use bitcoin for censorship resistant payments, people in countries where local currency cannot be used to store value long term, new developers interested to build Bitcoin projects, people and organizations funding different Bitcoin projects or devs etc.
l - Miners signaling:?https://taproot.watch/?(This is not voting, it represents "readiness")
m-Futures market using P2P derivatives:?https://github.com/p2pderivatives/p2pderivatives-client

I don't think futures market in this case will be able to aggregate and reflect all available information so everything mentioned above has its own importance which should be considered. Maybe I missed few things.

3.Incorrect usage of futures markets in Bitcoin and other issues:

Issues and few examples:

Incentives: If you create a futures market to predict if someone is alive or not, there can always be someone trying to exploit it by betting on death and kill the person before expiry of futures contract. Similarly, miners can manipulate fees in short term and affect the futures market suggested by Jack Mallers.

Legality: It may not be possible for everyone to participate in such markets or some people may avoid because of laws in their country.

Knowledge: You need more than just money and click on a button to understand changes proposed in a BIP. Not everyone can understand the technical things involved. Due to this lack of knowledge, the crowd can sometimes be wrong.

Volume and Liquidity: Thin orderbooks and low trading volumes can be manipulated easily.

Prediction market inaccuracies:

-Brexit
-2016 US Presidential Elections
-In 2004 presidential markets a single trader made a series of large investments in an apparent attempt to make one candidate appear stronger (This manipulation was for short term but?markets can remain irrational longer than you can remain solvent)
-Finding weapons of mass destruction in Iraq in 2003
-Nomination of John Roberts to the U.S. Supreme Court in 2005

A)We don't have enough sample size to conclude anything about use of futures markets for Bitcoin soft forks in past.

B)Futures markets cannot be used alone to 'decide' 'things in Bitcoin by ignoring everything else. Example: A soft fork is proposed as BIP. Code to implement is reviewed. Most users agree with the improvements. Mining pools, exchanges, merchants, different projects, other businesses have no issues. Miners signaling in first week looks positive. Futures market is uncertain and this uncertainty is reflected in signaling for sometime. People who are against UASF think Bitcoin doesn't need any improvements. Miners signaling was more than 70% but never reach the threshold and soft fork is not activated. Any discussions about UASF are termed as anti-Bitcoin by few devs because "markets".? This soft fork could have improved privacy and add more features. However, we ignore everything and respond with "ossification" meme or something else on Twitter when someone asks for basic improvements in Bitcoin.

Futures markets should exist and nobody can stop people from participating in such markets however we should be careful in using them for Bitcoin.

-- 
 Prayank

Apr 16, 2021, 09:09 by ZmnSCPxj at protonmail.com:

> Good morning Prayank,
>
>
>> I think prediction markets or such tokens might help in adding to the information we already have however they don't decide or replace anything. Bitcoin development should impact such markets and not the other way around.?
>>
>
> "Human behavior is economic behavior. The particulars may vary, but competition for limited resources remains a constant. Need as well as greed have followed us to the stars, and the rewards of wealth still await those wise enough to recognize this deep thrumming of our common pulse. " -- CEO Nwabudike Morgan, "The Centauri Monopoly", *Sid Meier's Alpha Centauri*
>
> This is the tension between the necessary freedom of discovering strange new techniques, and the exigencies of life, where every joule of negentropy is a carefully measured resource.
>
> Of course development must be free to do what is best technically, and to experiment and see what other techniques are possible or workable.
> Thus the market must follow development.
>
> Of course the people ultimately funding the development must impose what direction that development goes to, after all, it is their money that is being modified.
> Thus development must follow the market.
>
> It is the negotiation of the two that is difficult.
>
> Overall, I think a lot of the developer arguments are reasonably clear --- what is unclear is what the market wants, thus I think prediction markets are something that are needed in order for the negotiation between these two aspects to advance.
>
> Regards,
> ZmnSCPxj
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210511/5b2cc360/attachment-0001.html>

From bitplates at marketnetworks.co.uk  Tue May 11 17:45:13 2021
From: bitplates at marketnetworks.co.uk (BitPLATES (Chris))
Date: Tue, 11 May 2021 18:45:13 +0100
Subject: [bitcoin-dev] Proposal for an Informational BIP
In-Reply-To: <CAC0TF=meoUhRUMWmto8fxksse6G=66XJdxH8bvFfHENvVnS_+A@mail.gmail.com>
References: <CAAvTZ6546k0Rx2ODQ7EHJWV=F-DU-kQEg=Qh6yK6WNH-dmgv8w@mail.gmail.com>
 <CAC0TF=m+Cg_LKz0vSuTb-xg6qY1GbeGMjaXa0bgoiLqtCbMikQ@mail.gmail.com>
 <CAAvTZ64H3jQJ9F-Hxbc1=0+pN8p=wGEEcMokpoJCFJSVDjqzKA@mail.gmail.com>
 <CAC0TF=meoUhRUMWmto8fxksse6G=66XJdxH8bvFfHENvVnS_+A@mail.gmail.com>
Message-ID: <CAAvTZ67kGBeqKd_mTdMU-S_Q1K92R5qq=vwTe12TrTnUAxUpfA@mail.gmail.com>

Hi Chris,

I apologise if I did not make it clear enough, but the 24 seed words used
to make the quantum passphrase are separate, newly generated 24 seed words,
and not the same as those for the main wallet.

With both layers (seed words + quantum passphrase) the security provided is
(2048^23)^(2048^23).

ie. 2048 to the power of 23, to the power of 2048 to the power of 23
possible combinations of words.

The BIP39 passphrase is designed to prevent catastrophic loss of funds in
the case of accidental seed word exposure.

If both, seed words and quantum passphrase, are stored on two separate
metal backup storage plates, in two separate locations, then the accidental
disclosure of either one provides 2048^23 (or 10^76) possible combinations
of words to decrypt.

ie. The quantum passphrase provides the same degree of security, as the
original 24 seed words.

I hope this helps.

Best regards,

Chris


On Tue, 11 May 2021, 17:54 Chris D'Costa, <chrisjdcosta at gmail.com> wrote:

> "well established security of the existing BIP39 standard"
>
> You are basing your entire proposal on this basic misunderstanding.
>
> There is no inherent (or "existing") security in BIP39. All it does is
> provide a standardised and convenient way to record, and recover a
> private key from a readable seed phrase. In fact there are many language
> versions of BIP39 dictionary. But really the worst part of the idea from a
> security perspective is that it reveals the seed phrase. Even a simple
> password to encrypt (whilst possibly weak) would still never so this!
>
> C
>
>
> On Tue, 11 May 2021 at 10:48, BitPLATES (Chris) <
> bitplates at marketnetworks.co.uk> wrote:
>
>> Hi Chris,
>>
>> Thank you for your thoughts.
>>
>> Unfortunately, your analysis is incorrect.
>>
>> This is a non-destructive adaptation of the BIP39 standard, and is
>> certainly not "rolling your own security".
>>
>> The 'quantum' passphrase is relying on the well established security of
>> the existing BIP39 standard.
>>
>> There are 2048 possible words that can be chosen from the BIP39 word
>> list. Therefore, to derive a seed from a string of 24 BIP39 words, is
>> exactly the same as deriving a seed from the full 24 words:
>>
>> 2048 to the power of 23 combinations of security (not the power of 24
>> because of the checksum), or 10 to the power of 76 combinations.
>>
>> If you created your own combinations of words to make up a passphrase,
>> this same degree of security would require 15 random words from the English
>> dictionary (assuming 100,000 English words):
>>
>> 100,000 to the power of 15 = 10 to the power of 75 combinations.
>>
>> The other problem with this, is that you could not plausibly deny that it
>> was a passphrase, whereas, using a 'quantum' passphrase allows you to
>> backup your passphrase disguised as a 24 seed mnemonic.
>>
>> I hope this alleviates your concerns.
>>
>> All the best,
>>
>> Chris
>>
>>
>> On Tue, 11 May 2021, 09:12 Chris D'Costa, <chrisjdcosta at gmail.com> wrote:
>>
>>> I think the biggest problem you have with this proposal is "rolling your
>>> own security".
>>>
>>> Are you aware that the dictionary is designed such that the first four
>>> letters are unique to each word? Taking those four letters and
>>> concatenating them to a string basically means that I can derive your seed
>>> from your supposedly secure "quantum" passphrase. It does not add to the
>>> security - if anything it makes it worse. It would be orders of magnitude
>>> worse than using a random password and encryption as most wallets have been
>>> using for years.
>>>
>>> C
>>>
>>> On Sat, 8 May 2021 at 17:21, BitPLATES? (Chris) via bitcoin-dev <
>>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>
>>>> Hi,
>>>>
>>>> I'd like to submit an idea for review, as a potential informational BIP
>>>> (Bitcoin Improvement Proposal), describing an optional method of producing
>>>> a BIP39 passphrase, using only BIP39 'mnemonic' seed words.
>>>>
>>>> The idea specifically refers to a method of introducing two-factor
>>>> authentication, to protect a Bitcoin wallet using only 24 seed words, and
>>>> therefore, providing plausible deniability about the existence of this
>>>> separate 2nd layer passphrase.
>>>>
>>>> I've suggested the name 'quantum' passphrase to be used casually as a
>>>> unique identifier.
>>>>
>>>> The data stored within a 'quantum' passphrase, is simultaneously the
>>>> minimum required data for reproducing a BIP39-compatible 24-word seed
>>>> mnemonic... hence, the name 'quantum' seems fitting, to reflect the
>>>> multiple simultaneous states of data.
>>>>
>>>> Abstract...
>>>>
>>>> This improvement proposal describes the use of twenty four, newly
>>>> generated BIP39 seed words, to produce a '25th-word' BIP39-compatible
>>>> 'quantum' passphrase.
>>>>
>>>> Two-factor authentication (2FA) or (2 of 2 multi-signature) can be
>>>> implemented with a two-wallet setup:
>>>>
>>>> The 1st Bitcoin wallet is protected by the seed words of the 2nd
>>>> Bitcoin wallet; inversely, the 2nd Bitcoin wallet is protected by the seed
>>>> words of the 1st Bitcoin wallet.
>>>>
>>>> The 'quantum' passphrase offers an exponential increase in the level of
>>>> protection, as that offered by the original BIP39 mnemonic seed words
>>>> (?2048^23 possible combinations).
>>>>
>>>> ie. A Bitcoin wallet with a 2nd layer 'quantum'passphrase is protected
>>>> by 2048^23 to the power of 2048^23 possible combinations.
>>>>
>>>> With existing computer capabilities, this level of protection is far
>>>> greater than required; however, this does provide a sufficient level of
>>>> protection for each separate layer of a two-factor Bitcoin wallet, should
>>>> any one layer be accidentally exposed.
>>>>
>>>> This method of passphrase generation, consists of two parts:
>>>>
>>>> 1st - generating the BIP39 mnemonic seed words, using a
>>>> BIP39-compatible hardware wallet.
>>>>
>>>> 2nd - Converting these seed words into the 'quantum' passphrase,
>>>> following four simple rules, which most importantly, do not destroy the
>>>> integrity of the initial data.
>>>>
>>>> Motivation...
>>>>
>>>> The well established practice of preserving up to 24 seed words for the
>>>> purpose of reproduction of a Bitcoin wallet, suffers from a major flaw...
>>>> Exposure of these mnemonic seed words can cause catastrophic loss of funds
>>>> without adequate multi-factor protection.
>>>>
>>>> Whilst it is recognised that a number of multi-factor solutions are
>>>> available (including the standard BIP39 passphrase, and hardware wallet
>>>> multi-signature functionality), this proposal aims to provide an extremely
>>>> safe and secure 'low-tech' option, that requires minimal (non-destructive)
>>>> adjustments to the seed words.
>>>>
>>>> Furthermore, the 'quantum' passphrase offers a number advantages over
>>>> the existing methods of multi-factor protection:
>>>>
>>>> Firstly, this method of creating a passphrase leaves no evidence of its
>>>> existence on any backup devices, providing plausible deniability in case of
>>>> coercion.
>>>>
>>>> This is because the passphrase is easily created from a genuine 24 seed
>>>> word mnemonic; therefore, the physical backup of the passphrase can be
>>>> disguised as a simple Bitcoin wallet on a metal backup plate.
>>>>
>>>> It presents a way of discouraging user-created words or sentences (also
>>>> known as 'brain-wallets'), which often provide a drastically reduced level
>>>> of passphrase security, unbeknown to many users.
>>>>
>>>> The large amount of data required to produce a 'quantum' passphrase (up
>>>> to 96 characters long), encourages the physical backup of the passphrase.
>>>>
>>>> Furthermore, the use of BIP39-only words provides a higher degree of
>>>> standardization, which can help to avoid potential mistakes made by
>>>> creating unnecessarily complicated combinations of letters, numbers and
>>>> symbols. Increased complication (disorderly, and non-human-friendly), does
>>>> not always equal increased complexity (orderly, and more human-friendly),
>>>> or increased security.
>>>>
>>>> As previously mentioned, a two-wallet configuration provides the user
>>>> an opportunity to safely split the two factors of protection (equivalent to
>>>> a 2 of 2 'multi-sig' setup).
>>>>
>>>> If a BIP39-compatible passphrase is created using a new set of 24 seed
>>>> words, it provides 76 degrees of extra complexity (ie. 1 with 76 zeros, or
>>>> 10?? possible combinations of words).
>>>>
>>>> The strength of this 2nd factor solution, provides adequate
>>>> risk-management, when considering the production of multiple backup
>>>> devices, strategically stored in multiple geographical locations.
>>>>
>>>> Generating the 'quantum' passphrase...
>>>>
>>>> Following just four (non-destructive) BIP39-compatible rules, the 24
>>>> seed words can also function as a 'quantum' passphrase:
>>>>
>>>> 1 . Only BIP39 words
>>>> (Standard list of 2048 English words - other languages should be
>>>> compatible)
>>>>
>>>> 2 . Only the first four letters of each word
>>>> (BIP39 words require only this data for reproduction)
>>>>
>>>> 3 . Only upper case letters
>>>> (All alphabet references use this standard format)
>>>>
>>>> 4 . No spaces between words
>>>> (Spaces represent an additional unit of data, that is not recorded)
>>>>
>>>> In essence, the 'quantum' passphrase is simply a single string of all
>>>> 24 seed words, set out using the above rules.
>>>>
>>>> I welcome a productive technical discussion.
>>>>
>>>> Thanks,
>>>>
>>>> Chris Johnston
>>>>
>>>>
>>>> _______________________________________________
>>>> bitcoin-dev mailing list
>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>
>>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210511/b77ce05f/attachment.html>

From rsomsen at gmail.com  Tue May 11 21:16:18 2021
From: rsomsen at gmail.com (Ruben Somsen)
Date: Tue, 11 May 2021 23:16:18 +0200
Subject: [bitcoin-dev] Full Disclosure: CVE-2021-31876 Defect in Bitcoin
 Core's bip125 logic
In-Reply-To: <MT4soB8ro1-wKY5ht6hqY0c2OutPMDgdLrSny8I9-KPn75p6CdatFkwDZCPNI98yYXOqMeKLu9Z1EBwMXXWZQmCE6Nv70gPo6Mv8FjsGnxc=@protonmail.com>
References: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
 <MT4soB8ro1-wKY5ht6hqY0c2OutPMDgdLrSny8I9-KPn75p6CdatFkwDZCPNI98yYXOqMeKLu9Z1EBwMXXWZQmCE6Nv70gPo6Mv8FjsGnxc=@protonmail.com>
Message-ID: <CAPv7Tjb5+B5MMrf5QZySbqgoQL2+rTpcHDh5E8pBdcRgc5ZNUw@mail.gmail.com>

Hi Antoine,

Thanks for bringing this up.

It seems spacechains[0] are impacted by this. Simply explained, the idea is
to allow for fee-bidding Blind Merged Mining[1] by creating one transaction
for each block, to which anyone can attach a block hash. The preferred
mechanism utilizes sighash_anyprevout and is not affected, but there is
also a practical variant that could be used without requiring the
anyprevout soft fork, which unfortunately does seem to be impacted. Here's
a brief description:

TX0:

input 0

output 1a*
output 1b

TX1:

input 1a*

output 2a**
output 2b

TX2:

input 2a**

output 3a***
output 3b

Etc.

Every TX has two outputs, one of which ("a") is used as the input for the
next TX (these are pre-signed and act as a covenant), resulting in a
continuous chain of transactions. The other output ("b") can be spent by
anyone, and is meant to CPFP the parent TX and, importantly, be RBF
replaceable by anyone. This allows whoever pays the highest CPFP fee to
"win the RBF auction" and attach their TX to the output, containing the
winning spacechain block hash.

With inherited signalling, this works because each pre-signed TX is RBF
enabled, so each CPFP transaction inherits RBF as well. But if inherited
signalling does not function, the first person who makes a CPFP transaction
can simply disable RBF and win the auction, thus breaking the intended
fee-bidding mechanism.

You can also find a diagram in this spacechains presentation (timestamped
link): https://youtu.be/N2ow4Q34Jeg?t=2555

As it stands, this bug gets in the way of being able to deploy spacechains.

-- Ruben Somsen



[0]
https://medium.com/@RubenSomsen/21-million-bitcoins-to-rule-all-sidechains-the-perpetual-one-way-peg-96cb2f8ac302

[1] https://gist.github.com/RubenSomsen/5e4be6d18e5fa526b17d8b34906b16a5




On Sun, May 9, 2021 at 10:41 AM darosior via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hi Antoine,
>
>
> Thank you for the disclosure.
>
>
>
> > * Onchain DLC/Coinswap/Vault : Those contract protocols have also
> multiple stages of execution with time-sensitive transactions opening the
> way to pinning attacks. Those protocols being non-deployed or in early
> phase, I would recommend that any in-protocol competing transactions
> explicitly signal RBF.
>
>
> For what it's worth, Revault isn't vulnerable as all transactions signal
> RBF and there is no way to sneak a non-signaling competing transaction (as
> long as the CSV isn't matured yet).
>
>
>
> Thanks,
>
> Antoine (the other one)_______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210511/15b9d16c/attachment-0001.html>

From luke at dashjr.org  Tue May 11 21:50:50 2021
From: luke at dashjr.org (Luke Dashjr)
Date: Tue, 11 May 2021 21:50:50 +0000
Subject: [bitcoin-dev] Full Disclosure: CVE-2021-31876 Defect in Bitcoin
	Core's bip125 logic
In-Reply-To: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
References: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
Message-ID: <202105112150.51410.luke@dashjr.org>

Is there a list of software impacted by this CVE, and the versions it is fixed 
in?

(Note this isn't a vulnerability in Bitcoin Core; BIP125 is strictly a policy 
matter, not part of the consensus rules and never safe to rely on in any 
case...)


On Thursday 06 May 2021 13:55:53 Antoine Riard via bitcoin-dev wrote:
> Hi,
>
> I'm writing to report a defect in Bitcoin Core bip125 logic with minor
> security and operational implications for downstream projects. Though this
> defect grieves Bitcoin Core nodes 0.12.0 and above, base layer safety isn't
> impacted.
>
> # Problem
>
> Bip 125 specification describes the following signalling mechanism :
>
> "
> This policy specifies two ways a transaction can signal that it is
> replaceable.
>
> * Explicit signaling: A transaction is considered to have opted in to
> allowing replacement of itself if any of its inputs have an nSequence
> number less than (0xffffffff - 1).
>
> * Inherited signaling: Transactions that don't explicitly signal
> replaceability are replaceable under this policy for as long as any one of
> their ancestors signals replaceability and remains unconfirmed.
>
> One or more transactions currently in the mempool (original transactions)
> will be replaced by a new transaction (replacement transaction) that spends
> one or more of the same inputs if,
>
> # The original transactions signal replaceability explicitly or through
> inheritance as described in the above Summary section.
> "
>
> An unconfirmed child transaction with nSequence = 0xff_ff_ff_ff spending an
> unconfirmed parent with nSequence <= 0xff_ff_ff_fd should be replaceable as
> the child transaction signals "through inheritance". However, the
> replacement code as implemented in Core's `PreChecks()` shows that this
> behavior isn't  enforced and Core's mempool rejects replacement attempts of
> an unconfirmed child transaction.
>
> Branch asserting the behavior is here :
> https://github.com/ariard/bitcoin/commits/2021-03-test-rbf
>
> # Solution
>
> The defect has not been patched.
>
> # Downstream Projects Affected
>
> * LN : State-of-the-art pinning attacks against second-stage HTLCs
> transactions were thought to be only possible by exploiting RBF rule 3 on
> the necessity of a higher absolute fee [0]. However, this replacement
> defect opens the way for an attacker to only pin with an opt-out child
> without a higher fee than the honest competing transaction. This lowers the
> cost of attack as the malicious pinning transaction only has to be above
> mempools'min feerate. This also increases odds of attack success for a
> reduced feerate diminishes odds of confirmation ending the pinning.
>
> A functional test demo illustrating cases is available on this branch:
> https://github.com/ariard/bitcoin/commits/2021-05-htlc-preimage-pinnings
>
> LN nodes operators concerned by this defect might favor anchor outputs
> channels, fully mitigating this specific pinning vector.
>
> * Onchain DLC/Coinswap/Vault : Those contract protocols have also multiple
> stages of execution with time-sensitive transactions opening the way to
> pinning attacks. Those protocols being non-deployed or in early phase, I
> would recommend that any in-protocol competing transactions explicitly
> signal RBF.
>
> * Coinjoin/Cut-Through : if CPFP is employed as a fee-bumping strategy, if
> the coinjoin transaction is still laying in network mempools, if a
> fee-bumping output is spendable by any protocol participant, this
> fee-bumping mechanism might be halted by a malicious protocol participant
> broadcasting an low-feerate opt-out child. According to bip125, if the
> coinjoin parent tx signals replaceability, the child transaction should be
> replaceable, whatever its signaling. However Core doesn't apply this
> policy. RBF of the coinjoin transaction itself should be used as a
> fallback. I'm not aware of any deployed coinjoin using such
> "anyone-can-bump" fee-bumping strategy.
>
> * Simple wallets : RBF engines' behaviors might be altered in ways not
> matching the intent of their developers. I invite RBF engines dev to verify
> what those components are doing in the light of disclosed information.
>
> # Discovery
>
> While reviewing the LN dual-funding flow, I inquired on potential new DoS
> vectors introduced by relying on counterparty utxos in this following
> analysis [1]. The second DoS issue "RBF opt-out by a Counterparty
> Double-Spend" is relying on a malicious chain of transactions where the
> parent is signaling RBF opt-in through nSequence<=0xff_ff_ff_ff-1 but the
> child, servicing as a pinning transaction, opt-out from the RBF policy.
> This pinning trick conception was matching my understanding of Core code
> but while reading again the specification, I observed that it was
> inconsistent from the inherited signaling mechanism as described in the
> bip's "Summary" section.
>
> After exercising the logic, I did submit the defect to Dave Harding, asking
> confirmation of divergence between Bitcoin Core and BIP 125. Soon after, he
> did confirm it and pointed that the defect has been there since the 2015's
> PR introducing the opt-in RBF, advicing to to consider security
> implications for deployed second-layer protocols. After noticing the minor
> implications for pinning attacks on second-stage LN transactions while
> talking with Matt Corallo, I did disclose to the Bitcoin Core security
> list.
>
> My initial report was recommending avoiding a covert patch in the mempool
> as risks of introducing DoS in this part of the codebase seemed to outweigh
> security of deployed LN channels. This direction was agreed by the opinions
> expressed on the security list. Beyond, there was a lack of agreement on
> how to proceed with the disclosure as so far in the history project,
> transaction relay policy have not been considered as strongly reliable.
> Though from now on, L2 protocols like Lightning are making assumptions on
> subset of this policy for their safety, such as the highlighted RBF one.
>
> Defect was disclosed to the LN projects maintainers, informing them that
> currently in deployment anchor outputs protocol upgrade was mitigating
> against this defect though old channels will stay vulnerable. To the best
> of my knowledge, I didn't identify other deployed protocols of which coins
> safety are impacted by this defect.
>
> # Ecosystem Observations
>
> This long-standing defect with benign security implications provided an
> opportunity to exercise coordinated security disclosure across layers and
> development teams.
>
> IMO, it underlies few interesting points:
> * the lack of an established policy for coordinated security disclosures
> between a base layer implementation and its downstream projects
> * the lack of a clear methodology to identify downstream projects affected
> by a transaction relay policy wreckage
> * the lack of minimally-disruptive, emergency upgrade mechanisms
> implemented by downstream projects [2]
>
> Finally, security implications for downstream projects provoked by base
> layer issues shouldn't be minimized as they do have a risk of windblow on
> base layer operations. I believe we should minimize risks of disaster
> scenarios such as thousands of LN channels manually closed by worried
> operators due to a non-concerted security disclosure, provoking mempool
> cloaks and disrupting regular transactions for a while.
>
> # Timeline
>
> 2021-03-18 : Defect discovered, report to Dave Harding original author of
> bip125, confirmation of the defect
> 2021-03-19 : Disclosure to the Bitcoin Core security list, Dave Harding,
> Matt Corallo, acknowledgment of the issue
> 2021-04-05 : Disclosure to the LN projects maintainers (c-lightning, lnd,
> eclair, electrum, rust-lightning)
> 2021-04-28 : CVE-2021-31876 assigned
> 2021-05-06 : Full disclosure to the bitcoin-dev mailing list
>
> I believe the information reported is correct and reflects the best of my
> knowledge, please point any shortcoming.
>
> Cheers,
> Antoine
>
> [0]
> https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-April/002639
>.html [1] See "On Mempool Funny Games against Multi-Party Funded
> Transactions", published 2021-05-06
> [2] Such as
> https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-July/002763.
>html


From antoine.riard at gmail.com  Wed May 12 13:11:50 2021
From: antoine.riard at gmail.com (Antoine Riard)
Date: Wed, 12 May 2021 09:11:50 -0400
Subject: [bitcoin-dev] Full Disclosure: CVE-2021-31876 Defect in Bitcoin
 Core's bip125 logic
In-Reply-To: <CAPv7Tjb5+B5MMrf5QZySbqgoQL2+rTpcHDh5E8pBdcRgc5ZNUw@mail.gmail.com>
References: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
 <MT4soB8ro1-wKY5ht6hqY0c2OutPMDgdLrSny8I9-KPn75p6CdatFkwDZCPNI98yYXOqMeKLu9Z1EBwMXXWZQmCE6Nv70gPo6Mv8FjsGnxc=@protonmail.com>
 <CAPv7Tjb5+B5MMrf5QZySbqgoQL2+rTpcHDh5E8pBdcRgc5ZNUw@mail.gmail.com>
Message-ID: <CALZpt+GxNF_PPN2-fSWXT3RNHTdOb1emwuXvK+iw23+XsCBaxA@mail.gmail.com>

Hi Ruben,

Thanks for raising awareness about spacechains/BMM, I didn't have knowledge
it was relying on a fee-based English auction to mine side-blocks. IIUC,
it's another type of dynamic membership
multi-party signature where parties are block-signing with a fee proposal
instead of a PoW ? Though you still assume mainchain miners aren't
colluding and blindly applying the RBF policy

Effectively, if you can block RBF by opting-out, parties are not competing
anymore on feerate but on gaining propagation advantage in the tx-relay
topology. And such advantage is quite easy to
gain with a modified client, mass-connecting and not enforcing inventory
broadcast interval timers.

> As it stands, this bug gets in the way of being able to deploy
spacechains.

Noted, yet another good-point to transition towards full-rbf!

Cheers,
Antoine

Le mar. 11 mai 2021 ? 17:16, Ruben Somsen <rsomsen at gmail.com> a ?crit :

> Hi Antoine,
>
> Thanks for bringing this up.
>
> It seems spacechains[0] are impacted by this. Simply explained, the idea
> is to allow for fee-bidding Blind Merged Mining[1] by creating one
> transaction for each block, to which anyone can attach a block hash. The
> preferred mechanism utilizes sighash_anyprevout and is not affected, but
> there is also a practical variant that could be used without requiring the
> anyprevout soft fork, which unfortunately does seem to be impacted. Here's
> a brief description:
>
> TX0:
>
> input 0
>
> output 1a*
> output 1b
>
> TX1:
>
> input 1a*
>
> output 2a**
> output 2b
>
> TX2:
>
> input 2a**
>
> output 3a***
> output 3b
>
> Etc.
>
> Every TX has two outputs, one of which ("a") is used as the input for the
> next TX (these are pre-signed and act as a covenant), resulting in a
> continuous chain of transactions. The other output ("b") can be spent by
> anyone, and is meant to CPFP the parent TX and, importantly, be RBF
> replaceable by anyone. This allows whoever pays the highest CPFP fee to
> "win the RBF auction" and attach their TX to the output, containing the
> winning spacechain block hash.
>
> With inherited signalling, this works because each pre-signed TX is RBF
> enabled, so each CPFP transaction inherits RBF as well. But if inherited
> signalling does not function, the first person who makes a CPFP transaction
> can simply disable RBF and win the auction, thus breaking the intended
> fee-bidding mechanism.
>
> You can also find a diagram in this spacechains presentation (timestamped
> link): https://youtu.be/N2ow4Q34Jeg?t=2555
>
> As it stands, this bug gets in the way of being able to deploy spacechains.
>
> -- Ruben Somsen
>
>
>
> [0]
> https://medium.com/@RubenSomsen/21-million-bitcoins-to-rule-all-sidechains-the-perpetual-one-way-peg-96cb2f8ac302
>
> [1] https://gist.github.com/RubenSomsen/5e4be6d18e5fa526b17d8b34906b16a5
>
>
>
>
> On Sun, May 9, 2021 at 10:41 AM darosior via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Hi Antoine,
>>
>>
>> Thank you for the disclosure.
>>
>>
>>
>> > * Onchain DLC/Coinswap/Vault : Those contract protocols have also
>> multiple stages of execution with time-sensitive transactions opening the
>> way to pinning attacks. Those protocols being non-deployed or in early
>> phase, I would recommend that any in-protocol competing transactions
>> explicitly signal RBF.
>>
>>
>> For what it's worth, Revault isn't vulnerable as all transactions signal
>> RBF and there is no way to sneak a non-signaling competing transaction (as
>> long as the CSV isn't matured yet).
>>
>>
>>
>> Thanks,
>>
>> Antoine (the other one)_______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210512/9045d4ec/attachment-0001.html>

From antoine.riard at gmail.com  Wed May 12 13:19:37 2021
From: antoine.riard at gmail.com (Antoine Riard)
Date: Wed, 12 May 2021 09:19:37 -0400
Subject: [bitcoin-dev] Full Disclosure: CVE-2021-31876 Defect in Bitcoin
 Core's bip125 logic
In-Reply-To: <202105112150.51410.luke@dashjr.org>
References: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
 <202105112150.51410.luke@dashjr.org>
Message-ID: <CALZpt+FNGtXQuVF9JmtK-OQTxEu89ks42Y7j1NWqHSxc79uiWg@mail.gmail.com>

Hi Luke,

> Is there a list of software impacted by this CVE, and the versions it is
fixed
in?

Speaking only for LN clients, as I think they're the only ones deployed
with real funds at stake. Defect is mitigated by new "anchor" channel type,
forcing RBF-signaling on all transactions.
* lnd v0.12 "anchor" activated by default, lnd v0.10 "anchor" activated by
user flag
* c-lightning, no release yet with "anchor" support
* eclair, no release yet with "anchor" support
* rust-lightning, no release yet with "anchor" support

> (Note this isn't a vulnerability in Bitcoin Core; BIP125 is strictly a
policy
matter, not part of the consensus rules and never safe to rely on in any
case...)

Answering two-folds.

First I somehow agree it's not a "vulnerability" in Bitcoin Core but at
least a clear lack of compliance to a heavily relied-on bitcoin standard
through the ecosystem. Even if BIPs are descriptive documentation and not
prescriptive, I don't think we have guidelines for now on how to proceed
with identified flaws with security implications for downstream projects.

Should the Bitcoin Core project adopt a security bulletin or advisories for
security-related info pertinent for downstream ?

Secondly, opinions were divergent on the security list on how to report on
this. On one side, tx-relay and mempool acceptance rules aren't considered
as reliable or strongly normative and purely a matter of node's policy.

On the other side, we have more and more deployed Bitcoin
applications/protocols (e.g LN, vaults, ...) directly making security
assumptions on them. Even if we consider such beliefs misplaced or
ingenious, we're laying on top of a permissionless system and can't really
prevent developers and users from deploying such softwares.

Should we stay on this statu quo and invite such Bitcoin users to deploy
their own overlay network for transaction propagation satisfying their
advanced requirements, at the price of far-less censorship-resistance and a
more opaque fee market for everyone ?

Or instead qualify a new, third set of rules between consensus and pure
"policy", especially crafted to support Bitcoin applications requiring
transparency and stability of tx-relay and mempool acceptance rules, at the
price of ossifying some part of full-nodes ? Of course, the degree of
normativity we could guarantee for those rules is making them compatible
with economic incentives of everyone. Hopefully fostering their wide
dissemination across full-node implementations and miner mempools.

You have good arguments and trade-offs on both sides.

Overall, I agree that describing tx-relay/mempool rules as non-normative,
non-reliable is the most understood mental model among developers *today*.
That said, I would like to underscore that this model might not be adequate
in light of recent ecosystem evolutions and reveal itself a bit crippling
the future...

Cheers,
Antoine

Le mar. 11 mai 2021 ? 17:51, Luke Dashjr <luke at dashjr.org> a ?crit :

> Is there a list of software impacted by this CVE, and the versions it is
> fixed
> in?
>
> (Note this isn't a vulnerability in Bitcoin Core; BIP125 is strictly a
> policy
> matter, not part of the consensus rules and never safe to rely on in any
> case...)
>
>
> On Thursday 06 May 2021 13:55:53 Antoine Riard via bitcoin-dev wrote:
> > Hi,
> >
> > I'm writing to report a defect in Bitcoin Core bip125 logic with minor
> > security and operational implications for downstream projects. Though
> this
> > defect grieves Bitcoin Core nodes 0.12.0 and above, base layer safety
> isn't
> > impacted.
> >
> > # Problem
> >
> > Bip 125 specification describes the following signalling mechanism :
> >
> > "
> > This policy specifies two ways a transaction can signal that it is
> > replaceable.
> >
> > * Explicit signaling: A transaction is considered to have opted in to
> > allowing replacement of itself if any of its inputs have an nSequence
> > number less than (0xffffffff - 1).
> >
> > * Inherited signaling: Transactions that don't explicitly signal
> > replaceability are replaceable under this policy for as long as any one
> of
> > their ancestors signals replaceability and remains unconfirmed.
> >
> > One or more transactions currently in the mempool (original transactions)
> > will be replaced by a new transaction (replacement transaction) that
> spends
> > one or more of the same inputs if,
> >
> > # The original transactions signal replaceability explicitly or through
> > inheritance as described in the above Summary section.
> > "
> >
> > An unconfirmed child transaction with nSequence = 0xff_ff_ff_ff spending
> an
> > unconfirmed parent with nSequence <= 0xff_ff_ff_fd should be replaceable
> as
> > the child transaction signals "through inheritance". However, the
> > replacement code as implemented in Core's `PreChecks()` shows that this
> > behavior isn't  enforced and Core's mempool rejects replacement attempts
> of
> > an unconfirmed child transaction.
> >
> > Branch asserting the behavior is here :
> > https://github.com/ariard/bitcoin/commits/2021-03-test-rbf
> >
> > # Solution
> >
> > The defect has not been patched.
> >
> > # Downstream Projects Affected
> >
> > * LN : State-of-the-art pinning attacks against second-stage HTLCs
> > transactions were thought to be only possible by exploiting RBF rule 3 on
> > the necessity of a higher absolute fee [0]. However, this replacement
> > defect opens the way for an attacker to only pin with an opt-out child
> > without a higher fee than the honest competing transaction. This lowers
> the
> > cost of attack as the malicious pinning transaction only has to be above
> > mempools'min feerate. This also increases odds of attack success for a
> > reduced feerate diminishes odds of confirmation ending the pinning.
> >
> > A functional test demo illustrating cases is available on this branch:
> > https://github.com/ariard/bitcoin/commits/2021-05-htlc-preimage-pinnings
> >
> > LN nodes operators concerned by this defect might favor anchor outputs
> > channels, fully mitigating this specific pinning vector.
> >
> > * Onchain DLC/Coinswap/Vault : Those contract protocols have also
> multiple
> > stages of execution with time-sensitive transactions opening the way to
> > pinning attacks. Those protocols being non-deployed or in early phase, I
> > would recommend that any in-protocol competing transactions explicitly
> > signal RBF.
> >
> > * Coinjoin/Cut-Through : if CPFP is employed as a fee-bumping strategy,
> if
> > the coinjoin transaction is still laying in network mempools, if a
> > fee-bumping output is spendable by any protocol participant, this
> > fee-bumping mechanism might be halted by a malicious protocol participant
> > broadcasting an low-feerate opt-out child. According to bip125, if the
> > coinjoin parent tx signals replaceability, the child transaction should
> be
> > replaceable, whatever its signaling. However Core doesn't apply this
> > policy. RBF of the coinjoin transaction itself should be used as a
> > fallback. I'm not aware of any deployed coinjoin using such
> > "anyone-can-bump" fee-bumping strategy.
> >
> > * Simple wallets : RBF engines' behaviors might be altered in ways not
> > matching the intent of their developers. I invite RBF engines dev to
> verify
> > what those components are doing in the light of disclosed information.
> >
> > # Discovery
> >
> > While reviewing the LN dual-funding flow, I inquired on potential new DoS
> > vectors introduced by relying on counterparty utxos in this following
> > analysis [1]. The second DoS issue "RBF opt-out by a Counterparty
> > Double-Spend" is relying on a malicious chain of transactions where the
> > parent is signaling RBF opt-in through nSequence<=0xff_ff_ff_ff-1 but the
> > child, servicing as a pinning transaction, opt-out from the RBF policy.
> > This pinning trick conception was matching my understanding of Core code
> > but while reading again the specification, I observed that it was
> > inconsistent from the inherited signaling mechanism as described in the
> > bip's "Summary" section.
> >
> > After exercising the logic, I did submit the defect to Dave Harding,
> asking
> > confirmation of divergence between Bitcoin Core and BIP 125. Soon after,
> he
> > did confirm it and pointed that the defect has been there since the
> 2015's
> > PR introducing the opt-in RBF, advicing to to consider security
> > implications for deployed second-layer protocols. After noticing the
> minor
> > implications for pinning attacks on second-stage LN transactions while
> > talking with Matt Corallo, I did disclose to the Bitcoin Core security
> > list.
> >
> > My initial report was recommending avoiding a covert patch in the mempool
> > as risks of introducing DoS in this part of the codebase seemed to
> outweigh
> > security of deployed LN channels. This direction was agreed by the
> opinions
> > expressed on the security list. Beyond, there was a lack of agreement on
> > how to proceed with the disclosure as so far in the history project,
> > transaction relay policy have not been considered as strongly reliable.
> > Though from now on, L2 protocols like Lightning are making assumptions on
> > subset of this policy for their safety, such as the highlighted RBF one.
> >
> > Defect was disclosed to the LN projects maintainers, informing them that
> > currently in deployment anchor outputs protocol upgrade was mitigating
> > against this defect though old channels will stay vulnerable. To the best
> > of my knowledge, I didn't identify other deployed protocols of which
> coins
> > safety are impacted by this defect.
> >
> > # Ecosystem Observations
> >
> > This long-standing defect with benign security implications provided an
> > opportunity to exercise coordinated security disclosure across layers and
> > development teams.
> >
> > IMO, it underlies few interesting points:
> > * the lack of an established policy for coordinated security disclosures
> > between a base layer implementation and its downstream projects
> > * the lack of a clear methodology to identify downstream projects
> affected
> > by a transaction relay policy wreckage
> > * the lack of minimally-disruptive, emergency upgrade mechanisms
> > implemented by downstream projects [2]
> >
> > Finally, security implications for downstream projects provoked by base
> > layer issues shouldn't be minimized as they do have a risk of windblow on
> > base layer operations. I believe we should minimize risks of disaster
> > scenarios such as thousands of LN channels manually closed by worried
> > operators due to a non-concerted security disclosure, provoking mempool
> > cloaks and disrupting regular transactions for a while.
> >
> > # Timeline
> >
> > 2021-03-18 : Defect discovered, report to Dave Harding original author of
> > bip125, confirmation of the defect
> > 2021-03-19 : Disclosure to the Bitcoin Core security list, Dave Harding,
> > Matt Corallo, acknowledgment of the issue
> > 2021-04-05 : Disclosure to the LN projects maintainers (c-lightning, lnd,
> > eclair, electrum, rust-lightning)
> > 2021-04-28 : CVE-2021-31876 assigned
> > 2021-05-06 : Full disclosure to the bitcoin-dev mailing list
> >
> > I believe the information reported is correct and reflects the best of my
> > knowledge, please point any shortcoming.
> >
> > Cheers,
> > Antoine
> >
> > [0]
> >
> https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-April/002639
> >.html [1] See "On Mempool Funny Games against Multi-Party Funded
> > Transactions", published 2021-05-06
> > [2] Such as
> >
> https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-July/002763
> .
> >html
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210512/0338199b/attachment-0001.html>

From antoine.riard at gmail.com  Wed May 12 14:35:34 2021
From: antoine.riard at gmail.com (Antoine Riard)
Date: Wed, 12 May 2021 10:35:34 -0400
Subject: [bitcoin-dev] L2s Onchain Support IRC Workshop : Agenda & Schedule
Message-ID: <CALZpt+HFDq6MtqgO5qVeWXEmruMHTf_Dk9q6OKjsnC=xjJMgwA@mail.gmail.com>

Hi,

Following-up on the workshop announcement [0], I'm proposing today's early
agenda and schedule.

Dates have been picked up 2 weeks after the end of the Miami's conference
as the american crowd will travel around and won't be necessary on their
keyboards. Also, if folks from Asia/Pacific timezones want to join or
participate, I'm all good to set up additional, more-friendly sessions.

* 1st meeting: Tuesday 15th June 19:00 - 20:30  UTC

Topics will be "Guidelines about L2 protocols onchain security design",
"Coordinated cross-layers security disclosures", "Full-RBF proposal".

* 2nd meeting: Tuesday 22th June 19:00 - 20:30 UTC

Topics will be "Package relay design and/or generic L2 fee-bumping
primitive".

I hope to address most of the issues in two sessions. If it doesn't fit, we
can still do a third one on the 29th June.

Discussions will happen on the new chan #l2-onchain-support freenode.

Meanwhile, I'll prepare a series of open questions and resource pointers
for each topic. Also, coming up with weaponized pinning attacks against LN
nodes and proposals on how you can improve double-spend protection
hopefully with package relay or p2p extensions if we move towards full-rbf.

If any L2 protocol dev/designer have specific transaction relay
requirements for their projects, especially ones far different from
Lightning, I'm really interested if you want to share them in the
L2-zoology repo (https://github.com/ariard/L2-zoology/tree/master/protocols)
or anywhere else. I'm doing my best to keep up with most L2 security
models, that said the space is growing fast :)

Cheers,
Antoine

[0]
https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-April/003002.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210512/9d9de823/attachment.html>

From laolu32 at gmail.com  Thu May 13 01:06:21 2021
From: laolu32 at gmail.com (Olaoluwa Osuntokun)
Date: Wed, 12 May 2021 18:06:21 -0700
Subject: [bitcoin-dev] Full Disclosure: CVE-2021-31876 Defect in Bitcoin
 Core's bip125 logic
In-Reply-To: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
References: <CALZpt+GK4WNBmKim3w9LAd1b69+uAyAsNu5tVniHzN6Ue4KJCw@mail.gmail.com>
Message-ID: <CAO3Pvs_0iaQDOUuddQHESVYz6V23hWPOu54FT=A9=cCOEjFBAg@mail.gmail.com>

Hi Antoine,

Excellent work as usual!

When this was initially reported, I suspected that btcd wasn't actually
affected by this issue (proper RBF inheritance). I wrote a unit test earlier
today to confirm this: https://github.com/btcsuite/btcd/pull/1719.

I'm particularly fond of btcd's implementation of RBF signalling:
https://github.com/btcsuite/btcd/blob/master/mempool/mempool.go#L603.

The separation of concerns here makes it (IMO) much easier to follow (as
well as uint test) compared to bitcoind's `MemPoolAccept::PreChecks`
function. Its recursive nature makes the inherited replaceability explicit.

-- Laolu


On Thu, May 6, 2021 at 8:49 AM Antoine Riard via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hi,
>
> I'm writing to report a defect in Bitcoin Core bip125 logic with minor
> security and operational implications for downstream projects. Though this
> defect grieves Bitcoin Core nodes 0.12.0 and above, base layer safety isn't
> impacted.
>
> # Problem
>
> Bip 125 specification describes the following signalling mechanism :
>
> "
> This policy specifies two ways a transaction can signal that it is
> replaceable.
>
> * Explicit signaling: A transaction is considered to have opted in to
> allowing replacement of itself if any of its inputs have an nSequence
> number less than (0xffffffff - 1).
>
> * Inherited signaling: Transactions that don't explicitly signal
> replaceability are replaceable under this policy for as long as any one of
> their ancestors signals replaceability and remains unconfirmed.
>
> One or more transactions currently in the mempool (original transactions)
> will be replaced by a new transaction (replacement transaction) that spends
> one or more of the same inputs if,
>
> # The original transactions signal replaceability explicitly or through
> inheritance as described in the above Summary section.
> "
>
> An unconfirmed child transaction with nSequence = 0xff_ff_ff_ff spending
> an unconfirmed parent with nSequence <= 0xff_ff_ff_fd should be replaceable
> as the child transaction signals "through inheritance". However, the
> replacement code as implemented in Core's `PreChecks()` shows that this
> behavior isn't  enforced and Core's mempool rejects replacement attempts of
> an unconfirmed child transaction.
>
> Branch asserting the behavior is here :
> https://github.com/ariard/bitcoin/commits/2021-03-test-rbf
>
> # Solution
>
> The defect has not been patched.
>
> # Downstream Projects Affected
>
> * LN : State-of-the-art pinning attacks against second-stage HTLCs
> transactions were thought to be only possible by exploiting RBF rule 3 on
> the necessity of a higher absolute fee [0]. However, this replacement
> defect opens the way for an attacker to only pin with an opt-out child
> without a higher fee than the honest competing transaction. This lowers the
> cost of attack as the malicious pinning transaction only has to be above
> mempools'min feerate. This also increases odds of attack success for a
> reduced feerate diminishes odds of confirmation ending the pinning.
>
> A functional test demo illustrating cases is available on this branch:
> https://github.com/ariard/bitcoin/commits/2021-05-htlc-preimage-pinnings
>
> LN nodes operators concerned by this defect might favor anchor outputs
> channels, fully mitigating this specific pinning vector.
>
> * Onchain DLC/Coinswap/Vault : Those contract protocols have also multiple
> stages of execution with time-sensitive transactions opening the way to
> pinning attacks. Those protocols being non-deployed or in early phase, I
> would recommend that any in-protocol competing transactions explicitly
> signal RBF.
>
> * Coinjoin/Cut-Through : if CPFP is employed as a fee-bumping strategy, if
> the coinjoin transaction is still laying in network mempools, if a
> fee-bumping output is spendable by any protocol participant, this
> fee-bumping mechanism might be halted by a malicious protocol participant
> broadcasting an low-feerate opt-out child. According to bip125, if the
> coinjoin parent tx signals replaceability, the child transaction should be
> replaceable, whatever its signaling. However Core doesn't apply this
> policy. RBF of the coinjoin transaction itself should be used as a
> fallback. I'm not aware of any deployed coinjoin using such
> "anyone-can-bump" fee-bumping strategy.
>
> * Simple wallets : RBF engines' behaviors might be altered in ways not
> matching the intent of their developers. I invite RBF engines dev to verify
> what those components are doing in the light of disclosed information.
>
> # Discovery
>
> While reviewing the LN dual-funding flow, I inquired on potential new DoS
> vectors introduced by relying on counterparty utxos in this following
> analysis [1]. The second DoS issue "RBF opt-out by a Counterparty
> Double-Spend" is relying on a malicious chain of transactions where the
> parent is signaling RBF opt-in through nSequence<=0xff_ff_ff_ff-1 but the
> child, servicing as a pinning transaction, opt-out from the RBF policy.
> This pinning trick conception was matching my understanding of Core code
> but while reading again the specification, I observed that it was
> inconsistent from the inherited signaling mechanism as described in the
> bip's "Summary" section.
>
> After exercising the logic, I did submit the defect to Dave Harding,
> asking confirmation of divergence between Bitcoin Core and BIP 125. Soon
> after, he did confirm it and pointed that the defect has been there since
> the 2015's PR introducing the opt-in RBF, advicing to to consider security
> implications for deployed second-layer protocols. After noticing the minor
> implications for pinning attacks on second-stage LN transactions while
> talking with Matt Corallo, I did disclose to the Bitcoin Core security list.
>
> My initial report was recommending avoiding a covert patch in the mempool
> as risks of introducing DoS in this part of the codebase seemed to outweigh
> security of deployed LN channels. This direction was agreed by the opinions
> expressed on the security list. Beyond, there was a lack of agreement on
> how to proceed with the disclosure as so far in the history project,
> transaction relay policy have not been considered as strongly reliable.
> Though from now on, L2 protocols like Lightning are making assumptions on
> subset of this policy for their safety, such as the highlighted RBF one.
>
> Defect was disclosed to the LN projects maintainers, informing them that
> currently in deployment anchor outputs protocol upgrade was mitigating
> against this defect though old channels will stay vulnerable. To the best
> of my knowledge, I didn't identify other deployed protocols of which coins
> safety are impacted by this defect.
>
> # Ecosystem Observations
>
> This long-standing defect with benign security implications provided an
> opportunity to exercise coordinated security disclosure across layers and
> development teams.
>
> IMO, it underlies few interesting points:
> * the lack of an established policy for coordinated security disclosures
> between a base layer implementation and its downstream projects
> * the lack of a clear methodology to identify downstream projects affected
> by a transaction relay policy wreckage
> * the lack of minimally-disruptive, emergency upgrade mechanisms
> implemented by downstream projects [2]
>
> Finally, security implications for downstream projects provoked by base
> layer issues shouldn't be minimized as they do have a risk of windblow on
> base layer operations. I believe we should minimize risks of disaster
> scenarios such as thousands of LN channels manually closed by worried
> operators due to a non-concerted security disclosure, provoking mempool
> cloaks and disrupting regular transactions for a while.
>
> # Timeline
>
> 2021-03-18 : Defect discovered, report to Dave Harding original author of
> bip125, confirmation of the defect
> 2021-03-19 : Disclosure to the Bitcoin Core security list, Dave Harding,
> Matt Corallo, acknowledgment of the issue
> 2021-04-05 : Disclosure to the LN projects maintainers (c-lightning, lnd,
> eclair, electrum, rust-lightning)
> 2021-04-28 : CVE-2021-31876 assigned
> 2021-05-06 : Full disclosure to the bitcoin-dev mailing list
>
> I believe the information reported is correct and reflects the best of my
> knowledge, please point any shortcoming.
>
> Cheers,
> Antoine
>
> [0]
> https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-April/002639.html
> [1] See "On Mempool Funny Games against Multi-Party Funded Transactions",
> published 2021-05-06
> [2] Such as
> https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-July/002763.html
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210512/8b2f3e0b/attachment-0001.html>

From ChristopherA at lifewithalacrity.com  Thu May 13 14:52:19 2021
From: ChristopherA at lifewithalacrity.com (Christopher Allen)
Date: Thu, 13 May 2021 07:52:19 -0700
Subject: [bitcoin-dev] Introductory Video on Blockchain Commons UR/QR Tech
	Now Available
Message-ID: <CACrqygDSPUSgvoUgP8fKTNWP5qzboHUWWu9Pvh78SVQZjSJ5+Q@mail.gmail.com>

Over the last few years, Blockchain Commons
<https://www.BlockchainCommons.com/> has been working with our Airgapped
Wallet Community
<https://github.com/BlockchainCommons/Airgapped-Wallet-Community> to
produce interoperability specifications to improve Bitcoin wallet usage ?
and in the future, other cryptocurrency applications, such as Ethereum
wallets, and other cryptography aps, such as chat systems, key-management
programs, and more. Our goal is to improve the independence, security, and
resilience of cryptographic systems.

We recently put together an introductory video to talk about our
initiatives:

* https://www.youtube.com/watch?v=RYgOFSdUqWY

We've been working on encoding methods, improved sharding methods, better
user interfaces, partitioned architectures, multisig patterns and more.
It's all in there!

We've also begun work on new documentation for developers, to help
introduce some of our specifications. That begins with a look at Uniform
References, our typed method for encoding binary data in plain-text strings
that are also well-formed URIs suitable for QR.

* UR Overview ?
https://github.com/BlockchainCommons/crypto-commons/blob/master/Docs/ur-1-overview.md
* A Guide to Using UR for Key Material ?
https://github.com/BlockchainCommons/crypto-commons/blob/master/Docs/ur-2-keys.md

(We've got a few more docs coming soon on using URs interactively and for
animated PSBTs and shamir seed shares.)

If anyone is interested in talking about these specifications and other
technologies more, I'm always enthusiastic to do so, here or in the Airgapped
Wallet Community Discussions
<https://github.com/BlockchainCommons/Airgapped-Wallet-Community/discussions>.
I'm also enthusiastic to get more developers on board in using these
technologies, joining folks like Fully Noded, AirGap Vault, BlueWallet,
Cobo Wallet, and Sparrow Wallet ? interoperability takes a community!

For further details, I've included a set of links for the topics covered in
the video.

Christopher Allen
President, Blockchain Commons

COMMUNITY LINKS

* Blockchain Commons Website ? https://www.blockchaincommons.com/
* Blockchain Commons Repos ? https://github.com/BlockchainCommons
* Airgapped Wallet Community ?
https://github.com/BlockchainCommons/Airgapped-Wallet-Community

BLOCKCHAIN COMMONS TECHNOLOGIES

* ByteWords ?
https://github.com/BlockchainCommons/Research/blob/master/papers/bcr-2020-012-bytewords.md
* LifeHash ? https://github.com/BlockchainCommons/bc-lifehash
* SSKR ?
https://github.com/BlockchainCommons/Research/blob/master/papers/bcr-2020-011-sskr.md
* Uniform Resources (URs) ?
https://github.com/BlockchainCommons/Research/blob/master/papers/bcr-2020-005-ur.md
   * Registry of UR Types ?
https://github.com/BlockchainCommons/Research/blob/master/papers/bcr-2020-006-urtypes.md

RELATED LIBRARIES

* ByteWords ?
https://github.com/BlockchainCommons/crypto-commons#bc-bytewords
* LifeHash ? https://github.com/BlockchainCommons/crypto-commons#lifehash
* SSKR ? https://github.com/BlockchainCommons/crypto-commons#bc-sskr
* UR ? https://github.com/BlockchainCommons/crypto-commons#bc-ur

SECURITY ARCHITECTURES & METHODS

* #SmartCustody ? https://www.smartcustody.com/
* TorGap ? https://github.com/BlockchainCommons/torgap
* Designing Multisigs for Independence & Resilience -
https://github.com/BlockchainCommons/Gordian/blob/master/Docs/Multisig.md

EDUCATION
* Learning Bitcoin from the Command Line 2.0 -
https://github.com/BlockchainCommons/Learning-Bitcoin-from-the-Command-Line

APPLICATIONS MENTIONED

* Gordian Guardian ?
https://github.com/BlockchainCommons/GordianGuardian-iOS
* Gordian Server ? https://github.com/BlockchainCommons/GordianServer-macOS
* Gordian Wallet ? https://github.com/BlockchainCommons/GordianWallet-iOS
* Keytool ? https://github.com/BlockchainCommons/keytool-cli
* LetheKit ? https://github.com/BlockchainCommons/lethekit
* Seedtool ? https://github.com/BlockchainCommons/seedtool-cli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210513/016fd47e/attachment.html>

From prayank at tutanota.de  Fri May 14 10:05:23 2021
From: prayank at tutanota.de (Prayank)
Date: Fri, 14 May 2021 12:05:23 +0200 (CEST)
Subject: [bitcoin-dev] Fee estimates and RBF
Message-ID: <M_eKbLz--N-2@tutanota.de>

I have shared response by Jeremy and ZmnSCPxj in an answer to?https://bitcoin.stackexchange.com/questions/105860/what-are-we-trying-to-predict-in-fee-estimation-and-why

Also find the recent CVE related to RBF by Antoine Riard and implementation of RBF in Bitcoin Core compared to btcd interesting. Even though I am not sure why inherited signalling is not implemented in Bitcoin Core.
RBF, CPFP and their combinations are something that is less explored IMO. For example: I had discussed one usecase of CPFP with Harding in IRC once in which a project uses maker-taker model. Maker broadcasts transaction with 1 sat/vByte and taker has to confirm this transaction by creating a child transaction with an effective fee rate according to mempool stats. Basically, the idea of receiver paying for the transaction instead of sender. But it will involve lot of exception handling.
-- 
Prayank
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210514/f256d77e/attachment.html>

From vjudeu at gazeta.pl  Sat May 15 10:21:00 2021
From: vjudeu at gazeta.pl (vjudeu)
Date: Sat, 15 May 2021 12:21:00 +0200
Subject: [bitcoin-dev] Sum of the keys attack on taproot
Message-ID: <131606955-6366ea10aec2eec765339d72e7c936ab@pmq5v.m5r2.onet>

We have some taproot address with private key "a" and public key "a*G", owned by Alice. Bob wants to take Alice's coins without her permission. He owns taproot address with private key "b" and public key "b*G". He knows "a*G" by exploring the chain and looking for P2TR outputs. To grab Alice's funds, he creates "(b-a)*G" taproot address and send some small amount to this address. Then, Bob can create a transaction with two inputs, taking coins from "a*G" and "(b-a)*G" addresses. All that is needed is producing a signature matching the sum of the public keys used in taproot, which is "(a+b-a)*G", reduced to "b*G", so Bob uses his "b" private key to produce Schnorr signature. Is there any protection from this attack?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210515/9b58f6eb/attachment.html>

From crypto at timruffing.de  Sat May 15 20:25:23 2021
From: crypto at timruffing.de (Tim Ruffing)
Date: Sat, 15 May 2021 22:25:23 +0200
Subject: [bitcoin-dev] Sum of the keys attack on taproot
In-Reply-To: <131606955-6366ea10aec2eec765339d72e7c936ab@pmq5v.m5r2.onet>
References: <131606955-6366ea10aec2eec765339d72e7c936ab@pmq5v.m5r2.onet>
Message-ID: <13a8be987fc22ecc6284de4b84ef5310f2cd420c.camel@timruffing.de>

On Sat, 2021-05-15 at 12:21 +0200, vjudeu via bitcoin-dev wrote:


>  All that is needed is producing a signature matching the sum of the
> public keys used in taproot, which is "(a+b-a)*G",?

This is simply not true.

Taproot does not enable this, or any other form of "cross-input
aggregation", i.e., spending multiple UTXOs with a single signature.?


Tim


From rsomsen at gmail.com  Sat May 15 20:35:37 2021
From: rsomsen at gmail.com (Ruben Somsen)
Date: Sat, 15 May 2021 22:35:37 +0200
Subject: [bitcoin-dev] Sum of the keys attack on taproot
In-Reply-To: <13a8be987fc22ecc6284de4b84ef5310f2cd420c.camel@timruffing.de>
References: <131606955-6366ea10aec2eec765339d72e7c936ab@pmq5v.m5r2.onet>
 <13a8be987fc22ecc6284de4b84ef5310f2cd420c.camel@timruffing.de>
Message-ID: <CAPv7TjZpTGxqQKd6qUDLC_Sqffdf6947k5GVHk+JL4bDOPwXDw@mail.gmail.com>

What Tim said is right. To add to that, you may also wish to read about
MuSig:
https://blockstream.com/2018/01/23/en-musig-key-aggregation-schnorr-signatures/

Cheers,
Ruben

On Sat, May 15, 2021 at 10:32 PM Tim Ruffing via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> On Sat, 2021-05-15 at 12:21 +0200, vjudeu via bitcoin-dev wrote:
>
>
> >  All that is needed is producing a signature matching the sum of the
> > public keys used in taproot, which is "(a+b-a)*G",
>
> This is simply not true.
>
> Taproot does not enable this, or any other form of "cross-input
> aggregation", i.e., spending multiple UTXOs with a single signature.
>
>
> Tim
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210515/f39c21ba/attachment.html>

From fuhmic at web.de  Fri May 14 21:41:23 2021
From: fuhmic at web.de (Michael Fuhrmann)
Date: Fri, 14 May 2021 23:41:23 +0200
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes to
 save 90% of mining energy
Message-ID: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>

Hello,

Bitcoin should create blocks every 10 minutes in average. So why do
miners need to mine the 9 minutes after the last block was found? It's
not necessary.

Problem: How to prevent "pre-mining" in the 9 minutes time window?

Possible ideas for discussion:

- (maybe most difficult) global network timer sending a salted hash time
code after 9 minutes. this enables validation by nodes.

- (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
high enough) times higher difficulty. so everyone can mine any time but
before to 9 minutes are up there will be a too high downside. It is more
efficient to wait then paying high bills. The bitcoin will get a "puls".


I dont think I see all problems behind these ideas but if there is a
working solution to do so then the energy fud will find it's end. Saving
energy without loosing rosbustness.



:)

From stick at satoshilabs.com  Sat May 15 22:19:31 2021
From: stick at satoshilabs.com (Pavol Rusnak)
Date: Sun, 16 May 2021 00:19:31 +0200
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
Message-ID: <CAF90Av=cuzF7C-fxgA+DTERzrg1ZxzF-FpSqeFNv4H80Sti8mw@mail.gmail.com>

Please read the Bitcoin whitepaper. It's a very interesting read.

--
Best Regards / S pozdravom,

Pavol "stick" Rusnak
Co-founder and CTO, SatoshiLabs

On Sat, May 15, 2021, 23:57 Michael Fuhrmann via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hello,
>
> Bitcoin should create blocks every 10 minutes in average. So why do
> miners need to mine the 9 minutes after the last block was found? It's
> not necessary.
>
> Problem: How to prevent "pre-mining" in the 9 minutes time window?
>
> Possible ideas for discussion:
>
> - (maybe most difficult) global network timer sending a salted hash time
> code after 9 minutes. this enables validation by nodes.
>
> - (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
> high enough) times higher difficulty. so everyone can mine any time but
> before to 9 minutes are up there will be a too high downside. It is more
> efficient to wait then paying high bills. The bitcoin will get a "puls".
>
>
> I dont think I see all problems behind these ideas but if there is a
> working solution to do so then the energy fud will find it's end. Saving
> energy without loosing rosbustness.
>
>
>
> :)
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210516/48aac0b2/attachment-0001.html>

From r.pickhardt at googlemail.com  Sat May 15 22:14:13 2021
From: r.pickhardt at googlemail.com (=?UTF-8?Q?Ren=C3=A9_Pickhardt?=)
Date: Sun, 16 May 2021 00:14:13 +0200
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
Message-ID: <CAJ5H3Z5C_Rjszb1QgGqhJa5F2_ts4CoT=1c0=efBcK8D96Svdw@mail.gmail.com>

Hey Michael,

First I think the idea of "do nothing in the first 9 minutes" will
unfortunately not be useful as the computed work is mainly there to prevent
miners from altering the history of previous blocks. Thus following your
suggesting would probably drastically decease the security of the network
as less work protects previously mined blocks allowing for lower cost to
compute a reorg.


Let us assume the aforementioned point could somehow be resolved there
would be another practical issue. It is hard / impossible to sync clocks in
a distributed network which I think would be necessary for a system that
you propose. (actually Bitcoin is one way of introducing a temporal
ordering of events in a distributed network)

Finally even if that was also resolved: How would you prevent miners to
already compute the simpler difficulty problem directly after the block was
found and publish their solution directly after minute 9? We would always
have many people with a finished / competing solution.

So while I appreciate the idea I have the feeling it would be impractical
but maybe I missed something.

Best Rene

Michael Fuhrmann via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>
schrieb am Sa., 15. Mai 2021, 23:57:

> Hello,
>
> Bitcoin should create blocks every 10 minutes in average. So why do
> miners need to mine the 9 minutes after the last block was found? It's
> not necessary.
>
> Problem: How to prevent "pre-mining" in the 9 minutes time window?
>
> Possible ideas for discussion:
>
> - (maybe most difficult) global network timer sending a salted hash time
> code after 9 minutes. this enables validation by nodes.
>
> - (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
> high enough) times higher difficulty. so everyone can mine any time but
> before to 9 minutes are up there will be a too high downside. It is more
> efficient to wait then paying high bills. The bitcoin will get a "puls".
>
>
> I dont think I see all problems behind these ideas but if there is a
> working solution to do so then the energy fud will find it's end. Saving
> energy without loosing rosbustness.
>
>
>
> :)
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210516/eac0b836/attachment.html>

From zachgrw at gmail.com  Sun May 16 15:30:22 2021
From: zachgrw at gmail.com (Zac Greenwood)
Date: Sun, 16 May 2021 17:30:22 +0200
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
Message-ID: <CAJ4-pEDbtGpc4+NrrKga9N79YQjK1=zTEPN9V2G18NEnZ1h1YA@mail.gmail.com>

Hi Michael,

Your proposal won?t save any energy because it does nothing to decrease the
budget available to mine a block (being the block reward).

Even if it were technically possible to find a way for nodes to somehow
reach consensus on a hash that gets generated after 9 minutes, all it
achieves is that miners will be expending the entire budget given to them
in the form of the block reward within a single minute on average.

Also please realize that the energy expenditure of Bitcoin is a fundamental
part of its design. An attacker has no other option than to expend as much
as half of all the miners together do in order for a sustained 51% attack
to be successful, making such attack uneconomical.

Zac

On Sat, 15 May 2021 at 23:57, Michael Fuhrmann via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hello,
>
> Bitcoin should create blocks every 10 minutes in average. So why do
> miners need to mine the 9 minutes after the last block was found? It's
> not necessary.
>
> Problem: How to prevent "pre-mining" in the 9 minutes time window?
>
> Possible ideas for discussion:
>
> - (maybe most difficult) global network timer sending a salted hash time
> code after 9 minutes. this enables validation by nodes.
>
> - (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
> high enough) times higher difficulty. so everyone can mine any time but
> before to 9 minutes are up there will be a too high downside. It is more
> efficient to wait then paying high bills. The bitcoin will get a "puls".
>
>
> I dont think I see all problems behind these ideas but if there is a
> working solution to do so then the energy fud will find it's end. Saving
> energy without loosing rosbustness.
>
>
>
> :)
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210516/2c39b6a2/attachment.html>

From gmkarl at gmail.com  Sun May 16 18:10:12 2021
From: gmkarl at gmail.com (Karl)
Date: Sun, 16 May 2021 14:10:12 -0400
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
Message-ID: <CALL-=e45Q_spVnFqVvGAK9c3QzZ=-c_WNwCO-y30q7z-j6orSA@mail.gmail.com>

[sorry if I haven't replied to the other thread on this, I get swamped
by email and don't catch them all]

This solution is workable but it seems somewhat difficult to me at this time.

The clock might be implementable on a peer network level by requiring
inclusion of a transaction that was broadcast after a 9 minute delay.

Usually a 50% hashrate attack is needed to reverse a transaction in
bitcoin.  With this change, this naively appears to become a 5%
hashrate attack, unless a second source of truth around time and order
is added, to verify proposed histories with.

A 5% hashrate attack is much harder here, because the users of mining
pools would be mining only 10% of the time, so compromising mining
pools would not be as useful.

Historically, hashrate has increased exponentially.  This means that
the difficulty of performing an attack, whether it is 5% or 50%, is
still culturally infeasible because it is a multiplicative, rather
than an exponential, change.

If this approach were to be implemented, it could be important to
consider how many block confirmations people wait for to trust their
transaction is on the chain.  A lone powerful miner could
intentionally fork the chain more easily by a factor of 10.  They
would need to have hashrate that competes with a major pool to do so.

> How would you prevent miners to already compute the simpler difficulty problem directly after the block was found and publish their solution directly after minute 9? We would always have many people with a finished / competing solution.

Such a chain would have to wait a longer time to add further blocks
and would permanently be shorter.

> Your proposal won?t save any energy because it does nothing to decrease the budget available to mine a block (being the block reward).

You are assuming this budget is directly related to energy
expenditure, but if energy is only expended for 10% of the same
duration, this money must now be spent on hardware.  The supply of
bitcoin hardware is limited.

In the long term, it won't be, so a 10% decrease is a stop-gap
measure.  Additionally, in the long term, we will have quantum
computers and AI-designed cryptography algorithms, so things will be
different in a lot of other ways too.

From anton at etc-group.com  Sun May 16 20:31:47 2021
From: anton at etc-group.com (Anton Ragin)
Date: Sun, 16 May 2021 21:31:47 +0100
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <CALL-=e45Q_spVnFqVvGAK9c3QzZ=-c_WNwCO-y30q7z-j6orSA@mail.gmail.com>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <CALL-=e45Q_spVnFqVvGAK9c3QzZ=-c_WNwCO-y30q7z-j6orSA@mail.gmail.com>
Message-ID: <CAPyV_jBvbXPPGcCj1TsEf=J9D7ADYWWkTctd9XD5HjJZAQDAfQ@mail.gmail.com>

1. Has anyone considered that it might be technically not possible to
completely 'power down' mining rigs during this 'cool-down' period of time?
While modern CPUs have power-saving modes, I am not sure about ASICs used
for mining.

2. I am not a huge data-center specialist, but it was my understanding that
they charge per unit of installed (maximum) electricity consumption. It
would mean that if the miner needs X kilowatts-hour within that 1 minute
when they are allowed to mine, he/she will have to pay for the same X for
the remaining 9 minutes - and as such would have no economic incentive not
to draw that power when idling.

3. Not really a criticism of the idea to reduce Bitcoin energy consumption,
but rather a couple of observations:

(a) Environmental concerns cause Bitcoin to be less popular and thus push
the price lower, which in turn lowers miner's power consumption (lower
Bitcoin price => less they can afford to spend on electricity). So it is a
self-stabilizing system to begin with.
(b) Crazy power consumption may be a temporary problem, after the number of
halving events economic attractiveness of mining will decrease and power
consumption with it.

4. My counter-proposal to the community to address energy consumption
problems would be *to encourage users to allow only 'green miners' process
their transaction.* In particular:

(a) According to this source (
https://www.blockchain.com/charts/transaction-fees-usd), fees represent
approximately 12.5% of total miner reward. Not a lot, but not insignificant
either.

(b) Based on the method used in this source (
https://digiconomist.net/bitcoin-energy-consumption/) to offset CO2
emissions of bitcoin mining the miner would need to spend approx ~3.6% -
7.2% (depending how 'dirty' is his power source) x 87.5% (mined portion of
its rewards) of its fees (assuming 50k Bitcoin price and 15$ / tonne of CO2
price of carbon offset).

(b) Should there be some non-profit organization(s) certifying green miners
and giving them cryptographic certificates of conformity (either usage of
green energy or purchase of offsets), users could encrypt their
transactions and submit to mempool in such a format that *only green miners
would be able to decrypt and process them*.

Users routing transactions specifically to 'green miners' (and posting
potentially higher fees) would create economic incentives for miners to use
green energy and/or buy CO2 offsets, as described above with ~3.1% - 6.8%
of total revenue cost to offset CO2 vs.12.5% of fees component in mining,
if majority of users would use the routing to green miners method - there
is a chance that Bitcoin network will become significantly greener.

Anton.

On Sun, May 16, 2021 at 8:02 PM Karl via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> [sorry if I haven't replied to the other thread on this, I get swamped
> by email and don't catch them all]
>
> This solution is workable but it seems somewhat difficult to me at this
> time.
>
> The clock might be implementable on a peer network level by requiring
> inclusion of a transaction that was broadcast after a 9 minute delay.
>
> Usually a 50% hashrate attack is needed to reverse a transaction in
> bitcoin.  With this change, this naively appears to become a 5%
> hashrate attack, unless a second source of truth around time and order
> is added, to verify proposed histories with.
>
> A 5% hashrate attack is much harder here, because the users of mining
> pools would be mining only 10% of the time, so compromising mining
> pools would not be as useful.
>
> Historically, hashrate has increased exponentially.  This means that
> the difficulty of performing an attack, whether it is 5% or 50%, is
> still culturally infeasible because it is a multiplicative, rather
> than an exponential, change.
>
> If this approach were to be implemented, it could be important to
> consider how many block confirmations people wait for to trust their
> transaction is on the chain.  A lone powerful miner could
> intentionally fork the chain more easily by a factor of 10.  They
> would need to have hashrate that competes with a major pool to do so.
>
> > How would you prevent miners to already compute the simpler difficulty
> problem directly after the block was found and publish their solution
> directly after minute 9? We would always have many people with a finished /
> competing solution.
>
> Such a chain would have to wait a longer time to add further blocks
> and would permanently be shorter.
>
> > Your proposal won?t save any energy because it does nothing to decrease
> the budget available to mine a block (being the block reward).
>
> You are assuming this budget is directly related to energy
> expenditure, but if energy is only expended for 10% of the same
> duration, this money must now be spent on hardware.  The supply of
> bitcoin hardware is limited.
>
> In the long term, it won't be, so a 10% decrease is a stop-gap
> measure.  Additionally, in the long term, we will have quantum
> computers and AI-designed cryptography algorithms, so things will be
> different in a lot of other ways too.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210516/7089b3eb/attachment-0001.html>

From zachgrw at gmail.com  Sun May 16 21:15:21 2021
From: zachgrw at gmail.com (Zac Greenwood)
Date: Sun, 16 May 2021 23:15:21 +0200
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <CALL-=e45Q_spVnFqVvGAK9c3QzZ=-c_WNwCO-y30q7z-j6orSA@mail.gmail.com>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <CALL-=e45Q_spVnFqVvGAK9c3QzZ=-c_WNwCO-y30q7z-j6orSA@mail.gmail.com>
Message-ID: <CAJ4-pEA92=nRn+LoYYnQYURuTyKN8LNJECBXSFr_AEoWP-awNQ@mail.gmail.com>

> if energy is only expended for 10% of the same duration, this money must
now be spent on hardware.

More equipment obviously increases the total energy usage.

You correctly point out that the total expenses of a miner are not just
energy but include capital expenses for equipment and operational cost for
staff, rent etc.

Actually, non-energy expenses are perhaps a much larger fraction of the
total cost than you might expect. Miners using excess waste energy such as
Chinese miners close to hydropower stations pay a near zero price for
energy and are unlikely to be bound by the price of electricity.

Unsurprisingly, miners having access to near-free electricity are
responsible for a significant share of the total energy usage of Bitcoin.
Since such energy is often waste energy from renewable sources such as
hydropower, the carbon footprint of Bitcoin is not nearly as alarming as
its energy usage implies. In fact, since mining is a race to the bottom in
terms of cost, these large miners drive out competing miners that employ
more expensive, often non-renewable sources of energy. It?s for instance
impossible to mine profitably using household-priced electricity. Looking
at it from that angle, access to renewable, near-free waste energy helps
keeping Bitcoin more green than it would otherwise be. To put it another
way: the high energy usage of the Bitcoin network indicates cheap,
otherwise wasted energy is employed.

For your proposal again this means that energy usage would not be likely to
decrease appreciably, because large miners having access to near-free
energy use the block-reward sized budget fully on equipment and other
operational expenses.

On the other hand, roughly every four years the coinbase reward halves,
which does significantly lower the miner budget, at least in terms of BTC.

Zac



On Sun, 16 May 2021 at 21:02, Karl via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> [sorry if I haven't replied to the other thread on this, I get swamped
> by email and don't catch them all]
>
> This solution is workable but it seems somewhat difficult to me at this
> time.
>
> The clock might be implementable on a peer network level by requiring
> inclusion of a transaction that was broadcast after a 9 minute delay.
>
> Usually a 50% hashrate attack is needed to reverse a transaction in
> bitcoin.  With this change, this naively appears to become a 5%
> hashrate attack, unless a second source of truth around time and order
> is added, to verify proposed histories with.
>
> A 5% hashrate attack is much harder here, because the users of mining
> pools would be mining only 10% of the time, so compromising mining
> pools would not be as useful.
>
> Historically, hashrate has increased exponentially.  This means that
> the difficulty of performing an attack, whether it is 5% or 50%, is
> still culturally infeasible because it is a multiplicative, rather
> than an exponential, change.
>
> If this approach were to be implemented, it could be important to
> consider how many block confirmations people wait for to trust their
> transaction is on the chain.  A lone powerful miner could
> intentionally fork the chain more easily by a factor of 10.  They
> would need to have hashrate that competes with a major pool to do so.
>
> > How would you prevent miners to already compute the simpler difficulty
> problem directly after the block was found and publish their solution
> directly after minute 9? We would always have many people with a finished /
> competing solution.
>
> Such a chain would have to wait a longer time to add further blocks
> and would permanently be shorter.
>
> > Your proposal won?t save any energy because it does nothing to decrease
> the budget available to mine a block (being the block reward).
>
> You are assuming this budget is directly related to energy
> expenditure, but if energy is only expended for 10% of the same
> duration, this money must now be spent on hardware.  The supply of
> bitcoin hardware is limited.
>
> In the long term, it won't be, so a 10% decrease is a stop-gap
> measure.  Additionally, in the long term, we will have quantum
> computers and AI-designed cryptography algorithms, so things will be
> different in a lot of other ways too.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210516/e9275902/attachment.html>

From eric at voskuil.org  Sun May 16 22:06:14 2021
From: eric at voskuil.org (Eric Voskuil)
Date: Sun, 16 May 2021 15:06:14 -0700
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
	to save 90% of mining energy
In-Reply-To: <CAPyV_jBvbXPPGcCj1TsEf=J9D7ADYWWkTctd9XD5HjJZAQDAfQ@mail.gmail.com>
References: <CAPyV_jBvbXPPGcCj1TsEf=J9D7ADYWWkTctd9XD5HjJZAQDAfQ@mail.gmail.com>
Message-ID: <E03220BF-547C-4E84-8DB9-A11F6BBB1530@voskuil.org>

https://github.com/libbitcoin/libbitcoin-system/wiki/Efficiency-Paradox

https://github.com/libbitcoin/libbitcoin-system/wiki/Proof-of-Memory-Fallacy



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210516/d8707941/attachment.html>

From gmkarl at gmail.com  Sun May 16 22:05:44 2021
From: gmkarl at gmail.com (Karl)
Date: Sun, 16 May 2021 18:05:44 -0400
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <CAJ4-pEA92=nRn+LoYYnQYURuTyKN8LNJECBXSFr_AEoWP-awNQ@mail.gmail.com>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <CALL-=e45Q_spVnFqVvGAK9c3QzZ=-c_WNwCO-y30q7z-j6orSA@mail.gmail.com>
 <CAJ4-pEA92=nRn+LoYYnQYURuTyKN8LNJECBXSFr_AEoWP-awNQ@mail.gmail.com>
Message-ID: <CALL-=e65rRCSHjcLsh1z-+9Ypvqr47G9EkVSsXxHYdqrdW6Z8w@mail.gmail.com>

> 1. Has anyone considered that it might be technically not possible to completely 'power down' mining rigs during this 'cool-down' period of time? While modern CPUs have power-saving modes, I am not sure about ASICs used for mining.

Sounds like a point to consider, note the economic pressure of course
so most people will find a way to power down.

> 2. I am not a huge data-center specialist, but it was my understanding that they charge per unit of installed (maximum) electricity consumption. It would mean that if the miner needs X kilowatts-hour within that 1 minute when they are allowed to mine, he/she will have to pay for the same X for the remaining 9 minutes - and as such would have no economic incentive not to draw that power when idling.

That sounds kind of exotic, could you take charge of checking to see
how true it is?

> (a) Environmental concerns cause Bitcoin to be less popular and thus push the price lower, which in turn lowers miner's power consumption (lower Bitcoin price => less they can afford to spend on electricity). So it is a self-stabilizing system to begin with.

I like the idea but history shows that money outcompetes cute animals.

> (b) Crazy power consumption may be a temporary problem, after the number of halving events economic attractiveness of mining will decrease and power consumption with it.

If hashrate flattens, the chain security situation changes too.

> 4. My counter-proposal to the community to address energy consumption problems would be to encourage users to allow only 'green miners' process their transaction. In particular:

This cool idea of providing a way for users to support different
miners with their transactions is not in conflict with reducing mining
time.  Both of these ideas are great ones; they are very different.

On 5/16/21, Zac Greenwood <zachgrw at gmail.com> wrote:
>> if energy is only expended for 10% of the same duration, this money must
> now be spent on hardware.
>
> More equipment obviously increases the total energy usage.

Are there people who can freely produce new mining equipment to an
arbitrary degree?  As I mentioned already and you didn't address, I
thought the supply was limited.

> For your proposal again this means that energy usage would not be likely to decrease appreciably, because large miners having access to near-free energy use the block-reward sized budget fully on equipment and other operational expenses.

Purchasing equipment with the same funds is unrelated to whether or
not the machines are running full blast during a theoretical 90%
downtime when a hash cannot succeed.  If their electricity is free,
they have no new funds to buy equipment with.

Additionally, you claim that all these people use renewable energy so
I don't know why they are being discussed at all.

> On the other hand, roughly every four years the coinbase reward halves, which does significantly lower the miner budget, at least in terms of BTC.

Adjusting that could be another good approach to influencing
properties of the chain.  I think there's another thread around it,
rather than this one.

From luke at dashjr.org  Mon May 17 02:58:12 2021
From: luke at dashjr.org (Luke Dashjr)
Date: Mon, 17 May 2021 02:58:12 +0000
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
	to save 90% of mining energy
In-Reply-To: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
Message-ID: <202105170258.13233.luke@dashjr.org>

On Friday 14 May 2021 21:41:23 Michael Fuhrmann via bitcoin-dev wrote:
> Bitcoin should create blocks every 10 minutes in average. So why do
> miners need to mine the 9 minutes after the last block was found? It's
> not necessary.

It increases security, and is unavoidable anyway.

> Problem: How to prevent "pre-mining" in the 9 minutes time window?

You can't.

> Possible ideas for discussion:
>
> - (maybe most difficult) global network timer sending a salted hash time
> code after 9 minutes. this enables validation by nodes.

PoW *is* the global network timer.

> - (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
> high enough) times higher difficulty. so everyone can mine any time but
> before to 9 minutes are up there will be a too high downside. It is more
> efficient to wait then paying high bills. The bitcoin will get a "puls".

There's no timestamp at this stage of consensus.

On Sunday 16 May 2021 18:10:12 Karl via bitcoin-dev wrote:
> The clock might be implementable on a peer network level by requiring
> inclusion of a transaction that was broadcast after a 9 minute delay.

That requires a centralised authority.

On Sunday 16 May 2021 20:31:47 Anton Ragin via bitcoin-dev wrote:
> 1. Has anyone considered that it might be technically not possible to
> completely 'power down' mining rigs during this 'cool-down' period of time?
> While modern CPUs have power-saving modes, I am not sure about ASICs used
> for mining.

That would be miners' problem, not the network's... New ASICs would no doubt 
be made to work more efficiently.

> 2. I am not a huge data-center specialist, but it was my understanding that
> they charge per unit of installed (maximum) electricity consumption. It
> would mean that if the miner needs X kilowatts-hour within that 1 minute
> when they are allowed to mine, he/she will have to pay for the same X for
> the remaining 9 minutes - and as such would have no economic incentive not
> to draw that power when idling.

Actually, this would be a good thing: it would heavily discourage datacentre 
use (which is very harmful to mining decentralisation).

> 4. My counter-proposal to the community to address energy consumption
> problems would be *to encourage users to allow only 'green miners' process
> their transaction.* In particular:
>...
> (b) Should there be some non-profit organization(s) certifying green miners 
> and giving them cryptographic certificates of conformity (either usage of
> green energy or purchase of offsets), users could encrypt their
> transactions and submit to mempool in such a format that *only green miners
> would be able to decrypt and process them*.

Hello centralisation. Might as well just have someone sign miner keys, and get 
rid of PoW entirely...


From gmkarl at gmail.com  Sun May 16 23:29:47 2021
From: gmkarl at gmail.com (Karl)
Date: Sun, 16 May 2021 19:29:47 -0400
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <E03220BF-547C-4E84-8DB9-A11F6BBB1530@voskuil.org>
References: <CAPyV_jBvbXPPGcCj1TsEf=J9D7ADYWWkTctd9XD5HjJZAQDAfQ@mail.gmail.com>
 <E03220BF-547C-4E84-8DB9-A11F6BBB1530@voskuil.org>
Message-ID: <CALL-=e6yBtfm+p_Hd6pwOqaUf9oq5E8quDYabtAx11PAmRrixQ@mail.gmail.com>

On 5/16/21, Eric Voskuil via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org> wrote:
> https://github.com/libbitcoin/libbitcoin-system/wiki/Efficiency-Paradox
> https://github.com/libbitcoin/libbitcoin-system/wiki/Proof-of-Memory-Fallacy

The chain security actually reduces by 10% in this proposal.  So the
efficiency paradox is not violated, it is just the real cost of
confirming a transaction is reduced, because there is actually less
security. This eventually reduces the price of bitcoin and reduces the
amount of electricity the block reward can eventually buy.

From yanmaani at cock.li  Mon May 17 05:17:54 2021
From: yanmaani at cock.li (yanmaani at cock.li)
Date: Mon, 17 May 2021 05:17:54 +0000
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
Message-ID: <2b26e45240fad320b3ee584551223455@cock.li>

This is silly, but I'll add my take:

This would create the incentive to have chips that are idle 50% of the 
time and work harder 50% of the time. This means miners would buy twice 
the chips to use the same amount of power, for example.

This in turn means a greater portion of your operational costs are spent 
on chips, and a smaller portion on electricity, reducing the incentive 
to use cheaper power and turn off when it's expensive, because you need 
to recoup your investment. That seems like a bad thing.

Here's my proposal: if you want a PoW algorithm that's better for the 
environment, make one where the chips are easier to manufacture, so 
power costs become a greater portion of miner expenditures. Maybe 
SIMON/SPECK would do it. It could also incentivize someone to find that 
NSA backdoor...

On 2021-05-14 21:41, Michael Fuhrmann via bitcoin-dev wrote:
> Hello,
> 
> Bitcoin should create blocks every 10 minutes in average. So why do
> miners need to mine the 9 minutes after the last block was found? It's
> not necessary.
> 
> Problem: How to prevent "pre-mining" in the 9 minutes time window?
> 
> Possible ideas for discussion:
> 
> - (maybe most difficult) global network timer sending a salted hash 
> time
> code after 9 minutes. this enables validation by nodes.
> 
> - (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
> high enough) times higher difficulty. so everyone can mine any time but
> before to 9 minutes are up there will be a too high downside. It is 
> more
> efficient to wait then paying high bills. The bitcoin will get a 
> "puls".
> 
> 
> I dont think I see all problems behind these ideas but if there is a
> working solution to do so then the energy fud will find it's end. 
> Saving
> energy without loosing rosbustness.
> 
> 
> 
> :)
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From zachgrw at gmail.com  Mon May 17 09:34:38 2021
From: zachgrw at gmail.com (Zac Greenwood)
Date: Mon, 17 May 2021 11:34:38 +0200
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <CALL-=e65rRCSHjcLsh1z-+9Ypvqr47G9EkVSsXxHYdqrdW6Z8w@mail.gmail.com>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <CALL-=e45Q_spVnFqVvGAK9c3QzZ=-c_WNwCO-y30q7z-j6orSA@mail.gmail.com>
 <CAJ4-pEA92=nRn+LoYYnQYURuTyKN8LNJECBXSFr_AEoWP-awNQ@mail.gmail.com>
 <CALL-=e65rRCSHjcLsh1z-+9Ypvqr47G9EkVSsXxHYdqrdW6Z8w@mail.gmail.com>
Message-ID: <CAJ4-pEDSkLTWOHjZCbLFAkAxsgpX2EGkaQV5LSgT8M_fHQqShQ@mail.gmail.com>

>
>
> Are there people who can freely produce new mining equipment to an
> arbitrary degree?
>

Close. Bitmain for example produces their own ASICs and rigs which they
mine with. Antpool is controlled by Bitmain and has a significant amount of
the hash power. The marginal cost of an ASIC chip or mining rig is low
compared to R&D and setting up of the production lines etc. For Bitmain
it?s relatively cheap to produce an additional mining rig.

Unfortunately I failed to make sense of your other remarks which looked
rather confused so I take the liberty to disregard them.

Zac


_______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210517/dd803ec5/attachment.html>

From anton at etc-group.com  Mon May 17 12:39:02 2021
From: anton at etc-group.com (Anton Ragin)
Date: Mon, 17 May 2021 13:39:02 +0100
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <202105170258.13233.luke@dashjr.org>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <202105170258.13233.luke@dashjr.org>
Message-ID: <CAPyV_jDsScGQo4_DB8y7-4ZFGyEqM_Sk3YUUteK6HwPRuxOAvQ@mail.gmail.com>

>> 2. I am not a huge data-center specialist, but it was my understanding
that they charge per unit of installed (maximum) electricity consumption.
It would mean that if the miner needs X kilowatts-hour within that 1 minute
when they are allowed to mine, he/she will have to pay for the same X for
the remaining 9 minutes - and as such would have no economic incentive not
to draw that power when idling.

>That sounds kind of exotic, could you take charge of checking to see
>how true it is?

I am pretty sure that is how it works in data centers absent 'special
deal', as we use some DCs in our business. However, after reading some
discussion on this thread it is pretty clear that some (maybe even
majority?) of miners have some sort of special deal on electricity - some
use 'spill over' electricity which would otherwise be wasted etc. This kind
of disproves my point, but not entirely - even 'special deal' electricity
is very unlikely to be available like water in the tap - you open it when
you need it, and pay for what you use only.

Variations in power consumption in the grid are very difficult to
compensate for:

(a) there is no efficient way to store electricity;
(b) some (majority?) power-generating assets are notoriously difficult to
throttle up and down - it takes almost a day in some cases to throttle down
power production on the nuclear power plant for example.

(did you know that sometimes the spot price for electricity goes below
zero, and consumers are being paid to consume - exactly because it is
cheaper to pay somebody to consume electricity than to switch off the
reactor?)

Because of this, an enormous spike in energy consumption every 1 minute in
10 is the worst possible load profile to any power grid, and would most
likely result in either miners or power grid infrastructure itself just
burning off peak energy during the 9 minutes 'cool-down' period.

>> 4. My counter-proposal to the community to address energy consumption
>> problems would be *to encourage users to allow only 'green miners'
process
>> their transaction.* In particular:
>>...
>> (b) Should there be some non-profit organization(s) certifying green
miners
>> and giving them cryptographic certificates of conformity (either usage of
>> green energy or purchase of offsets), users could encrypt their
>> transactions and submit to mempool in such a format that *only green
miners
>> would be able to decrypt and process them*.

>Hello centralisation. Might as well just have someone sign miner keys, and
get
>rid of PoW entirely...
>No, it is not centralization -

No, it is not centralization, as:

(a) different miners could use different standards / certifications for
'green' status, there are many already;
(b) it does not affect stability of the network in a material way, rather
creates small (12.5% of revenue max) incentive to move to green sources of
energy (or buy carbon credits) and get certified - miners who would choose
to run dirty energy will still be able to do so.
and
(c) nothing is being proposed beyond what is already possible - Antpool can
go green today, and solicit users to send them signed transactions directly
instead of adding them to a public mempool, under the pretext that it would
make the transfer 'greener'. What is being proposed is some community
effort to standardize & promote this approach, because if we manage to make
Bitcoin green(er) - we will remove what many commentators see as the last
barrier / biggest risk to even wider Bitcoin adoption.

Not to mention the fact that some aspects of the Bitcoin community are
pretty centralized already - 'www.bitcoin.org', GitHub repo, certain global
internet cables / protocols / providers. Centralization is evil only when
it enables (or makes significantly easier) a threatening attack on the
network, which does not appear to be the case. It is my personal opinion
only, though, I would respect it if someone disagrees.

On a separate note, I just want to draw everyone's attention to the fact
that - assuming if my calculations are correct - carbon credits to offset
dirty energy burned by miners would cost only *approx 5%* of block rewards
in USD terms max. On the other hand, BTC price has just collapsed 20%
because Tesla dropped their adoption citing environmental concerns. If
every miner on the planet agrees to go green or buy carbon credits, it will
actually be commercially beneficial to everybody, as the price will likely
skyrocket - the problem is that such situation absent community
coordination is not a Pareto-equilibrium state, which means that every
single miner is incentivised to break away from the commitment to the green
energy.

Maybe there is another solution to the problem, and huge mining pools need
to establish a 'green cartel' like OPEC and all start buying carbon credits
in order to make Bitcoin greener and more widely adopted for their own
benefit.

On Mon, May 17, 2021 at 3:58 AM Luke Dashjr <luke at dashjr.org> wrote:

> On Friday 14 May 2021 21:41:23 Michael Fuhrmann via bitcoin-dev wrote:
> > Bitcoin should create blocks every 10 minutes in average. So why do
> > miners need to mine the 9 minutes after the last block was found? It's
> > not necessary.
>
> It increases security, and is unavoidable anyway.
>
> > Problem: How to prevent "pre-mining" in the 9 minutes time window?
>
> You can't.
>
> > Possible ideas for discussion:
> >
> > - (maybe most difficult) global network timer sending a salted hash time
> > code after 9 minutes. this enables validation by nodes.
>
> PoW *is* the global network timer.
>
> > - (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
> > high enough) times higher difficulty. so everyone can mine any time but
> > before to 9 minutes are up there will be a too high downside. It is more
> > efficient to wait then paying high bills. The bitcoin will get a "puls".
>
> There's no timestamp at this stage of consensus.
>
> On Sunday 16 May 2021 18:10:12 Karl via bitcoin-dev wrote:
> > The clock might be implementable on a peer network level by requiring
> > inclusion of a transaction that was broadcast after a 9 minute delay.
>
> That requires a centralised authority.
>
> On Sunday 16 May 2021 20:31:47 Anton Ragin via bitcoin-dev wrote:
> > 1. Has anyone considered that it might be technically not possible to
> > completely 'power down' mining rigs during this 'cool-down' period of
> time?
> > While modern CPUs have power-saving modes, I am not sure about ASICs used
> > for mining.
>
> That would be miners' problem, not the network's... New ASICs would no
> doubt
> be made to work more efficiently.
>
> > 2. I am not a huge data-center specialist, but it was my understanding
> that
> > they charge per unit of installed (maximum) electricity consumption. It
> > would mean that if the miner needs X kilowatts-hour within that 1 minute
> > when they are allowed to mine, he/she will have to pay for the same X for
> > the remaining 9 minutes - and as such would have no economic incentive
> not
> > to draw that power when idling.
>
> Actually, this would be a good thing: it would heavily discourage
> datacentre
> use (which is very harmful to mining decentralisation).
>
> > 4. My counter-proposal to the community to address energy consumption
> > problems would be *to encourage users to allow only 'green miners'
> process
> > their transaction.* In particular:
> >...
> > (b) Should there be some non-profit organization(s) certifying green
> miners
> > and giving them cryptographic certificates of conformity (either usage of
> > green energy or purchase of offsets), users could encrypt their
> > transactions and submit to mempool in such a format that *only green
> miners
> > would be able to decrypt and process them*.
>
> Hello centralisation. Might as well just have someone sign miner keys, and
> get
> rid of PoW entirely...
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210517/015c76fc/attachment.html>

From befreeandopen at protonmail.com  Mon May 17 13:14:18 2021
From: befreeandopen at protonmail.com (befreeandopen)
Date: Mon, 17 May 2021 13:14:18 +0000
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
	to save 90% of mining energy
Message-ID: <jawWY4NALDmoikH8U4l9sTFxF54GPGQBFMBfgcI2NhVOmu3kRnsDkhTZ48wQCngfaRn0q6VY0bVlFdBPz9g1PSUoHTN0jmAv97_TPNlcY_I=@protonmail.com>

Hello list,

>>Hello centralisation. Might as well just have someone sign miner keys, and get
>>rid of PoW entirely...
>>No, it is not centralization -
>
> No, it is not centralization, as:
>
> (a) different miners could use different standards / certifications for 'green' status, there are many already;

That does not refute the claim at all. Just because you can choose from multiple centralized authorities, which are well known and can collude, it does not mean it is decentralized by any reasonable definition of the term.

> (b) it does not affect stability of the network in a material way, rather creates small (12.5% of revenue max) incentive to move to green sources of energy (or buy carbon credits) and get certified - miners who would choose to run dirty energy will still be able to do so.
> and

Who is to issue these credits? A centralized entity I guess ... There is no place for such in Bitcoin.

> (c) nothing is being proposed beyond what is already possible - Antpool can go green today, and solicit users to send them signed transactions directly instead of adding them to a public mempool, under the pretext that it would make the transfer 'greener'.

And if there was an economic advantage in doing so, miners would quite likely already implement that. Yet, somehow, they are not doing that.

> What is being proposed is some community effort to standardize & promote this approach, because if we manage to make Bitcoin green(er) - we will remove what many commentators see as the last barrier / biggest risk to even wider Bitcoin adoption.

And you listen to those "many commentators" why exactly? Because they have many followers or they are trained to speak nicely? This is not how Bitcoin works. Bitcoin does not favor number of followers, popularity, or beauty, it is based on merit and these ideas have none. The only risk here is that too many people will fall for such false narratives and FUD (which is what the energy consumption "issue" really is) because other people, like yourself, who do not understand Bitcoin comment on it and present it as an actual issue.

> Not to mention the fact that some aspects of the Bitcoin community are pretty centralized already - 'www.bitcoin.org', GitHub repo, certain global internet cables / protocols / providers. Centralization is evil only when it enables (or makes significantly easier) a threatening attack on the network, which does not appear to be the case. It is my personal opinion only, though, I would respect it if someone disagrees.

I disagree. You are making false claims here and above and spreading FUD. For example, www.bitcoin.org is by no means an official website of Bitcoin. There is no such thing as an official website of Bitcoin. Anyone can buy bitcoin.TLD and put whatever content they want and it may or may not be relevant to Bitcoin, but it will absolutely not represent Bitcoin.

As for GitHub repo - learn about https://en.wikipedia.org/wiki/Focal_point_(game_theory) which is what this repo is. In no way it is an ultimate and fixed point of Bitcoin and it can change at any time - for example if GitHub project turned to be malicious. So again, you are wrong.

> On a separate note, I just want to draw everyone's attention to the fact that - assuming if my calculations are correct - carbon credits to offset dirty energy burned by miners would cost only approx 5% of block rewards in USD terms max.

Please stop with the carbon credit nonsense. There is likely no such thing to exist on a free market and no one is interested in these state regulations.

> On the other hand, BTC price has just collapsed 20% because Tesla dropped their adoption citing environmental concerns.

Just because a big company is controlled by people who do not understand Bitcoin, it does not make the issue valid. There are no such environmental concerns once you understand how Bitcoin and free market work. Don't help to spread the FUD.

> If every miner on the planet agrees to go green or buy carbon credits, it will actually be commercially beneficial to everybody, as the price will likely skyrocket - the problem is that such situation absent community coordination is not a Pareto-equilibrium state, which means that every single miner is incentivised to break away from the commitment to the green energy.

Once people stop spreading FUD, the price will likely skyrocket. Start with yourself please.

> Maybe there is another solution to the problem, and huge mining pools need to establish a 'green cartel' like OPEC and all start buying carbon credits in order to make Bitcoin greener and more widely adopted for their own benefit.

Maybe not.

> On Mon, May 17, 2021 at 3:58 AM Luke Dashjr <luke at dashjr.org> wrote:
>
>> On Friday 14 May 2021 21:41:23 Michael Fuhrmann via bitcoin-dev wrote:
>>> Bitcoin should create blocks every 10 minutes in average. So why do
>>> miners need to mine the 9 minutes after the last block was found? It's
>>> not necessary.
>>
>> It increases security, and is unavoidable anyway.
>>
>>> Problem: How to prevent "pre-mining" in the 9 minutes time window?
>>
>> You can't.
>>
>>> Possible ideas for discussion:
>>>
>>> - (maybe most difficult) global network timer sending a salted hash time
>>> code after 9 minutes. this enables validation by nodes.
>>
>> PoW *is* the global network timer.
>>
>>> - (easy attempt) mining jobs before 9 minutes have a 10 (or 100 or just
>>> high enough) times higher difficulty. so everyone can mine any time but
>>> before to 9 minutes are up there will be a too high downside. It is more
>>> efficient to wait then paying high bills. The bitcoin will get a "puls".
>>
>> There's no timestamp at this stage of consensus.
>>
>> On Sunday 16 May 2021 18:10:12 Karl via bitcoin-dev wrote:
>>> The clock might be implementable on a peer network level by requiring
>>> inclusion of a transaction that was broadcast after a 9 minute delay.
>>
>> That requires a centralised authority.
>>
>> On Sunday 16 May 2021 20:31:47 Anton Ragin via bitcoin-dev wrote:
>>> 1. Has anyone considered that it might be technically not possible to
>>> completely 'power down' mining rigs during this 'cool-down' period of time?
>>> While modern CPUs have power-saving modes, I am not sure about ASICs used
>>> for mining.
>>
>> That would be miners' problem, not the network's... New ASICs would no doubt
>> be made to work more efficiently.
>>
>>> 2. I am not a huge data-center specialist, but it was my understanding that
>>> they charge per unit of installed (maximum) electricity consumption. It
>>> would mean that if the miner needs X kilowatts-hour within that 1 minute
>>> when they are allowed to mine, he/she will have to pay for the same X for
>>> the remaining 9 minutes - and as such would have no economic incentive not
>>> to draw that power when idling.
>>
>> Actually, this would be a good thing: it would heavily discourage datacentre
>> use (which is very harmful to mining decentralisation).
>>
>>> 4. My counter-proposal to the community to address energy consumption
>>> problems would be *to encourage users to allow only 'green miners' process
>>> their transaction.* In particular:
>>>...
>>> (b) Should there be some non-profit organization(s) certifying green miners
>>> and giving them cryptographic certificates of conformity (either usage of
>>> green energy or purchase of offsets), users could encrypt their
>>> transactions and submit to mempool in such a format that *only green miners
>>> would be able to decrypt and process them*.
>>
>> Hello centralisation. Might as well just have someone sign miner keys, and get
>> rid of PoW entirely...
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
>
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210517/edc74b13/attachment-0001.html>

From anton at etc-group.com  Mon May 17 13:53:24 2021
From: anton at etc-group.com (Anton Ragin)
Date: Mon, 17 May 2021 14:53:24 +0100
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <jawWY4NALDmoikH8U4l9sTFxF54GPGQBFMBfgcI2NhVOmu3kRnsDkhTZ48wQCngfaRn0q6VY0bVlFdBPz9g1PSUoHTN0jmAv97_TPNlcY_I=@protonmail.com>
References: <jawWY4NALDmoikH8U4l9sTFxF54GPGQBFMBfgcI2NhVOmu3kRnsDkhTZ48wQCngfaRn0q6VY0bVlFdBPz9g1PSUoHTN0jmAv97_TPNlcY_I=@protonmail.com>
Message-ID: <CAPyV_jAOwQN+Xx4+b7-Oa5jz1C6uZMrEFqg8J=AUm2=P3UCh6Q@mail.gmail.com>

Hello, list

>Hello centralisation. Might as well just have someone sign miner keys, and
get
>rid of PoW entirely...
>No, it is not centralization -

No, it is not centralization, as:

(a) different miners could use different standards / certifications for
'green' status, there are many already;


>> That does not refute the claim at all. Just because you can choose from
multiple centralized authorities, which are well known and can collude, it
does not mean it is decentralized by any reasonable definition of the term.

(b) it does not affect stability of the network in a material way, rather
creates small (12.5% of revenue max) incentive to move to green sources of
energy (or buy carbon credits) and get certified - miners who would choose
to run dirty energy will still be able to do so.
and


>> Who is to issue these credits? A centralized entity I guess ... There is
no place for such in Bitcoin.

If I am to concede on the point that *voluntarily* green-status miner
certification is 'centralization', can you please explain *in detail* why
aren't 'bitcoin.org' and GitHub repo similar examples of 'centralization'?
You make a correct point that bitcoin.org and the GitHub repo are not
'official' things of Bitcoin network, however nowhere in my proposals on
green miner certification I was suggesting to introduce an 'official'
certificate for such a thing. May be I mis-formulated my ideas, in that
case I apologize:

The only thing which I suggested was to introduce an option to have some
transactions encrypted in the mempool to allow Bitcoin users some control
over who mines their transaction - full stop. Users could then decide how
to use this functionality themselves, and such functionality could have
uses way beyond 'green miners' - for example, some users might prefer to
send their transactions *directly to trusted miners* to prevent certain
quantum computer enabled attacks (e.g. when there is a window of
opportunity to steal coins if you have fast QC when you spend even from
p2phk address). Another example - if users are given some flexibility whom
to send the transactions, they might actually want to steer them away from
huge mining pools such as Antpool to support small independent miners, smth
of this sort - which actually would boost diversity in the network.

You may or may not agree that climate change is real, or may or may not
agree that Bitcoin energy consumption is a problem - I respectfully submit
it is not the right forum to find truth on these topics. We are discussing
ideas which *might *make Bitcoin a better solution for users who care about
certain things, *without *making it worse for somebody else (like you, for
example - who don't like centralization in any form).

>> (c) nothing is being proposed beyond what is already possible - Antpool
can go green today, and solicit users to send them signed transactions
directly instead of adding them to a public mempool, under the pretext that
it would make the transfer 'greener'.

>> And if there was an economic advantage in doing so, miners would quite
likely already implement that. Yet, somehow, they are not doing that.

Arguments of the sort 'if something could be done or should have been done
- it would be done already' are flawed, in my opinion, as following the
same logic nothing (including Bitcoin itself) should have been done ever.
As a matter of fact, we are working on a green miner initiative with
certain miners, having a call with Hut8 in 20 minutes myself - and I know
that we are not the only ones. Green crypto initiatives are actually
widespread, and the solutions will be popping up soon.

>>  Please stop with the carbon credit nonsense. There is likely no such
thing to exist on a free market and no one is interested in these state
regulations.

Please read this Wikipedia Article:
https://en.wikipedia.org/wiki/Carbon_offset

"There are two types of markets for carbon offsets, compliance and
*voluntary*" [emphasis added].

Voluntary carbon offset markets are actually growing really fast.

>> Just because a big company is controlled by people who do not understand
Bitcoin, it does not make the issue valid. There are no such environmental
concerns once you understand how Bitcoin and free market work. Don't help
to spread the FUD.

I respectfully submit that people who know how to launch rockets to the sky
and beam high-speed internet from the satellites to every place on earth
are at least capable of understanding how Bitcoin works. There is even an
english expression which reads 'it is not a rocket science' which I think
fits especially nicely in this particular case :)

>>  Once people stop spreading FUD, the price will likely skyrocket. Start
with yourself please.

I guess you misinterpret my intentions, I think it doesn't matter what
Bitcoin price is - my personal interest is the widest possible adoption of
blockchain as a peer-to-peer way to transfer value between consenting
individuals free from government control or intervention. Environmental
concerns are real and at least some parts of the community are clearly
interested to at least discuss this matter (e.g. I am not the one who
started this thread).

Please don't be dismissive, it is an open forum and everybody is entitled
to his/her/its own opinion.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210517/6b6bd8ba/attachment.html>

From erik at q32.com  Mon May 17 16:58:59 2021
From: erik at q32.com (Erik Aronesty)
Date: Mon, 17 May 2021 12:58:59 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
Message-ID: <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>

Verifiable Delay Functions involve active participation of a single
verifier.   Without this a VDF decays into a proof-of-work (multiple
verifiers === parallelism).

The verifier, in this case is "the bitcoin network" taken as a whole.
 I think it is reasonable to consider that some difficult-to-game
property of the last N blocks (like the hash of the last 100
block-id's or whatever), could be the verification input.

The VDF gets calculated by *every* eligible proof-of-burn miner, and
then this is used to prevent a timing issue.

Seems reasonable to me, but I haven't looked too far into the
requirements of VDF's

nice summary for anyone who is interested:
https://medium.com/@djrtwo/vdfs-are-not-proof-of-work-91ba3bec2bf4

While VDF's almost always lead to a "cpu-speed monopoly", this would
only be helpful for block latency in a proof-of-burn chain.  Block
height would be calculated by eligible-miner-burned-coins, so the
monopoly could be easily avoided.

There has been some decent earlier work on blind/uncensorable burns:
https://eprint.iacr.org/2019/1096.pdf

A miner could then reveal A) the VDF and B) proof-of-burn as a part of
a block.  Nodes would simply select the block with A) a valid VDF and
B) the highest "qualified" POB.

With most burns running at a loss, and no way to predict the next
"winning burn", and the VDF providing timing, I'm not sure how this is
worse than Bitcoin's existing system.

On Mon, May 10, 2021 at 5:51 PM Jeremy <jlrubin at mit.edu> wrote:
>
> re: 2, there's been some promising developments with Verifiable Delay Functions that make me think that the block regulation problems are solvable without requiring brute-force search proof of work. Are those inapplicable for some reason?
>

From keagan.mcclelland at gmail.com  Mon May 17 17:28:39 2021
From: keagan.mcclelland at gmail.com (Keagan McClelland)
Date: Mon, 17 May 2021 11:28:39 -0600
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <CAPyV_jAOwQN+Xx4+b7-Oa5jz1C6uZMrEFqg8J=AUm2=P3UCh6Q@mail.gmail.com>
References: <jawWY4NALDmoikH8U4l9sTFxF54GPGQBFMBfgcI2NhVOmu3kRnsDkhTZ48wQCngfaRn0q6VY0bVlFdBPz9g1PSUoHTN0jmAv97_TPNlcY_I=@protonmail.com>
 <CAPyV_jAOwQN+Xx4+b7-Oa5jz1C6uZMrEFqg8J=AUm2=P3UCh6Q@mail.gmail.com>
Message-ID: <CALeFGL1=_FSDT6TjmbL9N4TkLGvm5cMf9MsfLXT2rn5m2Cea3g@mail.gmail.com>

In principle the idea of making your transactions not mineable except by
miners who follow some particular practice is something that can and should
be discussed. For instance, it could help give economic signals for future
soft forks such that users can declare preference in a costly, sybil
resistant way.

As I understand what you are asking, you want users to be able to issue
transactions that can only be included in blocks that are signed by miners
whose certificates can be traced back to some set of certificates that the
sender has "whitelisted". The trouble here is that in order for this to be
an open system, the user would need to be able to include an unbounded
number of optional certificates in the transaction itself, otherwise the
rest of the network would be unable to validate whether or not the
transaction, when included in the block fit the consensus rules or not.

This is not possible for rather obvious reasons:
1. transaction sizes cannot be allowed to be unbounded because this creates
denial of service attacks for the broader network
2. if the valid certificate set is not unbounded, then centralization
pressure will mount on the bound between the Nth and N+1th certifier.

Finally, all of this would require a rather large consensus change to even
implement. Given how contentious the proposal of a "choose your
miner/certifier" is, it is unlikely to gain the necessary support in the
form of code, review, miner signaling, or user uptake for a UASF.

That said, not all is lost. If you truly care about only having your
transactions mined by "green" miners or whatever other qualification you
are going after, then this can likely be implemented in upper layers as you
suggested. You can submit your transaction via an overlay network directly
to any miners that fit your criteria. Since miners operate in a selfish
way, it is not in their interest to share your transaction with other
miners, and the probable case is that your transaction will only be
included in a block that is signed by your preferred authority.

I should note though, that you may be waiting forever for your transactions
to be mined and your business partners might choose not to do business with
you in the future due to delays caused by virtue signaling to nocoiners.

> Please don't be dismissive, it is an open forum and everybody is entitled
to his/her/its own opinion.

It is, in fact, an open forum and everyone is entitled to their view,
including being dismissive of yours.

> I respectfully submit that people who know how to launch rockets to the
sky and beam high-speed internet from the satellites to every place on
earth are at least capable of understanding how Bitcoin works. There is
even an english expression which reads 'it is not a rocket science' which I
think fits especially nicely in this particular case :)

No one is contesting that Elon and the rest of the technical staff at Tesla
are *capable* of understanding Bitcoin. We are just asserting that, at
present, they do not understand the underlying mechanics well enough to
give consistent rationale for their choices, and because their public
statements reveal either a deep hypocrisy, or deep ignorance in their
understanding of Bitcoin.

Keagan

On Mon, May 17, 2021 at 8:11 AM Anton Ragin via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hello, list
>
> >Hello centralisation. Might as well just have someone sign miner keys,
> and get
> >rid of PoW entirely...
> >No, it is not centralization -
>
> No, it is not centralization, as:
>
> (a) different miners could use different standards / certifications for
> 'green' status, there are many already;
>
>
> >> That does not refute the claim at all. Just because you can choose from
> multiple centralized authorities, which are well known and can collude, it
> does not mean it is decentralized by any reasonable definition of the term.
>
> (b) it does not affect stability of the network in a material way, rather
> creates small (12.5% of revenue max) incentive to move to green sources of
> energy (or buy carbon credits) and get certified - miners who would choose
> to run dirty energy will still be able to do so.
> and
>
>
> >> Who is to issue these credits? A centralized entity I guess ... There
> is no place for such in Bitcoin.
>
> If I am to concede on the point that *voluntarily* green-status miner
> certification is 'centralization', can you please explain *in detail* why
> aren't 'bitcoin.org' and GitHub repo similar examples of
> 'centralization'? You make a correct point that bitcoin.org and the
> GitHub repo are not 'official' things of Bitcoin network, however nowhere
> in my proposals on green miner certification I was suggesting to introduce
> an 'official' certificate for such a thing. May be I mis-formulated my
> ideas, in that case I apologize:
>
> The only thing which I suggested was to introduce an option to have some
> transactions encrypted in the mempool to allow Bitcoin users some control
> over who mines their transaction - full stop. Users could then decide how
> to use this functionality themselves, and such functionality could have
> uses way beyond 'green miners' - for example, some users might prefer to
> send their transactions *directly to trusted miners* to prevent certain
> quantum computer enabled attacks (e.g. when there is a window of
> opportunity to steal coins if you have fast QC when you spend even from
> p2phk address). Another example - if users are given some flexibility whom
> to send the transactions, they might actually want to steer them away from
> huge mining pools such as Antpool to support small independent miners, smth
> of this sort - which actually would boost diversity in the network.
>
> You may or may not agree that climate change is real, or may or may not
> agree that Bitcoin energy consumption is a problem - I respectfully submit
> it is not the right forum to find truth on these topics. We are discussing
> ideas which *might *make Bitcoin a better solution for users who care
> about certain things, *without *making it worse for somebody else (like
> you, for example - who don't like centralization in any form).
>
> >> (c) nothing is being proposed beyond what is already possible - Antpool
> can go green today, and solicit users to send them signed transactions
> directly instead of adding them to a public mempool, under the pretext that
> it would make the transfer 'greener'.
>
> >> And if there was an economic advantage in doing so, miners would quite
> likely already implement that. Yet, somehow, they are not doing that.
>
> Arguments of the sort 'if something could be done or should have been done
> - it would be done already' are flawed, in my opinion, as following the
> same logic nothing (including Bitcoin itself) should have been done ever.
> As a matter of fact, we are working on a green miner initiative with
> certain miners, having a call with Hut8 in 20 minutes myself - and I know
> that we are not the only ones. Green crypto initiatives are actually
> widespread, and the solutions will be popping up soon.
>
> >>  Please stop with the carbon credit nonsense. There is likely no such
> thing to exist on a free market and no one is interested in these state
> regulations.
>
> Please read this Wikipedia Article:
> https://en.wikipedia.org/wiki/Carbon_offset
>
> "There are two types of markets for carbon offsets, compliance and
> *voluntary*" [emphasis added].
>
> Voluntary carbon offset markets are actually growing really fast.
>
> >> Just because a big company is controlled by people who do not
> understand Bitcoin, it does not make the issue valid. There are no such
> environmental concerns once you understand how Bitcoin and free market
> work. Don't help to spread the FUD.
>
> I respectfully submit that people who know how to launch rockets to the
> sky and beam high-speed internet from the satellites to every place on
> earth are at least capable of understanding how Bitcoin works. There is
> even an english expression which reads 'it is not a rocket science' which I
> think fits especially nicely in this particular case :)
>
> >>  Once people stop spreading FUD, the price will likely skyrocket. Start
> with yourself please.
>
> I guess you misinterpret my intentions, I think it doesn't matter what
> Bitcoin price is - my personal interest is the widest possible adoption of
> blockchain as a peer-to-peer way to transfer value between consenting
> individuals free from government control or intervention. Environmental
> concerns are real and at least some parts of the community are clearly
> interested to at least discuss this matter (e.g. I am not the one who
> started this thread).
>
> Please don't be dismissive, it is an open forum and everybody is entitled
> to his/her/its own opinion.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210517/961c4aaa/attachment-0001.html>

From fuhmic at web.de  Mon May 17 19:17:32 2021
From: fuhmic at web.de (Michael Fuhrmann)
Date: Mon, 17 May 2021 21:17:32 +0200
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <202105170258.13233.luke@dashjr.org>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <202105170258.13233.luke@dashjr.org>
Message-ID: <1e048030-36c6-0ae8-7209-516bd797d29c@web.de>



Am 17.05.2021 um 04:58 schrieb Luke Dashjr:

> It increases security, and is unavoidable anyway.
>
> You can't.

There must be a way. dRNG + universal clock + cryptographical magic?!
I'll think about more. Because if there is a safe way of knowing when a
block was mined then this can work and no security is lost. The run f?r
the next coinbase starts now at 0 seconds and should end after 600
seconds. There is no real change if you start (proofable) 540 seconds
later und must finish in 60 seconds. I see this 10 times harder than 10
times softer.

It is just a blocktime of 60 seconds with 9 minutes of idle time.

But for this time thank you for all your great answers :D


:)

ps: it wasnt a pointing fingers musk move. it was the opposite. more
like "we try hard to be more efficient than everything else before even
if we still are".

From bogdan at powx.org  Mon May 17 19:32:08 2021
From: bogdan at powx.org (Bogdan Penkovsky)
Date: Mon, 17 May 2021 21:32:08 +0200
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
Message-ID: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>

Hi Bitcoin Devs,

We would like to share with you a draft proposal for a durable, low
energy Bitcoin proof of work.

----

<pre>
  BIP: ?
  Title: Durable, Low Energy Bitcoin PoW
  Author: Michael Dubrovsky <mike+bip[at]powx.org>, Bogdan Penkovsky
<bogdan+bip[at]powx.org>
  Discussions-To: <mike+bip[at]powx.org>
  Comments-Summary: No comments yet.
  Comments-URI: https://github.com/PoWx-Org/obtc/wiki/BIP
  Status: Draft
  Type: Standards Track
  Created: 2021-05-13
  License: BSD-2-Clause
           OPL
</pre>


== Simple Summary ==

Bitcoin's energy consumption is growing with its value (see Figure below).
Although scaling PoW is necessary to maintain the security of the network,
reliance on massive energy consumption has scaling drawbacks and leads to mining
centralization. A major consequence of the central role of local electricity
cost in mining is that today, most existing and potential participants in the
Bitcoin network cannot profitably mine Bitcoin even if they have the capital to
invest in mining hardware. From a practical perspective, Bitcoin adoption by
companies like Tesla (which recently rescinded its acceptance of Bitcoin as
payment) has been hampered by its massive energy consumption and perceived
environmental impact.

[[https://github.com/PoWx-Org/obtc/raw/main/img/btc_energy-small.png]]

Figure. Bitcoin price and estimated Bitcoin energy consumption.
Data sources: [https://cbeci.org Cambridge Bitcoin Electricity
Consumption Index], [https://www.coindesk.com CoinDesk].

We propose a novel proof-of-work paradigm for Bitcoin--Optical proof-of-work. It
is designed to decouple Bitcoin mining from energy and make it feasible outside
of regions with low electricity costs. ''Optical proof-of-work'' (oPoW) is a
modification of Hashcash that is most efficiently computed using a new class of
photonic processors. Without compromising the cryptographic or game-theoretical
security of Hashcash, oPoW shifts the operating expenses of mining (OPEX), to
capital expenses (CAPEX)--i.e. electricity to hardware. oPoW makes it possible
for billions of new miners to enter the market simply by investing in a
low-energy photonic miner. Shifting to a high-CAPEX PoW has the added benefit of
making the hashrate resilient to Bitcoin's price fluctuations - once low-OPEX
hardware is operating there is no reason to shut it down even if the value of
mining rewards diminishes. oPoW is backward compatible with GPUs, FPGAs, and
ASICs meaning that a transitional period of optical and traditional hardware
mining in parallel on the network is feasible

More information is available here: [https://www.powx.org/opow].

== Abstract ==

As Bitcoin gained utility and value over the preceding decade, the
network incentivized the purchase of billions of dollars in mining
equipment and electricity. With the growth of competition, home mining
became unprofitable. Even the most sophisticated special-purpose
hardware (ASIC miners) doesn?t cover its energy costs unless the miner
also has direct access to very cheap electricity. This heavy reliance
on energy makes it difficult for new miners to enter the market and
leads to hashrate instability as miners shut off their machines when
the price of Bitcoin falls. Additionally as the network stores ever
more value, the percentage of world energy consumption that is
associated with Bitcoin continues to grow, creating the potential for
scaling failure and a general backlash. To ensure that Bitcoin can
continue scaling and reach its full potential as a world currency and
store of value, we propose a low-energy proof-of-work paradigm for
Bitcoin. ''Optical proof of work (oPoW)'' is designed to decouple
Bitcoin?s security from massive energy use and make bitcoin mining
feasible outside of regions with low electricity costs. ''Optical
proof-of-work'' is a modification of Hashcash that is most efficiently
computed using a new class of photonic processors that has emerged as
a leading solution for ultra-low energy computing over the last 5
years. oPoW shifts the operating expenses of mining (OPEX), to capital
expenses (CAPEX)?i.e. electricity to hardware, without compromising
the cryptographic or game-theoretical security of Hashcash. We provide
an example implementation of oPoW, briefly discuss its cryptographic
construction as well as the working principle of photonic processors.
Additionally, we outline the potential benefits of oPoW to the bitcoin
network, including geographic decentralization and democratization of
mining as well as hashrate resilience to price fluctuations.

== Copyright ==

This BIP is dual-licensed under the Open Publication License and BSD
2-clause license.

== Motivation ==

As Bitcoin has grown over the past decade from a small network run by
hobbyists to a global currency, the underlying Proof of Work protocol
has not been updated. Initially pitched as a global decentralized
network (?one CPU-one vote?), Bitcoin transactions today are secured
by a small group of corporate entities. In practice, it is only
feasible for [http://archive.is/YeDwh entities that can secure access
to abundant, inexpensive energy]. The economics of mining limit
profitability to places like Iceland, Texas, or Western China. Besides
the negative environmental externalities, which may be significant,
mining today is performed primarily with the consent (and in many
cases, partnership) of large public utilities and the governments that
control them. Although this may not be a problem in the short term, in
the long term it stands to erode the censorship resistance and
security of Bitcoin and other public blockchains through potential
regulation or [https://arxiv.org/pdf/1605.07524.pdf partitioning
attacks].

Recent events, such as the
[https://twitter.com/MustafaYilham/status/1384278267067203590 ~25%
hashrate crash due to coal-powered grid failure in china] and Tesla?s
rescinding of its acceptance of Bitcoin as a form of payment, show
that there are practical real-world downsides to Proof of Works?s
massive reliance on energy.

[[https://github.com/PoWx-Org/obtc/raw/main/img/emusk_tweet.png]]

Whether on not the Bitcoin community accepts this common criticism as
entirely valid, it has real-world effects which will only get worse
over time. Eliminating the exponentially growing energy use currently
built into Bitcoin without eliminating the security of PoW would be
ideal and should not be a partisan issue.

New consensus mechanisms have been proposed as a means of securing
cryptocurrencies whilst reducing energy cost, such as various forms of
Proof of Stake and Proof of Space-Time. While many of these
alternative mechanisms offer compelling guarantees, they generally
require new security assumptions, which have not been stress-tested by
live deployments at any adequate scale. Consequently, we still have
relatively little empirical understanding of their safety. Completely
changing the Bitcoin paradigm is likely to introduce new unforeseen
problems. We believe that the major issues discussed above can be
resolved by improving rather than eliminating Bitcoin?s fundamental
security layer?Proof of Work. Instead of devising a new consensus
architecture to fix these issues, it is sufficient to shift the
economics of PoW. The financial cost imposed on miners need not be
primarily composed of electricity. The situation can be significantly
improved by reducing the operating expense (OPEX)?energy?as a major
mining component. Then, by shifting the cost towards capital expense
(CAPEX)?mining hardware?the dynamics of the mining ecosystem becomes
much less dependent on electricity prices, and much less electricity
is consumed as a whole.

Moreover, a reduction in energy consumption automatically leads to
geographically distributed mining, as mining becomes profitable even
in regions with expensive electricity. Additionally, lower energy
consumption will eliminate heating issues experienced by today?s
mining operations, which will further decrease operating cost as well
as noise associated with fans and cooling systems. All of this means
that individuals and smaller entities would be able to enter the
mining ecosystem simply for the cost of a miner, without first gaining
access to cheap energy or a dedicated, temperature-controlled data
center. To a degree, memory-hard PoW schemes like
[https://github.com/tromp/cuckoo Cuckoo Cycle], which increase the use
of SRAM in lieu of pure computation, push the CAPEX/OPEX ratio in the
right direction by occupying ASIC chip area with memory. To maximize
the CAPEX to OPEX ratio of the Optical Proof of Work algorithm, we
developed [https://assets.pubpub.org/xi9h9rps/01581688887859.pdf
''HeavyHash''] [1]. HeavyHash is a cryptographic construction that
takes the place of SHA256 in Hashcash. Our algorithm is compatible
with ultra-energy-efficient photonic co-processors that have been
developed for machine learning hardware accelerators.

HeavyHash uses a proven digital hash (SHA3) packaged with a large
amount of MAC (Multiply-and-Accumulate) computation into a Proof of
Work puzzle. Although HeavyHash can be computed on any standard
digital hardware, it becomes hardware efficient only when a small
digital core is combined with a low-power photonic co-processor for
performing MAC operations. oPoW mining machines will have a small
digital core flip-chipped onto a large, low-power photonic chip. This
core will be bottlenecked by the throughput of the digital to analog
and analog to digital converters. A prototype of such analogue optical
matrix multiplier can be seen in the figure below.

[[https://github.com/PoWx-Org/obtc/raw/main/img/optical_chip.png]]

Figure. TOP: Photonic Circuit Diagram, A. Laser input (1550nm, common
telecom wavelength) B. Metal pads for controlling modulators to
transduce electrical data to optical C. Metal pads for tuning mesh of
directional couplers D. Optical signal exits here containing the
results of the computation and is output to fibers via a grating
coupler the terminus of each waveguide. E. Alignment circuit for
aligning fiber coupling stage. Bottom: a photograph of a bare oPoW
miner prototype chip before wire and fiber bonding. On the right side
of the die are test structures (F).

The ''HeavyHash'' derives its name from the fact that it is bloated or
weighted with additional computation. This means that a cost
comparable oPoW miner will have a much lower nominal hashrate compared
to a Bitcoin ASIC (HeavyHashes/second vs. SHA256 Hashes/second in
equivalent ASIC). We provide the cryptographic security argument of
the HeavyHash function in Section 3 in
[https://assets.pubpub.org/xi9h9rps/01581688887859.pdf Towards Optical
Proof of Work] [1]. In the article, we also provide a game-theoretic
security argument for CAPEX-heavy PoW. For additional information, we
recommend reading
[https://uncommoncore.co/wp-content/uploads/2019/10/A-model-for-Bitcoins-security-and-the-declining-block-subsidy-v1.02.pdf
this article].

While traditional digital hardware relies on electrical currents,
optical computing uses light as the basis for some of or all of its
operations. Building on the development and commercialization of
silicon photonic chips for telecom and datacom applications, modern
photonic co-processors are silicon chips made using well-established
and highly scalable silicon CMOS processes. However, unlike cutting
edge electronics which require ever-smaller features (e.g. 5 nm),
fabricated by exponentially more complex and expensive machinery,
silicon photonics uses old fabrication nodes (90 nm). Due to the large
de Broglie wavelength of photons, as compared to electrons, there is
no benefit to using the small feature sizes. The result is that access
to silicon photonic wafer fabrication is readily available, in
contrast to the notoriously difficult process of accessing advanced
nodes. Moreover, the overall cost of entry is lower as lithography
masks for silicon photonics processes are an order of magnitude
cheaper ($500k vs. $5M). Examples of companies developing optical
processors for AI, which will be compatible with oPoW include
[https://lightmatter.co/ Lightmatter], [https://www.lightelligence.ai/
Lightelligence], [https://luminous.co/ Luminous],
[https://www.intel.com/content/www/us/en/architecture-and-technology/silicon-photonics/silicon-photonics-overview.html
Intel], and other more recent entrants.

== Specification ==

=== HeavyHash ===

The HeavyHash is performed in three stages:

# Keccak hash
# Matrix-vector multiplication
# Keccak of the result xorred with the hashed input

Note that the most efficiently matrix-vector multiplication is
performed on a photonic miner. However, this linear algebra operation
can be performed on any conventional computing hardware (CPU, GPU,
etc.), therefore making the HeavyHash compatible with any digital
device.

The algorithm?s pseudo-code:

<pre>// M is a Matrix 64 x 64 of Unsigned 4 values

// 256-bitVector
x1 <- keccak(input)

// Reshape the obtained bitvector
// into a 64-vector of unsigned 4-bit values
x2 <- reshape(x1, 64)

// Perform a matrix-vector multiplication.
// The result is 64-vector of 14-bit unsigned.
x3 <- vector_matrix_mult(x2, M)

// Truncate all values to 4 most significant bits.
// This is due to the specifics of analog
// computing by the photonic accelerator.
// Obtain a 64-vector of 4-bit unsigned.
x4 <- truncate_to_msb(x3, 4)

// Interpret as a 256-bitvector
x5 <- flatten(x4)

// 256-bitVector
result <- keccak(xor(x5, x1))</pre>

Which in C can be implemented as:

<pre>
static void heavyhash(const uint16_t matrix[64][64], void* pdata,
size_t pdata_len, void* output)
{
    uint8_t hash_first[32] __attribute__((aligned(32)));
    uint8_t hash_second[32] __attribute__((aligned(32)));
    uint8_t hash_xored[32] __attribute__((aligned(32)));

    uint16_t vector[64] __attribute__((aligned(64)));
    uint16_t product[64] __attribute__((aligned(64)));

    sha3_256((uint8_t*) hash_first, 32, (const uint8_t*)pdata, pdata_len);

    for (int i = 0; i < 32; ++i) {
        vector[2*i] = (hash_first[i] >> 4);
        vector[2*i+1] = hash_first[i] & 0xF;
    }

    for (int i = 0; i < 64; ++i) {
        uint16_t sum = 0;
        for (int j = 0; j < 64; ++j) {
            sum += matrix[i][j] * vector[j];
        }
        product[i] = (sum >> 10);
    }

    for (int i = 0; i < 32; ++i) {
        hash_second[i] = (product[2*i] << 4) | (product[2*i+1]);
    }

    for (int i = 0; i < 32; ++i) {
        hash_xored[i] = hash_first[i] ^ hash_second[i];
    }
    sha3_256((uint8_t*)output, 32, (const uint8_t*)hash_xored, 32);
}
</pre>

=== Random matrix generation ===

The random matrix M (which is a HeavyHash parameter) is obtained in a
deterministic way and is changed every block. Matrix M coefficients
are generated using a pseudo-random number generation algorithm
(xoshiro) from the previous block header. If the matrix is not full
rank, it is repeatedly generated again.

An example code to obtain the matrix M:

<pre>
void generate_matrix(uint16_t matrix[64][64], struct xoshiro_state *state) {
    do {
        for (int i = 0; i < 64; ++i) {
            for (int j = 0; j < 64; j += 16) {
                uint64_t value = xoshiro_gen(state);
                for (int shift = 0; shift < 16; ++shift) {
                    matrix[i][j + shift] = (value >> (4*shift)) & 0xF;
                }
            }
        }
    } while (!is_full_rank(matrix));
}

static inline uint64_t xoshiro_gen(struct xoshiro_state *state) {
    const uint64_t result = rotl64(state->s[0] + state->s[3], 23) + state->s[0];

    const uint64_t t = state->s[1] << 17;

    state->s[2] ^= state->s[0];
    state->s[3] ^= state->s[1];
    state->s[1] ^= state->s[2];
    state->s[0] ^= state->s[3];

    state->s[2] ^= t;

    state->s[3] = rotl64(state->s[3], 45);

    return result;
}
</pre>

== Discussion ==

=== Geographic Distribution of Mining Relative to CAPEX-OPEX Ratio of
Mining Costs ===

Below is a simple model showing several scenarios for the geographic
distribution of mining activity relative to the CAPEX/OPEX ratio of
the cost of operating a single piece of mining hardware. As the ratio
of energy consumption to hardware cost decreases, geographic
variations in energy cost cease to be a determining factor in miner
distribution.

Underlying assumptions: 1. Electricity price y is fixed in time but
varies geographically. 2. Every miner has access to the same hardware.
3. Each miner?s budget is limited by both the cost of mining equipment
as well as the local cost of the electricity they consume

budget = a(p+ey),

where a is the number of mining machines, p is the machine price, e is
the total energy consumption over machine lifetime, and y is
electricity price.

Note that in locations where mining is not profitable, hashrate is zero.

[[https://github.com/PoWx-Org/obtc/raw/main/img/sim1.png]]

[[https://github.com/PoWx-Org/obtc/raw/main/img/sim2.png]]

[[https://github.com/PoWx-Org/obtc/raw/main/img/sim3.png]]


An interactive version of this diagram can be found
[https://www.powx.org/opow here].

=== Why does CAPEX to OPEX shift lead to lower energy consumption? ===

A common misconception about oPoW is that it makes mining ?cheaper? by
enabling energy-efficient hardware. There is no impact on the dollar
cost of mining a block, rather the mix of energy vs. hardware
investment changes from about 50/50 to 10/90 or better. We discuss
this at length and rigorously in our paper[1].

=== Working Principles of Photonic Processors ===

Photonics accelerators are made by fabricating waveguides in silicon
using standard lithography processes. Silicon is transparent to
infrared light and can act as a tiny on-chip fiber optical cable.
Silicon photonics found its first use during the 2000s in transceivers
for sending and receiving optical signals via fiber and has advanced
tremendously over the last decade.

By encoding a vector into optical intensities passing through a series
of parallel waveguides, interfering these signals in a mesh of tunable
interferometers (acting as matrix coefficients), and then detecting
the output using on-chip Germanium photodetectors, a matrix-vector
multiplication is achieved. A generalized discussion of matrix
multiplication setups using photonics/interference can be found in
[https://journals.aps.org/prl/abstract/10.1103/PhysRevLett.73.58 Reck
et al.] and [https://arxiv.org/abs/1506.06220 Russell et al.] A
detailed discussion of several integrated photonic architectures for
matrix multiplication and corresponding tuning algorithms can be found
in [https://arxiv.org/pdf/1909.06179.pdf Pai et al.]

Below is a conceptual representation of a 3D-packaged oPoW mining
chip. Note that the majority of the real estate and cost comes from
the photonic die and the laser, with only a small digital SHA3 die
needed (as opposed to a conventional miner of the same cost, which
would have many copies of this die running in parallel).

[[https://github.com/PoWx-Org/obtc/raw/main/img/optminer.png]]

=== Block Reward Considerations ===

Although it is out of the scope of this proposal, the authors strongly
recommend the consideration of a change in the block reward schedule
currently implemented in Bitcoin. There is no clear way to incentivize
miners with transaction fees only, as has been successfully shown in
[https://www.cs.princeton.edu/~smattw/CKWN-CCS16.pdf On the
Instability of Bitcoin Without the Block Reward] and other
publications, therefore looking a decade or two ahead it will be
important to implement a fixed block reward or to slow the decay of
the block reward to maintain the security of the network. Given that
oPoW miners have low operating costs, once a large number of machines
are running the reward level sufficient to keep them in operation and
providing robust security can potentially be significantly smaller
than in the case of the current SHA256 ASICs securing Bitcoin.

=== Implementation on the Bitcoin Network ===

A hard fork is not necessarily required for the Bitcoin network to
test and eventually implement oPoW. It?s possible to add oPoW as a
dual PoW to Bitcoin as a soft fork. Tuning the parameters to ensure
that, for example, 99.9% of the security budget would be earned by
miners via the SHA256 Hashcash PoW and 0.1% via oPoW would create
sufficient incentive for oPoW to be stress-tested and to incentivize
the manufacture of dedicated oPoW miners. If this test is successful,
the parameters can be tuned continuously over time, e.g. oPoW share
doubling at every halving, such that oPoW accounts for some target
percentage (up to 100% in a complete SHA256 phase-out).

== Endnotes ==

With significant progress in optical and analog
matrix-vector-multiplication chipsets over the last year, we hope to
demonstrate commercial low-energy mining on our network in the next 6
months. The current generation of optical matrix processors under
development is expected to have 10x better energy consumption per MAC
operation than digital implementations, and we expect this to improve
by another order of magnitude in future generations.

PoWx will also be publishing the designs of the current optical miner
prototypes in the near term under an open-source hardware license.

== Acknowledgments ==

We thank all the members of the Bitcoin community who have already
given us feedback over the last several years as well as others in the
optical computing community and beyond that have given their input.




[1] M. Dubrovsky et al. Towards Optical Proof of Work, CES conference
(2020) https://assets.pubpub.org/xi9h9rps/01581688887859.pdf

[2] https://sciencex.com/news/2020-05-powering-bitcoin-silicon-photonics-power.html

[3] KISS random number generator http://www.cse.yorku.ca/~oz/marsaglia-rng.html




----
We have taken into account the moderator's comments we received previously.



Bogdan and Mike,

PoWx

From keagan.mcclelland at gmail.com  Mon May 17 21:13:42 2021
From: keagan.mcclelland at gmail.com (Keagan McClelland)
Date: Mon, 17 May 2021 15:13:42 -0600
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>
References: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>
Message-ID: <CALeFGL3U2yb2WVz4rwcBqO25kd0B7NcgrN4iMjDyackrTTegpw@mail.gmail.com>

A few things jump out at me as I read this proposal

First, deriving the hardness from capex as opposed to opex switches the
privilege from those who have cheap electricity to those who have access to
chip manufacturers/foundries. While this is similarly the case for Bitcoin
ASICS today, the longevity of the PoW algorithm has led to a better
distribution of knowledge and capital goods required to create ASICS. The
creation of a new PoW of any kind, hurts this dimension of decentralization
as we would have to start over from scratch on the best way to build,
distribute, and operate these new pieces of hardware at scale. While I have
not combed over the PoW proposed here in fine detail, the more complicated
the algorithm is, the more it privileges those with specific knowledge
about it and the manufacturing process.

The competitive nature of Bitcoin mining is such that miners will be
willing to spend up to their expected mining reward in their operating
costs to continue to mine. Let's suppose that this new PoW was adopted,
miners will continue to buy these chips in ever increasing quantities,
turning the aforementioned CAPEX into a de facto OPEX. This has a few
consequences. First it just pushes the energy consumption upstream to the
chip manufacturing process, rather than eliminating it. And it may trade
some marginal amount of the energy consumption for the set of resources it
takes to educate and create chip manufacturers. The only way to avoid that
cost being funneled back into more energy consumption is to make the
barrier to understanding of the manufacturing process sufficiently
difficult so as to limit the proliferation of these chips. Again, this
privileges the chip manufacturers as well as those with close access to the
chip manufacturers.

As far as I can tell, the only thing this proposal actually does is create
a very lucrative business model for those who sell this variety of chips.
Any other effects of it are transient, and in all likelihood the transient
effects create serious centralization pressure.

At the end of the day, the energy consumption is foundational to the
system. The only way to do away with authorities, is to require
competition. This competition will employ ever more resources until it is
unprofitable to do so. At the base of all resources of society is energy.
You get high energy expenditure, or a privileged class of bitcoin
administrators: pick one. I suspect you'll find the vast majority of
Bitcoin users to be in the camp of the energy expenditure, since if we pick
the latter, we might as well just pack it in and give up on the Bitcoin
experiment.

Keagan

On Mon, May 17, 2021 at 2:33 PM Bogdan Penkovsky via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hi Bitcoin Devs,
>
> We would like to share with you a draft proposal for a durable, low
> energy Bitcoin proof of work.
>
> ----
>
> <pre>
>   BIP: ?
>   Title: Durable, Low Energy Bitcoin PoW
>   Author: Michael Dubrovsky <mike+bip[at]powx.org>, Bogdan Penkovsky
> <bogdan+bip[at]powx.org>
>   Discussions-To: <mike+bip[at]powx.org>
>   Comments-Summary: No comments yet.
>   Comments-URI: https://github.com/PoWx-Org/obtc/wiki/BIP
>   Status: Draft
>   Type: Standards Track
>   Created: 2021-05-13
>   License: BSD-2-Clause
>            OPL
> </pre>
>
>
> == Simple Summary ==
>
> Bitcoin's energy consumption is growing with its value (see Figure below).
> Although scaling PoW is necessary to maintain the security of the network,
> reliance on massive energy consumption has scaling drawbacks and leads to
> mining
> centralization. A major consequence of the central role of local
> electricity
> cost in mining is that today, most existing and potential participants in
> the
> Bitcoin network cannot profitably mine Bitcoin even if they have the
> capital to
> invest in mining hardware. From a practical perspective, Bitcoin adoption
> by
> companies like Tesla (which recently rescinded its acceptance of Bitcoin as
> payment) has been hampered by its massive energy consumption and perceived
> environmental impact.
>
> [[https://github.com/PoWx-Org/obtc/raw/main/img/btc_energy-small.png]]
>
> Figure. Bitcoin price and estimated Bitcoin energy consumption.
> Data sources: [https://cbeci.org Cambridge Bitcoin Electricity
> Consumption Index], [https://www.coindesk.com CoinDesk].
>
> We propose a novel proof-of-work paradigm for Bitcoin--Optical
> proof-of-work. It
> is designed to decouple Bitcoin mining from energy and make it feasible
> outside
> of regions with low electricity costs. ''Optical proof-of-work'' (oPoW) is
> a
> modification of Hashcash that is most efficiently computed using a new
> class of
> photonic processors. Without compromising the cryptographic or
> game-theoretical
> security of Hashcash, oPoW shifts the operating expenses of mining (OPEX),
> to
> capital expenses (CAPEX)--i.e. electricity to hardware. oPoW makes it
> possible
> for billions of new miners to enter the market simply by investing in a
> low-energy photonic miner. Shifting to a high-CAPEX PoW has the added
> benefit of
> making the hashrate resilient to Bitcoin's price fluctuations - once
> low-OPEX
> hardware is operating there is no reason to shut it down even if the value
> of
> mining rewards diminishes. oPoW is backward compatible with GPUs, FPGAs,
> and
> ASICs meaning that a transitional period of optical and traditional
> hardware
> mining in parallel on the network is feasible
>
> More information is available here: [https://www.powx.org/opow].
>
> == Abstract ==
>
> As Bitcoin gained utility and value over the preceding decade, the
> network incentivized the purchase of billions of dollars in mining
> equipment and electricity. With the growth of competition, home mining
> became unprofitable. Even the most sophisticated special-purpose
> hardware (ASIC miners) doesn?t cover its energy costs unless the miner
> also has direct access to very cheap electricity. This heavy reliance
> on energy makes it difficult for new miners to enter the market and
> leads to hashrate instability as miners shut off their machines when
> the price of Bitcoin falls. Additionally as the network stores ever
> more value, the percentage of world energy consumption that is
> associated with Bitcoin continues to grow, creating the potential for
> scaling failure and a general backlash. To ensure that Bitcoin can
> continue scaling and reach its full potential as a world currency and
> store of value, we propose a low-energy proof-of-work paradigm for
> Bitcoin. ''Optical proof of work (oPoW)'' is designed to decouple
> Bitcoin?s security from massive energy use and make bitcoin mining
> feasible outside of regions with low electricity costs. ''Optical
> proof-of-work'' is a modification of Hashcash that is most efficiently
> computed using a new class of photonic processors that has emerged as
> a leading solution for ultra-low energy computing over the last 5
> years. oPoW shifts the operating expenses of mining (OPEX), to capital
> expenses (CAPEX)?i.e. electricity to hardware, without compromising
> the cryptographic or game-theoretical security of Hashcash. We provide
> an example implementation of oPoW, briefly discuss its cryptographic
> construction as well as the working principle of photonic processors.
> Additionally, we outline the potential benefits of oPoW to the bitcoin
> network, including geographic decentralization and democratization of
> mining as well as hashrate resilience to price fluctuations.
>
> == Copyright ==
>
> This BIP is dual-licensed under the Open Publication License and BSD
> 2-clause license.
>
> == Motivation ==
>
> As Bitcoin has grown over the past decade from a small network run by
> hobbyists to a global currency, the underlying Proof of Work protocol
> has not been updated. Initially pitched as a global decentralized
> network (?one CPU-one vote?), Bitcoin transactions today are secured
> by a small group of corporate entities. In practice, it is only
> feasible for [http://archive.is/YeDwh entities that can secure access
> to abundant, inexpensive energy]. The economics of mining limit
> profitability to places like Iceland, Texas, or Western China. Besides
> the negative environmental externalities, which may be significant,
> mining today is performed primarily with the consent (and in many
> cases, partnership) of large public utilities and the governments that
> control them. Although this may not be a problem in the short term, in
> the long term it stands to erode the censorship resistance and
> security of Bitcoin and other public blockchains through potential
> regulation or [https://arxiv.org/pdf/1605.07524.pdf partitioning
> attacks].
>
> Recent events, such as the
> [https://twitter.com/MustafaYilham/status/1384278267067203590 ~25%
> hashrate crash due to coal-powered grid failure in china] and Tesla?s
> rescinding of its acceptance of Bitcoin as a form of payment, show
> that there are practical real-world downsides to Proof of Works?s
> massive reliance on energy.
>
> [[https://github.com/PoWx-Org/obtc/raw/main/img/emusk_tweet.png]]
>
> Whether on not the Bitcoin community accepts this common criticism as
> entirely valid, it has real-world effects which will only get worse
> over time. Eliminating the exponentially growing energy use currently
> built into Bitcoin without eliminating the security of PoW would be
> ideal and should not be a partisan issue.
>
> New consensus mechanisms have been proposed as a means of securing
> cryptocurrencies whilst reducing energy cost, such as various forms of
> Proof of Stake and Proof of Space-Time. While many of these
> alternative mechanisms offer compelling guarantees, they generally
> require new security assumptions, which have not been stress-tested by
> live deployments at any adequate scale. Consequently, we still have
> relatively little empirical understanding of their safety. Completely
> changing the Bitcoin paradigm is likely to introduce new unforeseen
> problems. We believe that the major issues discussed above can be
> resolved by improving rather than eliminating Bitcoin?s fundamental
> security layer?Proof of Work. Instead of devising a new consensus
> architecture to fix these issues, it is sufficient to shift the
> economics of PoW. The financial cost imposed on miners need not be
> primarily composed of electricity. The situation can be significantly
> improved by reducing the operating expense (OPEX)?energy?as a major
> mining component. Then, by shifting the cost towards capital expense
> (CAPEX)?mining hardware?the dynamics of the mining ecosystem becomes
> much less dependent on electricity prices, and much less electricity
> is consumed as a whole.
>
> Moreover, a reduction in energy consumption automatically leads to
> geographically distributed mining, as mining becomes profitable even
> in regions with expensive electricity. Additionally, lower energy
> consumption will eliminate heating issues experienced by today?s
> mining operations, which will further decrease operating cost as well
> as noise associated with fans and cooling systems. All of this means
> that individuals and smaller entities would be able to enter the
> mining ecosystem simply for the cost of a miner, without first gaining
> access to cheap energy or a dedicated, temperature-controlled data
> center. To a degree, memory-hard PoW schemes like
> [https://github.com/tromp/cuckoo Cuckoo Cycle], which increase the use
> of SRAM in lieu of pure computation, push the CAPEX/OPEX ratio in the
> right direction by occupying ASIC chip area with memory. To maximize
> the CAPEX to OPEX ratio of the Optical Proof of Work algorithm, we
> developed [https://assets.pubpub.org/xi9h9rps/01581688887859.pdf
> ''HeavyHash''] [1]. HeavyHash is a cryptographic construction that
> takes the place of SHA256 in Hashcash. Our algorithm is compatible
> with ultra-energy-efficient photonic co-processors that have been
> developed for machine learning hardware accelerators.
>
> HeavyHash uses a proven digital hash (SHA3) packaged with a large
> amount of MAC (Multiply-and-Accumulate) computation into a Proof of
> Work puzzle. Although HeavyHash can be computed on any standard
> digital hardware, it becomes hardware efficient only when a small
> digital core is combined with a low-power photonic co-processor for
> performing MAC operations. oPoW mining machines will have a small
> digital core flip-chipped onto a large, low-power photonic chip. This
> core will be bottlenecked by the throughput of the digital to analog
> and analog to digital converters. A prototype of such analogue optical
> matrix multiplier can be seen in the figure below.
>
> [[https://github.com/PoWx-Org/obtc/raw/main/img/optical_chip.png]]
>
> Figure. TOP: Photonic Circuit Diagram, A. Laser input (1550nm, common
> telecom wavelength) B. Metal pads for controlling modulators to
> transduce electrical data to optical C. Metal pads for tuning mesh of
> directional couplers D. Optical signal exits here containing the
> results of the computation and is output to fibers via a grating
> coupler the terminus of each waveguide. E. Alignment circuit for
> aligning fiber coupling stage. Bottom: a photograph of a bare oPoW
> miner prototype chip before wire and fiber bonding. On the right side
> of the die are test structures (F).
>
> The ''HeavyHash'' derives its name from the fact that it is bloated or
> weighted with additional computation. This means that a cost
> comparable oPoW miner will have a much lower nominal hashrate compared
> to a Bitcoin ASIC (HeavyHashes/second vs. SHA256 Hashes/second in
> equivalent ASIC). We provide the cryptographic security argument of
> the HeavyHash function in Section 3 in
> [https://assets.pubpub.org/xi9h9rps/01581688887859.pdf Towards Optical
> Proof of Work] [1]. In the article, we also provide a game-theoretic
> security argument for CAPEX-heavy PoW. For additional information, we
> recommend reading
> [
> https://uncommoncore.co/wp-content/uploads/2019/10/A-model-for-Bitcoins-security-and-the-declining-block-subsidy-v1.02.pdf
> this article].
>
> While traditional digital hardware relies on electrical currents,
> optical computing uses light as the basis for some of or all of its
> operations. Building on the development and commercialization of
> silicon photonic chips for telecom and datacom applications, modern
> photonic co-processors are silicon chips made using well-established
> and highly scalable silicon CMOS processes. However, unlike cutting
> edge electronics which require ever-smaller features (e.g. 5 nm),
> fabricated by exponentially more complex and expensive machinery,
> silicon photonics uses old fabrication nodes (90 nm). Due to the large
> de Broglie wavelength of photons, as compared to electrons, there is
> no benefit to using the small feature sizes. The result is that access
> to silicon photonic wafer fabrication is readily available, in
> contrast to the notoriously difficult process of accessing advanced
> nodes. Moreover, the overall cost of entry is lower as lithography
> masks for silicon photonics processes are an order of magnitude
> cheaper ($500k vs. $5M). Examples of companies developing optical
> processors for AI, which will be compatible with oPoW include
> [https://lightmatter.co/ Lightmatter], [https://www.lightelligence.ai/
> Lightelligence], [https://luminous.co/ Luminous],
> [
> https://www.intel.com/content/www/us/en/architecture-and-technology/silicon-photonics/silicon-photonics-overview.html
> Intel], and other more recent entrants.
>
> == Specification ==
>
> === HeavyHash ===
>
> The HeavyHash is performed in three stages:
>
> # Keccak hash
> # Matrix-vector multiplication
> # Keccak of the result xorred with the hashed input
>
> Note that the most efficiently matrix-vector multiplication is
> performed on a photonic miner. However, this linear algebra operation
> can be performed on any conventional computing hardware (CPU, GPU,
> etc.), therefore making the HeavyHash compatible with any digital
> device.
>
> The algorithm?s pseudo-code:
>
> <pre>// M is a Matrix 64 x 64 of Unsigned 4 values
>
> // 256-bitVector
> x1 <- keccak(input)
>
> // Reshape the obtained bitvector
> // into a 64-vector of unsigned 4-bit values
> x2 <- reshape(x1, 64)
>
> // Perform a matrix-vector multiplication.
> // The result is 64-vector of 14-bit unsigned.
> x3 <- vector_matrix_mult(x2, M)
>
> // Truncate all values to 4 most significant bits.
> // This is due to the specifics of analog
> // computing by the photonic accelerator.
> // Obtain a 64-vector of 4-bit unsigned.
> x4 <- truncate_to_msb(x3, 4)
>
> // Interpret as a 256-bitvector
> x5 <- flatten(x4)
>
> // 256-bitVector
> result <- keccak(xor(x5, x1))</pre>
>
> Which in C can be implemented as:
>
> <pre>
> static void heavyhash(const uint16_t matrix[64][64], void* pdata,
> size_t pdata_len, void* output)
> {
>     uint8_t hash_first[32] __attribute__((aligned(32)));
>     uint8_t hash_second[32] __attribute__((aligned(32)));
>     uint8_t hash_xored[32] __attribute__((aligned(32)));
>
>     uint16_t vector[64] __attribute__((aligned(64)));
>     uint16_t product[64] __attribute__((aligned(64)));
>
>     sha3_256((uint8_t*) hash_first, 32, (const uint8_t*)pdata, pdata_len);
>
>     for (int i = 0; i < 32; ++i) {
>         vector[2*i] = (hash_first[i] >> 4);
>         vector[2*i+1] = hash_first[i] & 0xF;
>     }
>
>     for (int i = 0; i < 64; ++i) {
>         uint16_t sum = 0;
>         for (int j = 0; j < 64; ++j) {
>             sum += matrix[i][j] * vector[j];
>         }
>         product[i] = (sum >> 10);
>     }
>
>     for (int i = 0; i < 32; ++i) {
>         hash_second[i] = (product[2*i] << 4) | (product[2*i+1]);
>     }
>
>     for (int i = 0; i < 32; ++i) {
>         hash_xored[i] = hash_first[i] ^ hash_second[i];
>     }
>     sha3_256((uint8_t*)output, 32, (const uint8_t*)hash_xored, 32);
> }
> </pre>
>
> === Random matrix generation ===
>
> The random matrix M (which is a HeavyHash parameter) is obtained in a
> deterministic way and is changed every block. Matrix M coefficients
> are generated using a pseudo-random number generation algorithm
> (xoshiro) from the previous block header. If the matrix is not full
> rank, it is repeatedly generated again.
>
> An example code to obtain the matrix M:
>
> <pre>
> void generate_matrix(uint16_t matrix[64][64], struct xoshiro_state *state)
> {
>     do {
>         for (int i = 0; i < 64; ++i) {
>             for (int j = 0; j < 64; j += 16) {
>                 uint64_t value = xoshiro_gen(state);
>                 for (int shift = 0; shift < 16; ++shift) {
>                     matrix[i][j + shift] = (value >> (4*shift)) & 0xF;
>                 }
>             }
>         }
>     } while (!is_full_rank(matrix));
> }
>
> static inline uint64_t xoshiro_gen(struct xoshiro_state *state) {
>     const uint64_t result = rotl64(state->s[0] + state->s[3], 23) +
> state->s[0];
>
>     const uint64_t t = state->s[1] << 17;
>
>     state->s[2] ^= state->s[0];
>     state->s[3] ^= state->s[1];
>     state->s[1] ^= state->s[2];
>     state->s[0] ^= state->s[3];
>
>     state->s[2] ^= t;
>
>     state->s[3] = rotl64(state->s[3], 45);
>
>     return result;
> }
> </pre>
>
> == Discussion ==
>
> === Geographic Distribution of Mining Relative to CAPEX-OPEX Ratio of
> Mining Costs ===
>
> Below is a simple model showing several scenarios for the geographic
> distribution of mining activity relative to the CAPEX/OPEX ratio of
> the cost of operating a single piece of mining hardware. As the ratio
> of energy consumption to hardware cost decreases, geographic
> variations in energy cost cease to be a determining factor in miner
> distribution.
>
> Underlying assumptions: 1. Electricity price y is fixed in time but
> varies geographically. 2. Every miner has access to the same hardware.
> 3. Each miner?s budget is limited by both the cost of mining equipment
> as well as the local cost of the electricity they consume
>
> budget = a(p+ey),
>
> where a is the number of mining machines, p is the machine price, e is
> the total energy consumption over machine lifetime, and y is
> electricity price.
>
> Note that in locations where mining is not profitable, hashrate is zero.
>
> [[https://github.com/PoWx-Org/obtc/raw/main/img/sim1.png]]
>
> [[https://github.com/PoWx-Org/obtc/raw/main/img/sim2.png]]
>
> [[https://github.com/PoWx-Org/obtc/raw/main/img/sim3.png]]
>
>
> An interactive version of this diagram can be found
> [https://www.powx.org/opow here].
>
> === Why does CAPEX to OPEX shift lead to lower energy consumption? ===
>
> A common misconception about oPoW is that it makes mining ?cheaper? by
> enabling energy-efficient hardware. There is no impact on the dollar
> cost of mining a block, rather the mix of energy vs. hardware
> investment changes from about 50/50 to 10/90 or better. We discuss
> this at length and rigorously in our paper[1].
>
> === Working Principles of Photonic Processors ===
>
> Photonics accelerators are made by fabricating waveguides in silicon
> using standard lithography processes. Silicon is transparent to
> infrared light and can act as a tiny on-chip fiber optical cable.
> Silicon photonics found its first use during the 2000s in transceivers
> for sending and receiving optical signals via fiber and has advanced
> tremendously over the last decade.
>
> By encoding a vector into optical intensities passing through a series
> of parallel waveguides, interfering these signals in a mesh of tunable
> interferometers (acting as matrix coefficients), and then detecting
> the output using on-chip Germanium photodetectors, a matrix-vector
> multiplication is achieved. A generalized discussion of matrix
> multiplication setups using photonics/interference can be found in
> [https://journals.aps.org/prl/abstract/10.1103/PhysRevLett.73.58 Reck
> et al.] and [https://arxiv.org/abs/1506.06220 Russell et al.] A
> detailed discussion of several integrated photonic architectures for
> matrix multiplication and corresponding tuning algorithms can be found
> in [https://arxiv.org/pdf/1909.06179.pdf Pai et al.]
>
> Below is a conceptual representation of a 3D-packaged oPoW mining
> chip. Note that the majority of the real estate and cost comes from
> the photonic die and the laser, with only a small digital SHA3 die
> needed (as opposed to a conventional miner of the same cost, which
> would have many copies of this die running in parallel).
>
> [[https://github.com/PoWx-Org/obtc/raw/main/img/optminer.png]]
>
> === Block Reward Considerations ===
>
> Although it is out of the scope of this proposal, the authors strongly
> recommend the consideration of a change in the block reward schedule
> currently implemented in Bitcoin. There is no clear way to incentivize
> miners with transaction fees only, as has been successfully shown in
> [https://www.cs.princeton.edu/~smattw/CKWN-CCS16.pdf On the
> Instability of Bitcoin Without the Block Reward] and other
> publications, therefore looking a decade or two ahead it will be
> important to implement a fixed block reward or to slow the decay of
> the block reward to maintain the security of the network. Given that
> oPoW miners have low operating costs, once a large number of machines
> are running the reward level sufficient to keep them in operation and
> providing robust security can potentially be significantly smaller
> than in the case of the current SHA256 ASICs securing Bitcoin.
>
> === Implementation on the Bitcoin Network ===
>
> A hard fork is not necessarily required for the Bitcoin network to
> test and eventually implement oPoW. It?s possible to add oPoW as a
> dual PoW to Bitcoin as a soft fork. Tuning the parameters to ensure
> that, for example, 99.9% of the security budget would be earned by
> miners via the SHA256 Hashcash PoW and 0.1% via oPoW would create
> sufficient incentive for oPoW to be stress-tested and to incentivize
> the manufacture of dedicated oPoW miners. If this test is successful,
> the parameters can be tuned continuously over time, e.g. oPoW share
> doubling at every halving, such that oPoW accounts for some target
> percentage (up to 100% in a complete SHA256 phase-out).
>
> == Endnotes ==
>
> With significant progress in optical and analog
> matrix-vector-multiplication chipsets over the last year, we hope to
> demonstrate commercial low-energy mining on our network in the next 6
> months. The current generation of optical matrix processors under
> development is expected to have 10x better energy consumption per MAC
> operation than digital implementations, and we expect this to improve
> by another order of magnitude in future generations.
>
> PoWx will also be publishing the designs of the current optical miner
> prototypes in the near term under an open-source hardware license.
>
> == Acknowledgments ==
>
> We thank all the members of the Bitcoin community who have already
> given us feedback over the last several years as well as others in the
> optical computing community and beyond that have given their input.
>
>
>
>
> [1] M. Dubrovsky et al. Towards Optical Proof of Work, CES conference
> (2020) https://assets.pubpub.org/xi9h9rps/01581688887859.pdf
>
> [2]
> https://sciencex.com/news/2020-05-powering-bitcoin-silicon-photonics-power.html
>
> [3] KISS random number generator
> http://www.cse.yorku.ca/~oz/marsaglia-rng.html
>
>
>
>
> ----
> We have taken into account the moderator's comments we received previously.
>
>
>
> Bogdan and Mike,
>
> PoWx
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210517/666f63d9/attachment-0001.html>

From ZmnSCPxj at protonmail.com  Tue May 18 06:46:58 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 06:46:58 +0000
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <CALeFGL3U2yb2WVz4rwcBqO25kd0B7NcgrN4iMjDyackrTTegpw@mail.gmail.com>
References: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>
 <CALeFGL3U2yb2WVz4rwcBqO25kd0B7NcgrN4iMjDyackrTTegpw@mail.gmail.com>
Message-ID: <ZFVpoVGcwTTpDDlAXLn8cCwic0l40b3DmE_UoKIv4IvmFDDX9W2F1sRHYwido1X7OK0fX1QAx5J8I5DokM4pcIKziNAgAwc6emrHulfbRE8=@protonmail.com>


> A few things jump out at me as I read this proposal
>
> First, deriving the hardness from capex as opposed to opex switches the privilege from those who have cheap electricity to those who have access to chip manufacturers/foundries. While this is similarly the case for Bitcoin ASICS today, the longevity of the PoW algorithm has led to a better distribution of knowledge and capital goods required to create ASICS. The creation of a new PoW of any kind, hurts this dimension of decentralization as we would have to start over from scratch on the best way to build, distribute, and operate these new pieces of hardware at scale. While I have not combed over the PoW proposed here in fine detail, the more complicated the algorithm is, the more it privileges those with specific knowledge about it and the manufacturing process.
>
> The competitive nature of Bitcoin mining is such that miners will be willing to spend up to their expected mining reward in their operating costs to continue to mine. Let's suppose that this new PoW was adopted, miners will continue to buy these chips in ever increasing quantities, turning the aforementioned CAPEX into a de facto OPEX. This has a few consequences. First it just pushes the energy consumption upstream to the chip manufacturing process, rather than eliminating it. And it may trade some marginal amount of the energy consumption for the set of resources it takes to educate and create chip manufacturers. The only way to avoid that cost being funneled back into more energy consumption is to make the barrier to understanding of the manufacturing process sufficiently difficult so as to limit the proliferation of these chips. Again, this privileges the chip manufacturers as well as those with close access to the chip manufacturers.
>
> As far as I can tell, the only thing this proposal actually does is create a very lucrative business model for those who sell this variety of chips. Any other effects of it are transient, and in all likelihood the transient effects create serious centralization pressure.
>
> At the end of the day, the energy consumption is foundational to the system. The only way to do away with authorities, is to require competition. This competition will employ ever more resources until it is unprofitable to do so. At the base of all resources of society is energy. You get high energy expenditure, or a privileged class of bitcoin administrators: pick one. I suspect you'll find the vast majority of Bitcoin users to be in the camp of the energy expenditure, since if we pick the latter, we might as well just pack it in and give up on the Bitcoin experiment.


Keagan is quite correct.
Ultimately all currency security derives from energy consumption.
Everything eventually resolves down to proof-of-work.

* Proof-of-space simply moves the work to the construction of more storage devices.
* Proof-of-stake simply moves the work to stake-grinding attacks.
* The optical proof-of-work simply moves the work to the construction of more miners.
* Even government-enforced fiat is ultimately proof-of-work, as the operation and continued existence of any government is work.

It is far better to move towards a more *direct* proof-of-work, than to add more complexity and come up with something that is just proof-of-work, but with the work moved off to somewhere else and with additional moving parts that can be jammed or hacked into.

When considering any new proof-of-foo, it is best to consider all effects until you reach the base physics of the arrow of time, at which point you will realize it is ultimately just another proof-of-work anyway.

At least, proof-of-work is honest about its consumption of resources.


Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 07:06:23 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 07:06:23 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
Message-ID: <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>

Good morning Erik,

> Verifiable Delay Functions involve active participation of a single
> verifier. Without this a VDF decays into a proof-of-work (multiple
> verifiers === parallelism).
>
> The verifier, in this case is "the bitcoin network" taken as a whole.
> I think it is reasonable to consider that some difficult-to-game
> property of the last N blocks (like the hash of the last 100
> block-id's or whatever), could be the verification input.
>
> The VDF gets calculated by every eligible proof-of-burn miner, and
> then this is used to prevent a timing issue.
>
> Seems reasonable to me, but I haven't looked too far into the
> requirements of VDF's
>
> nice summary for anyone who is interested:
> https://medium.com/@djrtwo/vdfs-are-not-proof-of-work-91ba3bec2bf4
>
> While VDF's almost always lead to a "cpu-speed monopoly", this would
> only be helpful for block latency in a proof-of-burn chain. Block
> height would be calculated by eligible-miner-burned-coins, so the
> monopoly could be easily avoided.

Interesting link.

However, I would like to point out that the *real* reason that PoW consumes lots of power is ***NOT***:

* Proof-of-work is parallelizable, so it allows miners consume more energy (by buying more grinders) in order to get more blocks than their competitors.

The *real* reason is:

* Proof-of-work allows miners to consume more energy in order to get more blocks than their competitors.

VDFs attempt to sidestep that by removing parallelism.
However, there are ways to increase *sequential* speed, such as:

* Overclocking.
  * This shortens lifetime, so you can spend more energy (on building new miners) in order to get more blocks than your competitors.
* Lower temperatures.
  * This requires refrigeration/cooling, so you can spend more energy (on the refrigeration process) in order to get more blocks than your competitors.

I am certain people with gaming rigs can point out more ways to improve sequential speed, as necessary to get more frames per second.

Given the above, I think VDFs will still fail at their intended task.
Speed, yo.

Thus, VDFs do not serve as a sufficient deterrent away from ever-increasing energy consumption --- it just moves the energy consumption increase away from the obvious (parallelism) to the obscure-if-you-have-no-gamer-buds.

You humans just need to get up to Kardashev 1.0, stat.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 07:46:21 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 07:46:21 +0000
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
	to save 90% of mining energy
In-Reply-To: <CAPyV_jDsScGQo4_DB8y7-4ZFGyEqM_Sk3YUUteK6HwPRuxOAvQ@mail.gmail.com>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <202105170258.13233.luke@dashjr.org>
 <CAPyV_jDsScGQo4_DB8y7-4ZFGyEqM_Sk3YUUteK6HwPRuxOAvQ@mail.gmail.com>
Message-ID: <XCHeoYbRg9a2N-IDktDfrJrB-41w3bDRE95UI6MLiRAf48TzRGIN53VEpZqL3atnwGi_g5D3wefYlFH7qrm5ZjPGX3MwvzlaTJKdKN_tCzE=@protonmail.com>

Good morning Anton,

> >> 4. My counter-proposal to the community to address energy consumption
> >> problems would be *to encourage users to allow only 'green miners' process>> their transaction.* In particular:
> >>...
> >> (b) Should there be some non-profit organization(s) certifying green miners
> >> and giving them cryptographic certificates of conformity (either usage of
> >> green energy or purchase of offsets), users could encrypt their
> >> transactions and submit to mempool in such a format that *only green miners>> would be able to decrypt and process them*.
>
> >Hello centralisation. Might as well just have someone sign miner keys, and get
> >rid of PoW entirely...
> >No, it is not centralization -?
>
> No, it is not centralization, as:
>
> (a) different miners could use different standards / certifications for 'green' status, there are many already;
> (b) it does not affect stability of the network in a material way, rather creates small (12.5% of revenue max) incentive to move to green sources of energy (or buy carbon credits) and get certified - miners who would choose to run dirty energy will still be able to do so.
> and
>
> (c) nothing is being proposed beyond?what is already possible - Antpool can go green today, and solicit users to send them signed transactions directly instead of adding them to a public mempool, under the pretext that it would make the transfer 'greener'. What is being proposed is some community effort to standardize?& promote this approach, because if we manage to make Bitcoin green(er) - we will remove what many commentators?see as the last barrier / biggest risk to even wider Bitcoin adoption.


The point of avoiding centralization is to avoid authorities --- who can end up being bribeable or hackable single points-of-failure, and which would potentially be able to kill Bitcoin as a whole from a single attack point.

Adding an authority which filters miners works directly against this goal, regardless of however you define "centralization" --- centralization is not the root issue here, the authority *is*.

One can observe that "more renewable" energy sources will, economically, be cheaper (in the long run) anyway, and you do not have to add anything to go towards "more green" energy resources.

After all, a "non-renewable" resource is simply a resource that has a lower supply (it cannot be renewed) than a "more renewable" energy source.
There is only so much energy that is stored in coal and oil on Earth, but the sun has a much larger total mass than Earth itself, thus it is a "more renewable" energy resource than coal and oil.
Economically, this implies that "greener" energy resources will be cheaper in the long run, simply by price being a function of supply.

In short: trust the invisible hand.

We already know that lots of miners already operate in places where energy prices have bottomed due to oversupply due to technological improvements in capturing energy that used to be dissipated as waste heat.
What is needed is to spread this knowledge to others, not mess with the design of Bitcoin at a fundamental level and risk introducing unexpected side effects (bugs).


Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 08:04:56 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 08:04:56 +0000
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
	to save 90% of mining energy
In-Reply-To: <1e048030-36c6-0ae8-7209-516bd797d29c@web.de>
References: <d35dee03-2d19-e80a-c577-2151938f9203@web.de>
 <202105170258.13233.luke@dashjr.org>
 <1e048030-36c6-0ae8-7209-516bd797d29c@web.de>
Message-ID: <gD2X1v1H8Fv3boRGKwVhMMr0RCLh4K9k3-qRKhL_8yHhcwGhCMynHYrgt0VkrTlyKOgsPrnEpaSjgUSoNd-LPbnwXnRqgdvAlYWUuJs9zTo=@protonmail.com>

Good morning Michael,

> Am 17.05.2021 um 04:58 schrieb Luke Dashjr:
>
> > It increases security, and is unavoidable anyway.
> > You can't.
>
> There must be a way. dRNG + universal clock + cryptographical magic?!


Proof-of-work **is** the cryptographic magic that creates a universal clock.

In physics, the Arrow of Time is defined as the direction in which entropy increases.

Suppose you were shown a video of a particle in a low-gravity environment hitting a wall and bouncing away.
This video can be played forwards or backwards, and you would not be able to determine whether it is played forwards or backwards.

In short, in many physical interactions, there is ***no*** notion of a direction in time, i.e. no past or future.
Nearly every physical interaction, at the small scale, is reversible, thus there is no (apparent) inherent direction of time.

However, suppose you were instead shown a video where a group of ceramic shards on a floor comes together to form a vase, which then rises off the floor and then floats onto a table.
Obviously, this is a video played backwards.
A group of shards on the floor is a higher-entropy state than a vase on a table, thus it is obvious what the Arrow of Time here *actually* is.

Or suppose you were shown this video: https://www.youtube.com/watch?v=zePA3uIbB5I
Obviously, this is a video played backwards (except for the introduction, of course --- pay attention how there is a scene cut from the introduction to the main part of the video).
A Rubik cube that is in a disordered state is a higher-entropy state than a Rubik cube that is in an ordered state where each side has a specific single color, thus it is obvious that the Mythbusters did not actually do any work and just ran a time-reversed video of them disordering a newly-opened Rubik cube.


All of our clocks are ultimately derived from the *measurable* increase of entropy:

* The current definition of 1 second is measured in terms of the decay of [Caesium atoms](https://en.wikipedia.org/wiki/Isotopes_of_caesium#Caesium-133).
  This decay represents the reduction of energy of the atoms and thus an increase in universal entropy.
* Wind-up clockwork watches are powered by the controlled release of the energy stored in a spring, a consumption of stored energy and thus an increase in universal entropy.
* Wind-up clockwork watches are powered by the controlled release of the energy stored in a spring, a consumption of stored energy and thus an increase in universal entropy.



Now, a low-entropy state is simply one where energy is available for consumption.
And as we know, proof-of-work requires energy consumption.

Thus, the existence of a proof-of-work is a proof that time has passed.
If time did not pass, then it would not have been possible to create the proof-of-work, because it would not be possible to consume energy (i.e. increase universal entropy) and thus create an Arrow of Time.

>From this proof-of-time-passing, we can then build a universal clock, one that is deeply tied to the physical world, due to the energy consumption.
It is by this method that Bitcoin is anchored to reality.


There is already a universal clock available using cryptographic magic.
It is called proof-of-work.


Regards,
ZmnSCPxj

From anton at etc-group.com  Mon May 17 23:02:07 2021
From: anton at etc-group.com (Anton Ragin)
Date: Tue, 18 May 2021 00:02:07 +0100
Subject: [bitcoin-dev] Proposal: Force to do nothing for first 9 minutes
 to save 90% of mining energy
In-Reply-To: <CALeFGL1=_FSDT6TjmbL9N4TkLGvm5cMf9MsfLXT2rn5m2Cea3g@mail.gmail.com>
References: <jawWY4NALDmoikH8U4l9sTFxF54GPGQBFMBfgcI2NhVOmu3kRnsDkhTZ48wQCngfaRn0q6VY0bVlFdBPz9g1PSUoHTN0jmAv97_TPNlcY_I=@protonmail.com>
 <CAPyV_jAOwQN+Xx4+b7-Oa5jz1C6uZMrEFqg8J=AUm2=P3UCh6Q@mail.gmail.com>
 <CALeFGL1=_FSDT6TjmbL9N4TkLGvm5cMf9MsfLXT2rn5m2Cea3g@mail.gmail.com>
Message-ID: <CAPyV_jBqeTJQskKnzOwcwH0Byed8E6RLy4qLhQG-aWsH62NbTw@mail.gmail.com>

>> This is not possible for rather obvious reasons:
>> 1. transaction sizes cannot be allowed to be unbounded because this
creates denial of service attacks for the broader network
>> 2. if the valid certificate set is not unbounded, then centralization
pressure will mount on the bound between the Nth and N+1th certifier.

>> Finally, all of this would require a rather large consensus change to
even implement. Given how contentious the proposal of a "choose your
miner/certifier" is, it is unlikely to gain the necessary support in the
form of code, review, miner signaling, or user uptake for a UASF.

My original suggestion was to hold an unbounded number of copies of
asymmetrically-encrypted transactions in the mempool, each of them could be
decrypted with the key which is owned by a particular miner. Once one of
them get mined, all other copies are discarded (this can be done by holding
hashes of transactions in the mempool unencrypted, so once the node sees
the transaction matching the hash mined - it can discard the other copies
sharing the same hash).

I agree that that opens the door to potential DoS attack - people can start
transmitting invalid transactions to perform a DoS attack on the network.

However, the following adaptation of the idea might work: the transaction
is duly signed and communicated to the mempool, but have an unbonded list
of certificates of 'preferred' miners. If for within M blocks a preferred
miner manages to mine the block - fine, if within M blocks it does not
happen, transaction can be mined by any miner. Additionally, full nodes can
demand a minimum fee which is dependant on the number of attached
certificates (e.g. if attaching N certificates makes the transaction
message 2x the size of normal message, the minimum fee is twice bigger). It
appears to me, that such M-block delay + list of preferred miners which can
be arbitrary long, but user pays higher fees if it is unreasonably long,
does not raise DoS concerns as it does not materially affect the dynamics
of things how they are right now.

>>  If you truly care about only having your transactions mined by "green"
miners or whatever other qualification you are going after, then this can
likely be implemented in upper layers as you suggested. You can submit your
transaction via an overlay network directly to any miners that fit your
criteria. Since miners operate in a selfish way, it is not in their
interest to share your transaction with other miners, and the probable case
is that your transaction will only be included in a block that is signed by
your preferred authority.

Overlay network is one of the solutions, however community-supported
functionality of giving some miners a priority as suggested above will

>>  It is, in fact, an open forum and everyone is entitled to their view,
including being dismissive of yours.

Accepted :)

On Mon, May 17, 2021 at 6:28 PM Keagan McClelland <
keagan.mcclelland at gmail.com> wrote:

> In principle the idea of making your transactions not mineable except by
> miners who follow some particular practice is something that can and should
> be discussed. For instance, it could help give economic signals for future
> soft forks such that users can declare preference in a costly, sybil
> resistant way.
>
> As I understand what you are asking, you want users to be able to issue
> transactions that can only be included in blocks that are signed by miners
> whose certificates can be traced back to some set of certificates that the
> sender has "whitelisted". The trouble here is that in order for this to be
> an open system, the user would need to be able to include an unbounded
> number of optional certificates in the transaction itself, otherwise the
> rest of the network would be unable to validate whether or not the
> transaction, when included in the block fit the consensus rules or not.
>
> This is not possible for rather obvious reasons:
> 1. transaction sizes cannot be allowed to be unbounded because this
> creates denial of service attacks for the broader network
> 2. if the valid certificate set is not unbounded, then centralization
> pressure will mount on the bound between the Nth and N+1th certifier.
>
> Finally, all of this would require a rather large consensus change to even
> implement. Given how contentious the proposal of a "choose your
> miner/certifier" is, it is unlikely to gain the necessary support in the
> form of code, review, miner signaling, or user uptake for a UASF.
>
> That said, not all is lost. If you truly care about only having your
> transactions mined by "green" miners or whatever other qualification you
> are going after, then this can likely be implemented in upper layers as you
> suggested. You can submit your transaction via an overlay network directly
> to any miners that fit your criteria. Since miners operate in a selfish
> way, it is not in their interest to share your transaction with other
> miners, and the probable case is that your transaction will only be
> included in a block that is signed by your preferred authority.
>
> I should note though, that you may be waiting forever for your
> transactions to be mined and your business partners might choose not to do
> business with you in the future due to delays caused by virtue signaling to
> nocoiners.
>
> > Please don't be dismissive, it is an open forum and everybody is
> entitled to his/her/its own opinion.
>
> It is, in fact, an open forum and everyone is entitled to their view,
> including being dismissive of yours.
>
> > I respectfully submit that people who know how to launch rockets to the
> sky and beam high-speed internet from the satellites to every place on
> earth are at least capable of understanding how Bitcoin works. There is
> even an english expression which reads 'it is not a rocket science' which I
> think fits especially nicely in this particular case :)
>
> No one is contesting that Elon and the rest of the technical staff at
> Tesla are *capable* of understanding Bitcoin. We are just asserting that,
> at present, they do not understand the underlying mechanics well enough to
> give consistent rationale for their choices, and because their public
> statements reveal either a deep hypocrisy, or deep ignorance in their
> understanding of Bitcoin.
>
> Keagan
>
> On Mon, May 17, 2021 at 8:11 AM Anton Ragin via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Hello, list
>>
>> >Hello centralisation. Might as well just have someone sign miner keys,
>> and get
>> >rid of PoW entirely...
>> >No, it is not centralization -
>>
>> No, it is not centralization, as:
>>
>> (a) different miners could use different standards / certifications for
>> 'green' status, there are many already;
>>
>>
>> >> That does not refute the claim at all. Just because you can choose
>> from multiple centralized authorities, which are well known and can
>> collude, it does not mean it is decentralized by any reasonable definition
>> of the term.
>>
>> (b) it does not affect stability of the network in a material way, rather
>> creates small (12.5% of revenue max) incentive to move to green sources of
>> energy (or buy carbon credits) and get certified - miners who would choose
>> to run dirty energy will still be able to do so.
>> and
>>
>>
>> >> Who is to issue these credits? A centralized entity I guess ... There
>> is no place for such in Bitcoin.
>>
>> If I am to concede on the point that *voluntarily* green-status miner
>> certification is 'centralization', can you please explain *in detail* why
>> aren't 'bitcoin.org' and GitHub repo similar examples of
>> 'centralization'? You make a correct point that bitcoin.org and the
>> GitHub repo are not 'official' things of Bitcoin network, however nowhere
>> in my proposals on green miner certification I was suggesting to introduce
>> an 'official' certificate for such a thing. May be I mis-formulated my
>> ideas, in that case I apologize:
>>
>> The only thing which I suggested was to introduce an option to have some
>> transactions encrypted in the mempool to allow Bitcoin users some control
>> over who mines their transaction - full stop. Users could then decide how
>> to use this functionality themselves, and such functionality could have
>> uses way beyond 'green miners' - for example, some users might prefer to
>> send their transactions *directly to trusted miners* to prevent certain
>> quantum computer enabled attacks (e.g. when there is a window of
>> opportunity to steal coins if you have fast QC when you spend even from
>> p2phk address). Another example - if users are given some flexibility whom
>> to send the transactions, they might actually want to steer them away from
>> huge mining pools such as Antpool to support small independent miners, smth
>> of this sort - which actually would boost diversity in the network.
>>
>> You may or may not agree that climate change is real, or may or may not
>> agree that Bitcoin energy consumption is a problem - I respectfully submit
>> it is not the right forum to find truth on these topics. We are discussing
>> ideas which *might *make Bitcoin a better solution for users who care
>> about certain things, *without *making it worse for somebody else (like
>> you, for example - who don't like centralization in any form).
>>
>> >> (c) nothing is being proposed beyond what is already possible -
>> Antpool can go green today, and solicit users to send them signed
>> transactions directly instead of adding them to a public mempool, under the
>> pretext that it would make the transfer 'greener'.
>>
>> >> And if there was an economic advantage in doing so, miners would quite
>> likely already implement that. Yet, somehow, they are not doing that.
>>
>> Arguments of the sort 'if something could be done or should have been
>> done - it would be done already' are flawed, in my opinion, as following
>> the same logic nothing (including Bitcoin itself) should have been done
>> ever. As a matter of fact, we are working on a green miner initiative with
>> certain miners, having a call with Hut8 in 20 minutes myself - and I know
>> that we are not the only ones. Green crypto initiatives are actually
>> widespread, and the solutions will be popping up soon.
>>
>> >>  Please stop with the carbon credit nonsense. There is likely no such
>> thing to exist on a free market and no one is interested in these state
>> regulations.
>>
>> Please read this Wikipedia Article:
>> https://en.wikipedia.org/wiki/Carbon_offset
>>
>> "There are two types of markets for carbon offsets, compliance and
>> *voluntary*" [emphasis added].
>>
>> Voluntary carbon offset markets are actually growing really fast.
>>
>> >> Just because a big company is controlled by people who do not
>> understand Bitcoin, it does not make the issue valid. There are no such
>> environmental concerns once you understand how Bitcoin and free market
>> work. Don't help to spread the FUD.
>>
>> I respectfully submit that people who know how to launch rockets to the
>> sky and beam high-speed internet from the satellites to every place on
>> earth are at least capable of understanding how Bitcoin works. There is
>> even an english expression which reads 'it is not a rocket science' which I
>> think fits especially nicely in this particular case :)
>>
>> >>  Once people stop spreading FUD, the price will likely skyrocket.
>> Start with yourself please.
>>
>> I guess you misinterpret my intentions, I think it doesn't matter what
>> Bitcoin price is - my personal interest is the widest possible adoption of
>> blockchain as a peer-to-peer way to transfer value between consenting
>> individuals free from government control or intervention. Environmental
>> concerns are real and at least some parts of the community are clearly
>> interested to at least discuss this matter (e.g. I am not the one who
>> started this thread).
>>
>> Please don't be dismissive, it is an open forum and everybody is entitled
>> to his/her/its own opinion.
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/cfd5bae3/attachment-0001.html>

From c1.bitcoin at niftybox.net  Tue May 18 09:18:24 2021
From: c1.bitcoin at niftybox.net (Devrandom)
Date: Tue, 18 May 2021 02:18:24 -0700
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <ZFVpoVGcwTTpDDlAXLn8cCwic0l40b3DmE_UoKIv4IvmFDDX9W2F1sRHYwido1X7OK0fX1QAx5J8I5DokM4pcIKziNAgAwc6emrHulfbRE8=@protonmail.com>
References: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>
 <CALeFGL3U2yb2WVz4rwcBqO25kd0B7NcgrN4iMjDyackrTTegpw@mail.gmail.com>
 <ZFVpoVGcwTTpDDlAXLn8cCwic0l40b3DmE_UoKIv4IvmFDDX9W2F1sRHYwido1X7OK0fX1QAx5J8I5DokM4pcIKziNAgAwc6emrHulfbRE8=@protonmail.com>
Message-ID: <CAB0O3SUm0JJ7rdQZNuH+6AKhC3SiXSsoBAoGpLZS7YJawWBS3Q@mail.gmail.com>

On Mon, May 17, 2021 at 11:47 PM ZmnSCPxj:

>
> When considering any new proof-of-foo, it is best to consider all effects
> until you reach the base physics of the arrow of time, at which point you
> will realize it is ultimately just another proof-of-work anyway.
>

Let's not simplify away economic considerations, such as externalities.
The whole debate about the current PoW is about negative externalities
related to energy production.

Depending on the details, CAPEX (R&D, real-estate, construction,
production) may have less externalities, and if that's the case, we should
be interested in adopting a PoW that is intensive in these types of CAPEX.

On Mon, May 17, 2021 at 2:20 PM Keagan McClelland wrote:

First it just pushes the energy consumption upstream to the chip
> manufacturing process, rather than eliminating it. And it may trade some
> marginal amount of the energy consumption for the set of resources it takes
> to educate and create chip manufacturers. The only way to avoid that cost
> being funneled back into more energy consumption [...]
>

I challenge you to substantiate these assertions.  Real-estate and human
cognitive work are not energy intensive and are a major factor in the
expected costs of some alternative PoWs.  The expected mining effort is
such that the cost will reach the expected reward, no more, so there is
every reason to believe that energy consumption will be small compared to
the current PoW.

Therefore, the total associated negative externalities for the alternative
PoWs may well be much lower than the externalities of energy production.
This needs detailed analysis, not a knee-jerk reaction.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/15c18301/attachment.html>

From zachgrw at gmail.com  Tue May 18 10:16:01 2021
From: zachgrw at gmail.com (Zac Greenwood)
Date: Tue, 18 May 2021 12:16:01 +0200
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
Message-ID: <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>

VDFs might enable more constant block times, for instance by having a
two-step PoW:

1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to
difficulty adjustments similar to the as-is). As per the property of VDFs,
miners are able show proof of work.

2. Use current PoW mechanism with lower difficulty so finding a block takes
1 minute on average, again subject to as-is difficulty adjustments.

As a result, variation in block times will be greatly reduced.

Zac


On Tue, 18 May 2021 at 09:07, ZmnSCPxj via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Good morning Erik,
>
> > Verifiable Delay Functions involve active participation of a single
> > verifier. Without this a VDF decays into a proof-of-work (multiple
> > verifiers === parallelism).
> >
> > The verifier, in this case is "the bitcoin network" taken as a whole.
> > I think it is reasonable to consider that some difficult-to-game
> > property of the last N blocks (like the hash of the last 100
> > block-id's or whatever), could be the verification input.
> >
> > The VDF gets calculated by every eligible proof-of-burn miner, and
> > then this is used to prevent a timing issue.
> >
> > Seems reasonable to me, but I haven't looked too far into the
> > requirements of VDF's
> >
> > nice summary for anyone who is interested:
> > https://medium.com/@djrtwo/vdfs-are-not-proof-of-work-91ba3bec2bf4
> >
> > While VDF's almost always lead to a "cpu-speed monopoly", this would
> > only be helpful for block latency in a proof-of-burn chain. Block
> > height would be calculated by eligible-miner-burned-coins, so the
> > monopoly could be easily avoided.
>
> Interesting link.
>
> However, I would like to point out that the *real* reason that PoW
> consumes lots of power is ***NOT***:
>
> * Proof-of-work is parallelizable, so it allows miners consume more energy
> (by buying more grinders) in order to get more blocks than their
> competitors.
>
> The *real* reason is:
>
> * Proof-of-work allows miners to consume more energy in order to get more
> blocks than their competitors.
>
> VDFs attempt to sidestep that by removing parallelism.
> However, there are ways to increase *sequential* speed, such as:
>
> * Overclocking.
>   * This shortens lifetime, so you can spend more energy (on building new
> miners) in order to get more blocks than your competitors.
> * Lower temperatures.
>   * This requires refrigeration/cooling, so you can spend more energy (on
> the refrigeration process) in order to get more blocks than your
> competitors.
>
> I am certain people with gaming rigs can point out more ways to improve
> sequential speed, as necessary to get more frames per second.
>
> Given the above, I think VDFs will still fail at their intended task.
> Speed, yo.
>
> Thus, VDFs do not serve as a sufficient deterrent away from
> ever-increasing energy consumption --- it just moves the energy consumption
> increase away from the obvious (parallelism) to the
> obscure-if-you-have-no-gamer-buds.
>
> You humans just need to get up to Kardashev 1.0, stat.
>
> Regards,
> ZmnSCPxj
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/2f1a992a/attachment.html>

From ZmnSCPxj at protonmail.com  Tue May 18 10:42:49 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 10:42:49 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
Message-ID: <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>

Good morning Zac,

> VDFs might enable more constant block times, for instance by having a two-step PoW:
>
> 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>
> 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>
> As a result, variation in block times will be greatly reduced.

As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).

Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 10:58:59 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 10:58:59 +0000
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <CAB0O3SUm0JJ7rdQZNuH+6AKhC3SiXSsoBAoGpLZS7YJawWBS3Q@mail.gmail.com>
References: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>
 <CALeFGL3U2yb2WVz4rwcBqO25kd0B7NcgrN4iMjDyackrTTegpw@mail.gmail.com>
 <ZFVpoVGcwTTpDDlAXLn8cCwic0l40b3DmE_UoKIv4IvmFDDX9W2F1sRHYwido1X7OK0fX1QAx5J8I5DokM4pcIKziNAgAwc6emrHulfbRE8=@protonmail.com>
 <CAB0O3SUm0JJ7rdQZNuH+6AKhC3SiXSsoBAoGpLZS7YJawWBS3Q@mail.gmail.com>
Message-ID: <WVZvU2OA12RoqS180g1B2ULVCACwaKtdF-75OWKcydI9NUxbaGefYjKAwUklzEef1bIWHghZIotDhCQuxIG5KBX14BmDCEz0wKbNJAkG-ak=@protonmail.com>

Good morning devrandom,

> On Mon, May 17, 2021 at 11:47 PM ZmnSCPxj:
>
> > When considering any new proof-of-foo, it is best to consider all effects until you reach the base physics of the arrow of time, at which point you will realize it is ultimately just another proof-of-work anyway.
>
> Let's not simplify away economic considerations, such as externalities.? The whole debate about the current PoW is about negative externalities related to energy production.
>
> Depending on the details, CAPEX (R&D, real-estate, construction, production) may have less externalities, and if that's the case, we should be interested in adopting a PoW that is intensive in these types of CAPEX.

Then let us also not forget another important externality: possible optimizations of a new PoW algorithm that risk being put into some kind of exclusive patent.

I think with high probability that SHA256d as used by Bitcoin will no longer have an optimization as large in effect as ASICBOOST in the future, simply because there is a huge incentive to find such optimizations and Bitcoin has been using SHA256d for 12 years already, and we have already found ASICBOOST (and while patented, as I understand it the patent owner has promised not to enforce the patent --- my understanding may be wrong).

Any alternative PoW algorithm risks an ASICBOOST-like optimization that is currently unknown, but which will be discovered (and possibly patented by an owner that *will* enforce the patent, thus putting the entire ecosystem at direct conflict with legacy government structures) once there is a good incentive (i.e. use in Bitcoin) for it.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 11:36:49 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 11:36:49 +0000
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <CA4E1F20-B266-4E77-96FF-39329C4D825D@powx.org>
References: <WVZvU2OA12RoqS180g1B2ULVCACwaKtdF-75OWKcydI9NUxbaGefYjKAwUklzEef1bIWHghZIotDhCQuxIG5KBX14BmDCEz0wKbNJAkG-ak=@protonmail.com>
 <CA4E1F20-B266-4E77-96FF-39329C4D825D@powx.org>
Message-ID: <U-U9RmD3wRndUuQkzjsqm5X8BNnGKcxiIJs-fWbPMiGNaiSlENL4Yn4Ui8vUseIMse_rzgzBmV6EfkdROHEuPbA9vgf7Fkq39Hr9cs-zZbs=@protonmail.com>

Good morning Michael,

> That?s a fair point about patents. However, note that we were careful about this. oPoW only uses SHA3 (can be replaced with SHA256 in principle as well) and low precision linear matrix multiplication. A whole industry is trying to accelerate 8-bit linear matrix mults for AI so there is already a massive incentive (and has been for decades).
>
> See companies like Mythic, Groq, Tesla (FSD computer), google TPU and so on for electronic versions of this. Several of the optical ones are mentioned in the BIP (e.g. Lightmatter)


Please note that ASICBOOST for SHA256d is based on a layer-crossing violation: SHA256 processes in blocks, and the Bitcoin block header is slightly larger than one SHA256 block.

Adding more to a direct SHA3 (which, as a "sponge" construction, avoids blocks, but other layer-crossing violations may still exist) still risks layer violations that might introduce hidden optimizations.

Or more succinctly;

* Just because the components have (with high probability) no more possible optimizations, does not mean that the construction *as a whole* has no hidden optimizations.

Thus, even if linear matrix multiplication and SHA3 have no hidden optimizations, their combination, together with the Bitcoin block header format, *may* have hidden optimizations.

And there are no *current* incentives to find such optimizations until Bitcoin moves to this, at which point we are already committed and it would be highly infeasible to revert to SHA256d --- i.e. too late.

This is why changes to PoW are highly discouraged.


Remember, ASICBOOST was *not* an optimization of SHA256 *or* SHA256d, it was an optimizations of SHA256d-on-a-Bitcoin-block-header.
ASICBOOST cannot speed up general SHA256 or even general SHA256d, it only applies specifically to SHA256d-on-a-Bitcoin-block-header.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 11:58:44 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 11:58:44 +0000
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <03AA32FD-5AC0-42B0-B6D3-387BDC2B4238@powx.org>
References: <U-U9RmD3wRndUuQkzjsqm5X8BNnGKcxiIJs-fWbPMiGNaiSlENL4Yn4Ui8vUseIMse_rzgzBmV6EfkdROHEuPbA9vgf7Fkq39Hr9cs-zZbs=@protonmail.com>
 <03AA32FD-5AC0-42B0-B6D3-387BDC2B4238@powx.org>
Message-ID: <vTGmO3qpvd7XawxARg2vvWmeP2LOCLAIBgMRWmNNmf7mok0DRhIes5JsBnooflSNk4DX2vQCuOB7hBmSjcUT_RvtF6l8gJ9Tt69TWEeowmg=@protonmail.com>

Good morning Michael,

> That?s interesting. I didn?t know the history of ASICBOOST.

History is immaterial, what is important is the technical description of ASICBOOST.
Basically, by fixing the partial computation of the second block of SHA256, we could selectively vary bits in the first block of SHA256, while reusing the computation of the second block.
This allows a grinder to grind more candidate blocks without recomputing the second block output, reducing the needed power consumption for the same number of hashes attempted.

Here is an important writeup: https://www.mit.edu/~jlrubin/public/pdfs/Asicboost.pdf
It should really be required reading for anyone who dreams of changing PoW algorithms to read and understand this document.

There may be similar layer-crossings in any combined construction --- or even just a simple hash function --- when it is applied to a specific Bitcoin block format.

>
> Our proposal (see Implementation) is to phase in oPoW slowly starting at a very low % of the rewards (say 1%). That should give a long testing period where there is real financial incentive for things like ASICBOOST
>
> Does that resolve or partially resolve the issue in your eyes?

It does mitigate this somewhat.

However, such a mechanism is an additional complication and there may be further layer-crossing violations possible --- there may be an optimization to have a circuit that occasionally uses SHA256d and occasionally uses oPoW, that is not possible with a pure SHA256d or pure oPoW circuit.
So this mitigation is not as strong as it might appear at first glance; additional layers means additional possibility of layer-crossing violations like ASICBOOST.




Regards,
ZmnSCPxj


From ZmnSCPxj at protonmail.com  Tue May 18 12:15:58 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 12:15:58 +0000
Subject: [bitcoin-dev] Prediction Markets and Bitcoin
In-Reply-To: <M_PfAhN--3-2@tutanota.de>
References: <y8Kg6O56gsHAibyZ_UbVSFVWXtS-77wg7H-KKhpDfL-CdGyt7KaZ5y9RDhU7kdgr8JDfkQjTtbkm4vX8UMnxAhSs0nKdt8yFhpfZmc-JBLU=@protonmail.com>
 <M_PfAhN--3-2@tutanota.de>
Message-ID: <6vNu7L3ixnPdpuxQFOusZYDQK8uuuylD5XecO8WXi386DtXN5LsNS-lHm_cScC5QBpRXe8Y7Ab0QWishbVMKPW75gqJHS69PSlqY9iZEQBE=@protonmail.com>

Good morning Prayank,

>
> >?Of course the people ultimately funding the development must impose what direction that development goes to, after all, it is their money that is being modified. Thus development must follow the market.
>
> Disagree.?
>
> 1.A position in a futures market about possible outcomes of an event is not equivalent to funding Bitcoin development.
>
> 2.People or organizations funding Bitcoin developers or projects can always have some opinion, influence and disagreements. They can never impose or force something at least in Bitcoin protocol.

Sorry for the late reply.

I expect that many Bitcoin developers have a nontrivial amount of their life savings in Bitcoin.

Any change in Bitcoin price represents a significant change in the value of these life savings.

A position in a futures market represents a prediction by the one taking the position that they expect the price of Bitcoin to change in a particular direction, possibly based on some condition, including the direction where development goes.

This signal then represents an implicit threat ("if Bitcoin goes against this position, I will liquidate my Bitcoin and drop the Bitcoin price") which can be sufficient to "fund" or "de-fund" developers who have a significant stake in Bitcoin.




> I don't think futures market in this case will be able to aggregate and reflect all available information so everything mentioned above has its own importance which should be considered. Maybe I missed few things.

*Some* information > *No* information

>
> 3.Incorrect usage of futures markets in Bitcoin and other issues:

Well, yes, this is the hard part, sigh.


Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 12:22:09 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 12:22:09 +0000
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <864F983C-841D-4334-94F4-5A9F7D617B70@powx.org>
References: <vTGmO3qpvd7XawxARg2vvWmeP2LOCLAIBgMRWmNNmf7mok0DRhIes5JsBnooflSNk4DX2vQCuOB7hBmSjcUT_RvtF6l8gJ9Tt69TWEeowmg=@protonmail.com>
 <864F983C-841D-4334-94F4-5A9F7D617B70@powx.org>
Message-ID: <gU6IuHMWVlb0523voCPVfZjdgWD2XSKyF73j2fbBC-YKQH9QKfoNkOmxxOU2tR1YMh0yiGrTRWvGAtn_MPhLx-GREUUsOYZ3rJkvYjSKSZs=@protonmail.com>

Good morning Michael,

> Nothing in a dynamic system like PoW mining can be 100% anticipated, for example there might be advanced in manufacturing of chips which are patented and so on.?
>
> It sounds like your take is that this means no improvements can ever be made by any mechanism, however conservative.

Not at all.

Small-enough improvements over long-enough periods of time are expected and anticipated --- that is why there exists a difficulty adjustment mechanism.
What is risky if a large-enough improvement over a short-enough time that overwhelms the difficulty adjustment mechanism.
ASICBOOST was a massive enough improvement that it could be argued to potentially overwhelm this mechanism if it was not openly allowed for all miners.

>
> We do go into a fair amount of detail about Minimum Effective Hardness in our paper?https://assets.pubpub.org/xi9h9rps/01581688887859.pdf?, which is actually a special case of hardness that we invented for the context of adding an operation to a PoW, and how it applies to random matrix mults. ??

This certainly helps as well.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 12:58:19 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 12:58:19 +0000
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <gU6IuHMWVlb0523voCPVfZjdgWD2XSKyF73j2fbBC-YKQH9QKfoNkOmxxOU2tR1YMh0yiGrTRWvGAtn_MPhLx-GREUUsOYZ3rJkvYjSKSZs=@protonmail.com>
References: <vTGmO3qpvd7XawxARg2vvWmeP2LOCLAIBgMRWmNNmf7mok0DRhIes5JsBnooflSNk4DX2vQCuOB7hBmSjcUT_RvtF6l8gJ9Tt69TWEeowmg=@protonmail.com>
 <864F983C-841D-4334-94F4-5A9F7D617B70@powx.org>
 <gU6IuHMWVlb0523voCPVfZjdgWD2XSKyF73j2fbBC-YKQH9QKfoNkOmxxOU2tR1YMh0yiGrTRWvGAtn_MPhLx-GREUUsOYZ3rJkvYjSKSZs=@protonmail.com>
Message-ID: <U0VZGMC4DZ7OCRiGXZcErc8yeQQymKnIQVhvvHzUqB3JXqPUh283NLOXxYnoczjD-fnIvUK3snRHvDYaJY_6ZiW7edpoj-Xd1Qn1Sn7xKP8=@protonmail.com>

Good morning Michael,

> Good morning Michael,
>
> > Nothing in a dynamic system like PoW mining can be 100% anticipated, for example there might be advanced in manufacturing of chips which are patented and so on.
> > It sounds like your take is that this means no improvements can ever be made by any mechanism, however conservative.
>
> Not at all.
>
> Small-enough improvements over long-enough periods of time are expected and anticipated --- that is why there exists a difficulty adjustment mechanism.
> What is risky if a large-enough improvement over a short-enough time that overwhelms the difficulty adjustment mechanism.
> ASICBOOST was a massive enough improvement that it could be argued to potentially overwhelm this mechanism if it was not openly allowed for all miners.

Or to put it in another perspective:

* Small improvements to PoW mining are tolerated by Bitcoin.
  * Such improvements are expected to be common.
* Large improvements to PoW mining are potential extinction events for Bitcoin, due to massive centralization risk.
  * Such improvements are expected to be *rare* but *not* nonexistent.
* The number of possible circuit configurations is bounded by physical limits (matter is quantized, excssively-large chips are infeasible, etc.), thus the number of expected optimizations of a particular overall algorithm are bounded.

Suppose two manufacturers find two different small improvements to PoW mining.
In all likelihood, "the sum is better than its parts" and if the two have a cross-licensing deal, they can outcompete their *other* competition.
Further, even if some small competitor violates the patent, the improvement may be small enough that the patent owner may decide the competitor is too small to bother with all the legal fees involved to enforce the patent.
Thus, small improvements to PoW mining are expected to eventually spread widely, and that is what the difficulty adjustment mechanism exists to modulate.

But suppose a third manufacturer develops an ASICBOOST-level optimization of whatever the PoW mining algorithm is.
That manufacturer has no incentive to cross-license, since it can dominate the competition without cross-licensing a bunch of smaller optimizations (that may not even add up to compete against the ASICBOOST-level optimization).
And any small competitor that violates patent will be enforced against, due to the major improvement that the large optimization has and the massive monopolistic advantage the ASICBOOST-level optimization patent holder would have.


SHA256d-on-Bitcoin-block-header has already uncovered ASICBOOST, and thus the number of possible other large optimizations is that much smaller --- the number of possible optimizations is bounded by physical constraints.
Thus, the risk of a black-swan event where a new optimization of SHA256d-on-Bitcoin-block-header is large enough to massively centralize mining is reduced, compared to every other alternative PoW algorithm, which is an important reason to avoid changing PoW as much as possible, without some really serious study (which you might be engaged in --- I am not enough of a mathist to follow your papers).

We are more likely to want to change SHA256 for SHA3 on the txid and Merkle trees than on the PoW.


Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Tue May 18 13:10:12 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Tue, 18 May 2021 13:10:12 +0000
Subject: [bitcoin-dev] Fee estimates and RBF
In-Reply-To: <M_eKbLz--N-2@tutanota.de>
References: <M_eKbLz--N-2@tutanota.de>
Message-ID: <0e_yUTTdaV57Dxzome846NEUsmp2MmrY19-7OWHGyNw0g5IKwkfTR3jN4xLLYNgy_PMya1BkutZLmfZEdsYyARFHM3zp5qZ_eH1DvefS8uw=@protonmail.com>

Good morning Prayank,

>  But it will involve lot of exception handling.


Yes, that is precisely the problem here.

If you select a fixed feerate and then just broadcast-and-forget, you have no real exceptions you have to handle --- but that means not using RBF at all.


Testing the handling of reorgs in particular is important, as a reorg might use an older version of an RBFed transaction rather than a newer version.
This also implies that further follow-up transactions might need to be recreated in such a case.

As this is financial code, we need a lot of testing, and code that has a lot of branches due to having to handle a lot of possible exceptions and so forth is a headache to completely cover in testing.


C-lightning supposedly supports RBF, in the sense that every transaction it makes always signals RBF, but I am almost certain there are edge cases where it might mishandle a replaced transaction and lose track of onchain funds, and it is difficult to support both "we can spend unconfirmed change outputs" (a very common feature of nearly every onchain wallet) with "we can change the feerate of unconfirmed transactions" (which changes the txid and therefore the UTXO id of the change output spent by use of the previous feature).

Regards,
ZmnSCPxj

From mike at powx.org  Tue May 18 10:59:46 2021
From: mike at powx.org (mike at powx.org)
Date: Tue, 18 May 2021 06:59:46 -0400
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <CAB0O3SUm0JJ7rdQZNuH+6AKhC3SiXSsoBAoGpLZS7YJawWBS3Q@mail.gmail.com>
References: <CAB0O3SUm0JJ7rdQZNuH+6AKhC3SiXSsoBAoGpLZS7YJawWBS3Q@mail.gmail.com>
Message-ID: <B3B200B0-73BE-46BC-A462-4A255486E6DC@powx.org>

Devrandom is correct to point out that there is nuance to these things and it?s better to look at the details rather than proclaiming that PoW is PoW. (I do agree though w the original point that other ideas often turn out to reduce to PoW despite their convoluted architecture)

A note on the key difference between hardware and energy as it relates to centralization:

Hardware is easily transferable. If you have low electricity costs, Bitcoin ASICS need to be physically located in proximity to use it. You can?t sell your low power costs on an open liquid market (you can sell your hash rate but that still requires all the miners next to the power plant). Hardware can be sold online freely to anyone anywhere in the world.

If a small number of foundries are producing low energy opow hardware (just as there are a small number producing SHA256 ASICS- in fact it would be the same set foundries, somewhat expanded because optical chips use larger, older nodes... for example Global Foundries has a great photonics process at 90nm), they can (and will) still sell the hardware to people all over the world. 

There is a huge latent demand for BTC mining. Many people currently buying alt coins or even BTC would prefer to invest in mining if they could turn a profit despite their high energy cost.

Another clear benefit would be the difficulty of detecting and controlling low energy mining relative to the ASIC-warehouse-next-to-waterfall model used today. You can?t move a waterfall if the local government decides to regulate you.

Just some thoughts. 



Sent from my iPhone

> On May 18, 2021, at 5:18 AM, Devrandom <c1.bitcoin at niftybox.net> wrote:
> 
> ?
> On Mon, May 17, 2021 at 11:47 PM ZmnSCPxj:
>> 
>> When considering any new proof-of-foo, it is best to consider all effects until you reach the base physics of the arrow of time, at which point you will realize it is ultimately just another proof-of-work anyway.
> 
> Let's not simplify away economic considerations, such as externalities.  The whole debate about the current PoW is about negative externalities related to energy production.
> 
> Depending on the details, CAPEX (R&D, real-estate, construction, production) may have less externalities, and if that's the case, we should be interested in adopting a PoW that is intensive in these types of CAPEX.
> 
> On Mon, May 17, 2021 at 2:20 PM Keagan McClelland wrote:
> 
>> First it just pushes the energy consumption upstream to the chip manufacturing process, rather than eliminating it. And it may trade some marginal amount of the energy consumption for the set of resources it takes to educate and create chip manufacturers. The only way to avoid that cost being funneled back into more energy consumption [...]
> 
> I challenge you to substantiate these assertions.  Real-estate and human cognitive work are not energy intensive and are a major factor in the expected costs of some alternative PoWs.  The expected mining effort is such that the cost will reach the expected reward, no more, so there is every reason to believe that energy consumption will be small compared to the current PoW.
> 
> Therefore, the total associated negative externalities for the alternative PoWs may well be much lower than the externalities of energy production.  This needs detailed analysis, not a knee-jerk reaction.
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/35df2a71/attachment-0001.html>

From mike at powx.org  Tue May 18 11:05:44 2021
From: mike at powx.org (mike at powx.org)
Date: Tue, 18 May 2021 07:05:44 -0400
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <WVZvU2OA12RoqS180g1B2ULVCACwaKtdF-75OWKcydI9NUxbaGefYjKAwUklzEef1bIWHghZIotDhCQuxIG5KBX14BmDCEz0wKbNJAkG-ak=@protonmail.com>
References: <WVZvU2OA12RoqS180g1B2ULVCACwaKtdF-75OWKcydI9NUxbaGefYjKAwUklzEef1bIWHghZIotDhCQuxIG5KBX14BmDCEz0wKbNJAkG-ak=@protonmail.com>
Message-ID: <CA4E1F20-B266-4E77-96FF-39329C4D825D@powx.org>

That?s a fair point about patents. However, note that we were careful about this. oPoW only uses SHA3 (can be replaced with SHA256 in principle as well) and low precision linear matrix multiplication.  A whole industry is trying to accelerate 8-bit linear matrix mults for AI so there is already a massive incentive (and has been for decades). 

See companies like Mythic, Groq, Tesla (FSD computer), google TPU and so on for electronic versions of this. Several of the optical ones are mentioned in the BIP (e.g. Lightmatter)

Sent from my iPhone

> On May 18, 2021, at 6:59 AM, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
> 
> ?Good morning devrandom,
> 
>> On Mon, May 17, 2021 at 11:47 PM ZmnSCPxj:
>> 
>>> When considering any new proof-of-foo, it is best to consider all effects until you reach the base physics of the arrow of time, at which point you will realize it is ultimately just another proof-of-work anyway.
>> 
>> Let's not simplify away economic considerations, such as externalities.  The whole debate about the current PoW is about negative externalities related to energy production.
>> 
>> Depending on the details, CAPEX (R&D, real-estate, construction, production) may have less externalities, and if that's the case, we should be interested in adopting a PoW that is intensive in these types of CAPEX.
> 
> Then let us also not forget another important externality: possible optimizations of a new PoW algorithm that risk being put into some kind of exclusive patent.
> 
> I think with high probability that SHA256d as used by Bitcoin will no longer have an optimization as large in effect as ASICBOOST in the future, simply because there is a huge incentive to find such optimizations and Bitcoin has been using SHA256d for 12 years already, and we have already found ASICBOOST (and while patented, as I understand it the patent owner has promised not to enforce the patent --- my understanding may be wrong).
> 
> Any alternative PoW algorithm risks an ASICBOOST-like optimization that is currently unknown, but which will be discovered (and possibly patented by an owner that *will* enforce the patent, thus putting the entire ecosystem at direct conflict with legacy government structures) once there is a good incentive (i.e. use in Bitcoin) for it.
> 
> Regards,
> ZmnSCPxj

From mike at powx.org  Tue May 18 11:43:18 2021
From: mike at powx.org (mike at powx.org)
Date: Tue, 18 May 2021 07:43:18 -0400
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <U-U9RmD3wRndUuQkzjsqm5X8BNnGKcxiIJs-fWbPMiGNaiSlENL4Yn4Ui8vUseIMse_rzgzBmV6EfkdROHEuPbA9vgf7Fkq39Hr9cs-zZbs=@protonmail.com>
References: <U-U9RmD3wRndUuQkzjsqm5X8BNnGKcxiIJs-fWbPMiGNaiSlENL4Yn4Ui8vUseIMse_rzgzBmV6EfkdROHEuPbA9vgf7Fkq39Hr9cs-zZbs=@protonmail.com>
Message-ID: <03AA32FD-5AC0-42B0-B6D3-387BDC2B4238@powx.org>

That?s interesting. I didn?t know the history of ASICBOOST.

Our proposal (see Implementation) is to phase in oPoW slowly starting at a very low % of the rewards (say 1%). That should give a long testing period where there is real financial incentive for things like ASICBOOST

Does that resolve or partially resolve the issue in your eyes? 

Sent from my iPhone

> On May 18, 2021, at 7:36 AM, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
> 
> ?Good morning Michael,
> 
>> That?s a fair point about patents. However, note that we were careful about this. oPoW only uses SHA3 (can be replaced with SHA256 in principle as well) and low precision linear matrix multiplication. A whole industry is trying to accelerate 8-bit linear matrix mults for AI so there is already a massive incentive (and has been for decades).
>> 
>> See companies like Mythic, Groq, Tesla (FSD computer), google TPU and so on for electronic versions of this. Several of the optical ones are mentioned in the BIP (e.g. Lightmatter)
> 
> 
> Please note that ASICBOOST for SHA256d is based on a layer-crossing violation: SHA256 processes in blocks, and the Bitcoin block header is slightly larger than one SHA256 block.
> 
> Adding more to a direct SHA3 (which, as a "sponge" construction, avoids blocks, but other layer-crossing violations may still exist) still risks layer violations that might introduce hidden optimizations.
> 
> Or more succinctly;
> 
> * Just because the components have (with high probability) no more possible optimizations, does not mean that the construction *as a whole* has no hidden optimizations.
> 
> Thus, even if linear matrix multiplication and SHA3 have no hidden optimizations, their combination, together with the Bitcoin block header format, *may* have hidden optimizations.
> 
> And there are no *current* incentives to find such optimizations until Bitcoin moves to this, at which point we are already committed and it would be highly infeasible to revert to SHA256d --- i.e. too late.
> 
> This is why changes to PoW are highly discouraged.
> 
> 
> Remember, ASICBOOST was *not* an optimization of SHA256 *or* SHA256d, it was an optimizations of SHA256d-on-a-Bitcoin-block-header.
> ASICBOOST cannot speed up general SHA256 or even general SHA256d, it only applies specifically to SHA256d-on-a-Bitcoin-block-header.
> 
> Regards,
> ZmnSCPxj

From mike at powx.org  Tue May 18 12:17:46 2021
From: mike at powx.org (mike at powx.org)
Date: Tue, 18 May 2021 08:17:46 -0400
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <vTGmO3qpvd7XawxARg2vvWmeP2LOCLAIBgMRWmNNmf7mok0DRhIes5JsBnooflSNk4DX2vQCuOB7hBmSjcUT_RvtF6l8gJ9Tt69TWEeowmg=@protonmail.com>
References: <vTGmO3qpvd7XawxARg2vvWmeP2LOCLAIBgMRWmNNmf7mok0DRhIes5JsBnooflSNk4DX2vQCuOB7hBmSjcUT_RvtF6l8gJ9Tt69TWEeowmg=@protonmail.com>
Message-ID: <864F983C-841D-4334-94F4-5A9F7D617B70@powx.org>

Nothing in a dynamic system like PoW mining can be 100% anticipated, for example there might be advanced in manufacturing of chips which are patented and so on. 

It sounds like your take is that this means no improvements can ever be made by any mechanism, however conservative.

We do go into a fair amount of detail about Minimum Effective Hardness in our paper https://assets.pubpub.org/xi9h9rps/01581688887859.pdf , which is actually a special case of hardness that we invented for the context of adding an operation to a PoW, and how it applies to random matrix mults.   

Sent from my iPhone

> On May 18, 2021, at 7:58 AM, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
> 
> ?Good morning Michael,
> 
>> That?s interesting. I didn?t know the history of ASICBOOST.
> 
> History is immaterial, what is important is the technical description of ASICBOOST.
> Basically, by fixing the partial computation of the second block of SHA256, we could selectively vary bits in the first block of SHA256, while reusing the computation of the second block.
> This allows a grinder to grind more candidate blocks without recomputing the second block output, reducing the needed power consumption for the same number of hashes attempted.
> 
> Here is an important writeup: https://www.mit.edu/~jlrubin/public/pdfs/Asicboost.pdf
> It should really be required reading for anyone who dreams of changing PoW algorithms to read and understand this document.
> 
> There may be similar layer-crossings in any combined construction --- or even just a simple hash function --- when it is applied to a specific Bitcoin block format.
> 
>> 
>> Our proposal (see Implementation) is to phase in oPoW slowly starting at a very low % of the rewards (say 1%). That should give a long testing period where there is real financial incentive for things like ASICBOOST
>> 
>> Does that resolve or partially resolve the issue in your eyes?
> 
> It does mitigate this somewhat.
> 
> However, such a mechanism is an additional complication and there may be further layer-crossing violations possible --- there may be an optimization to have a circuit that occasionally uses SHA256d and occasionally uses oPoW, that is not possible with a pure SHA256d or pure oPoW circuit.
> So this mitigation is not as strong as it might appear at first glance; additional layers means additional possibility of layer-crossing violations like ASICBOOST.
> 
> 
> 
> 
> Regards,
> ZmnSCPxj
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/d8b1d62e/attachment-0001.html>

From aubergemediale at gmail.com  Tue May 18 12:46:39 2021
From: aubergemediale at gmail.com (Claus Ehrenberg)
Date: Tue, 18 May 2021 14:46:39 +0200
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <ZFVpoVGcwTTpDDlAXLn8cCwic0l40b3DmE_UoKIv4IvmFDDX9W2F1sRHYwido1X7OK0fX1QAx5J8I5DokM4pcIKziNAgAwc6emrHulfbRE8=@protonmail.com>
References: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>
 <CALeFGL3U2yb2WVz4rwcBqO25kd0B7NcgrN4iMjDyackrTTegpw@mail.gmail.com>
 <ZFVpoVGcwTTpDDlAXLn8cCwic0l40b3DmE_UoKIv4IvmFDDX9W2F1sRHYwido1X7OK0fX1QAx5J8I5DokM4pcIKziNAgAwc6emrHulfbRE8=@protonmail.com>
Message-ID: <CANPykMoM4+3svpUNQBwa8xrsKnEv48FVT1fu0+wpnTB4PXkg4g@mail.gmail.com>

> Ultimately all currency security derives from energy consumption.
> Everything eventually resolves down to proof-of-work.
This is ideology. Yes, without energy and work, not many things happen. But
the amounts of energy and work to achieve a goal vary widely. Detailed
analysis comparing one alternative with the other in depth  is required.
And I would not look for order-of-magnitude improvements, 25% better is
also a big deal, if discovered.

> * Proof-of-space simply moves the work to the construction of more
storage devices.
One needs a cost/benefit analysis, not just an account of the cost. For
example, if PoW could do calculations that are otherwise useful (maybe
solve a queue of standardized math-jobs, such as climate simulations) there
would be more benefit, or, let's say the data storage in proof-of-space is
useful.

> * Proof-of-stake simply moves the work to stake-grinding attacks.
Simply not true, there are PoS implementations that are immune to
stake-grinding attacks, and even where not, the possible amount of
computations is limited compared to PoW

> * The optical proof-of-work simply moves the work to the construction of
more miners.
The idea was to shift from energy to cap-ex. We can get a financial penalty
for misbehavior from three sources:
- cost of energy/labor (PoW)
- cost of capital (PoS)
- cost of cap-ex
There might be a better mix than PoW only. I have written code for mixed
PoW/PoS systems and it works. Adding more cap-ex to the mix can make sense,
but the environmental impact needs to be analyzed, it could also make it
worse than just the use of electricity. At least electricity as such does
not leave waste behind. Mining in orbit with solar power would be totally
acceptable.

> At least, proof-of-work is honest about its consumption of resources.
Agreed, but we can't be satisfied with that. If we try hard enough we can
do better.

Cheers
Claus

On Tue, May 18, 2021 at 8:47 AM ZmnSCPxj via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

>
> > A few things jump out at me as I read this proposal
> >
> > First, deriving the hardness from capex as opposed to opex switches the
> privilege from those who have cheap electricity to those who have access to
> chip manufacturers/foundries. While this is similarly the case for Bitcoin
> ASICS today, the longevity of the PoW algorithm has led to a better
> distribution of knowledge and capital goods required to create ASICS. The
> creation of a new PoW of any kind, hurts this dimension of decentralization
> as we would have to start over from scratch on the best way to build,
> distribute, and operate these new pieces of hardware at scale. While I have
> not combed over the PoW proposed here in fine detail, the more complicated
> the algorithm is, the more it privileges those with specific knowledge
> about it and the manufacturing process.
> >
> > The competitive nature of Bitcoin mining is such that miners will be
> willing to spend up to their expected mining reward in their operating
> costs to continue to mine. Let's suppose that this new PoW was adopted,
> miners will continue to buy these chips in ever increasing quantities,
> turning the aforementioned CAPEX into a de facto OPEX. This has a few
> consequences. First it just pushes the energy consumption upstream to the
> chip manufacturing process, rather than eliminating it. And it may trade
> some marginal amount of the energy consumption for the set of resources it
> takes to educate and create chip manufacturers. The only way to avoid that
> cost being funneled back into more energy consumption is to make the
> barrier to understanding of the manufacturing process sufficiently
> difficult so as to limit the proliferation of these chips. Again, this
> privileges the chip manufacturers as well as those with close access to the
> chip manufacturers.
> >
> > As far as I can tell, the only thing this proposal actually does is
> create a very lucrative business model for those who sell this variety of
> chips. Any other effects of it are transient, and in all likelihood the
> transient effects create serious centralization pressure.
> >
> > At the end of the day, the energy consumption is foundational to the
> system. The only way to do away with authorities, is to require
> competition. This competition will employ ever more resources until it is
> unprofitable to do so. At the base of all resources of society is energy.
> You get high energy expenditure, or a privileged class of bitcoin
> administrators: pick one. I suspect you'll find the vast majority of
> Bitcoin users to be in the camp of the energy expenditure, since if we pick
> the latter, we might as well just pack it in and give up on the Bitcoin
> experiment.
>
>
> Keagan is quite correct.
> Ultimately all currency security derives from energy consumption.
> Everything eventually resolves down to proof-of-work.
>
> * Proof-of-space simply moves the work to the construction of more storage
> devices.
> * Proof-of-stake simply moves the work to stake-grinding attacks.
> * The optical proof-of-work simply moves the work to the construction of
> more miners.
> * Even government-enforced fiat is ultimately proof-of-work, as the
> operation and continued existence of any government is work.
>
> It is far better to move towards a more *direct* proof-of-work, than to
> add more complexity and come up with something that is just proof-of-work,
> but with the work moved off to somewhere else and with additional moving
> parts that can be jammed or hacked into.
>
> When considering any new proof-of-foo, it is best to consider all effects
> until you reach the base physics of the arrow of time, at which point you
> will realize it is ultimately just another proof-of-work anyway.
>
> At least, proof-of-work is honest about its consumption of resources.
>
>
> Regards,
> ZmnSCPxj
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/623830ce/attachment-0001.html>

From zachgrw at gmail.com  Tue May 18 14:02:18 2021
From: zachgrw at gmail.com (Zac Greenwood)
Date: Tue, 18 May 2021 16:02:18 +0200
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
Message-ID: <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>

Hi ZmnSCPxj,

Please note that I am not suggesting VDFs as a means to save energy, but
solely as a means to make the time between blocks more constant.

Zac


On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:

> Good morning Zac,
>
> > VDFs might enable more constant block times, for instance by having a
> two-step PoW:
> >
> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to
> difficulty adjustments similar to the as-is). As per the property of VDFs,
> miners are able show proof of work.
> >
> > 2. Use current PoW mechanism with lower difficulty so finding a block
> takes 1 minute on average, again subject to as-is difficulty adjustments.
> >
> > As a result, variation in block times will be greatly reduced.
>
> As I understand it, another weakness of VDFs is that they are not
> inherently progress-free (their sequential nature prevents that; they are
> inherently progress-requiring).
>
> Thus, a miner which focuses on improving the amount of energy that it can
> pump into the VDF circuitry (by overclocking and freezing the circuitry),
> could potentially get into a winner-takes-all situation, possibly leading
> to even *worse* competition and even *more* energy consumption.
> After all, if you can start mining 0.1s faster than the competition, that
> is a 0.1s advantage where *only you* can mine *in the entire world*.
>
> Regards,
> ZmnSCPxj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/abd8b876/attachment.html>

From keagan.mcclelland at gmail.com  Tue May 18 16:47:29 2021
From: keagan.mcclelland at gmail.com (Keagan McClelland)
Date: Tue, 18 May 2021 10:47:29 -0600
Subject: [bitcoin-dev] Proposal: Low Energy Bitcoin PoW
In-Reply-To: <CANPykMoM4+3svpUNQBwa8xrsKnEv48FVT1fu0+wpnTB4PXkg4g@mail.gmail.com>
References: <CAGFmrSac+Ej1a6da8GcPK1pB_kgowtQk5roaDCVsL9t1zgwEFA@mail.gmail.com>
 <CALeFGL3U2yb2WVz4rwcBqO25kd0B7NcgrN4iMjDyackrTTegpw@mail.gmail.com>
 <ZFVpoVGcwTTpDDlAXLn8cCwic0l40b3DmE_UoKIv4IvmFDDX9W2F1sRHYwido1X7OK0fX1QAx5J8I5DokM4pcIKziNAgAwc6emrHulfbRE8=@protonmail.com>
 <CANPykMoM4+3svpUNQBwa8xrsKnEv48FVT1fu0+wpnTB4PXkg4g@mail.gmail.com>
Message-ID: <CALeFGL3SJw94DOgOHjwTSM+6Vc74tTuCHFu1QjDM+FjYSGxGNA@mail.gmail.com>

>One needs a cost/benefit analysis, not just an account of the cost. For
example, if PoW could do calculations that are otherwise useful (maybe
solve a queue of standardized math-jobs, such as climate simulations) there
would be more benefit, or, let's say the data storage in proof-of-space is
useful.

Any discussion on whether Proof of Work is suitable for the task needs to
recognize that the "waste" is what creates the security. If you manage to
make the proof of work useful for tasks external to the protocol, you
reintroduce the "nothing at stake" problem in a roundabout way. Useful
computation is something people will pay for. If they pay for it, miners
can be compensated in such a way that choosing to mine one of the
Not-The-Heaviest-Chain's becomes costless. This erodes the security of the
network substantially. It is not a matter of coming up with the "right"
kind of useful computation that is not subject to these problems. These
problems are a natural consequence of it being useful outside the protocol
*at all*.

Keagan

On Tue, May 18, 2021 at 8:24 AM Claus Ehrenberg via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> > Ultimately all currency security derives from energy consumption.
> > Everything eventually resolves down to proof-of-work.
> This is ideology. Yes, without energy and work, not many things happen.
> But the amounts of energy and work to achieve a goal vary widely. Detailed
> analysis comparing one alternative with the other in depth  is required.
> And I would not look for order-of-magnitude improvements, 25% better is
> also a big deal, if discovered.
>
> > * Proof-of-space simply moves the work to the construction of more
> storage devices.
> One needs a cost/benefit analysis, not just an account of the cost. For
> example, if PoW could do calculations that are otherwise useful (maybe
> solve a queue of standardized math-jobs, such as climate simulations) there
> would be more benefit, or, let's say the data storage in proof-of-space is
> useful.
>
> > * Proof-of-stake simply moves the work to stake-grinding attacks.
> Simply not true, there are PoS implementations that are immune to
> stake-grinding attacks, and even where not, the possible amount of
> computations is limited compared to PoW
>
> > * The optical proof-of-work simply moves the work to the construction of
> more miners.
> The idea was to shift from energy to cap-ex. We can get a
> financial penalty for misbehavior from three sources:
> - cost of energy/labor (PoW)
> - cost of capital (PoS)
> - cost of cap-ex
> There might be a better mix than PoW only. I have written code for mixed
> PoW/PoS systems and it works. Adding more cap-ex to the mix can make sense,
> but the environmental impact needs to be analyzed, it could also make it
> worse than just the use of electricity. At least electricity as such does
> not leave waste behind. Mining in orbit with solar power would be totally
> acceptable.
>
> > At least, proof-of-work is honest about its consumption of resources.
> Agreed, but we can't be satisfied with that. If we try hard enough we can
> do better.
>
> Cheers
> Claus
>
> On Tue, May 18, 2021 at 8:47 AM ZmnSCPxj via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>>
>> > A few things jump out at me as I read this proposal
>> >
>> > First, deriving the hardness from capex as opposed to opex switches the
>> privilege from those who have cheap electricity to those who have access to
>> chip manufacturers/foundries. While this is similarly the case for Bitcoin
>> ASICS today, the longevity of the PoW algorithm has led to a better
>> distribution of knowledge and capital goods required to create ASICS. The
>> creation of a new PoW of any kind, hurts this dimension of decentralization
>> as we would have to start over from scratch on the best way to build,
>> distribute, and operate these new pieces of hardware at scale. While I have
>> not combed over the PoW proposed here in fine detail, the more complicated
>> the algorithm is, the more it privileges those with specific knowledge
>> about it and the manufacturing process.
>> >
>> > The competitive nature of Bitcoin mining is such that miners will be
>> willing to spend up to their expected mining reward in their operating
>> costs to continue to mine. Let's suppose that this new PoW was adopted,
>> miners will continue to buy these chips in ever increasing quantities,
>> turning the aforementioned CAPEX into a de facto OPEX. This has a few
>> consequences. First it just pushes the energy consumption upstream to the
>> chip manufacturing process, rather than eliminating it. And it may trade
>> some marginal amount of the energy consumption for the set of resources it
>> takes to educate and create chip manufacturers. The only way to avoid that
>> cost being funneled back into more energy consumption is to make the
>> barrier to understanding of the manufacturing process sufficiently
>> difficult so as to limit the proliferation of these chips. Again, this
>> privileges the chip manufacturers as well as those with close access to the
>> chip manufacturers.
>> >
>> > As far as I can tell, the only thing this proposal actually does is
>> create a very lucrative business model for those who sell this variety of
>> chips. Any other effects of it are transient, and in all likelihood the
>> transient effects create serious centralization pressure.
>> >
>> > At the end of the day, the energy consumption is foundational to the
>> system. The only way to do away with authorities, is to require
>> competition. This competition will employ ever more resources until it is
>> unprofitable to do so. At the base of all resources of society is energy.
>> You get high energy expenditure, or a privileged class of bitcoin
>> administrators: pick one. I suspect you'll find the vast majority of
>> Bitcoin users to be in the camp of the energy expenditure, since if we pick
>> the latter, we might as well just pack it in and give up on the Bitcoin
>> experiment.
>>
>>
>> Keagan is quite correct.
>> Ultimately all currency security derives from energy consumption.
>> Everything eventually resolves down to proof-of-work.
>>
>> * Proof-of-space simply moves the work to the construction of more
>> storage devices.
>> * Proof-of-stake simply moves the work to stake-grinding attacks.
>> * The optical proof-of-work simply moves the work to the construction of
>> more miners.
>> * Even government-enforced fiat is ultimately proof-of-work, as the
>> operation and continued existence of any government is work.
>>
>> It is far better to move towards a more *direct* proof-of-work, than to
>> add more complexity and come up with something that is just proof-of-work,
>> but with the work moved off to somewhere else and with additional moving
>> parts that can be jammed or hacked into.
>>
>> When considering any new proof-of-foo, it is best to consider all effects
>> until you reach the base physics of the arrow of time, at which point you
>> will realize it is ultimately just another proof-of-work anyway.
>>
>> At least, proof-of-work is honest about its consumption of resources.
>>
>>
>> Regards,
>> ZmnSCPxj
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210518/8db39423/attachment-0001.html>

From erik at q32.com  Tue May 18 18:52:51 2021
From: erik at q32.com (Erik Aronesty)
Date: Tue, 18 May 2021 14:52:51 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
Message-ID: <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>

1. i never suggested vdf's to replace pow.

2. my suggestion was specifically *in the context of* a working
proof-of-burn protocol

- vdfs used only for timing (not block height)
- blind-burned coins of a specific age used to replace proof of work
- the required "work" per block would simply be a competition to
acquire rewards, and so miners would have to burn coins, well in
advance, and hope that their burned coins got rewarded in some far
future
- the point of burned coins is to mimic, in every meaningful way, the
value gained from proof of work... without some of the security
drawbacks
- the miner risks losing all of his burned coins (like all miners risk
losing their work in each block)
- new burns can't be used
- old burns age out (like ASICs do)
- other requirements on burns might be needed to properly mirror the
properties of PoW and the incentives Bitcoin uses to mine honestly.

3. i do believe it is *possible* that a "burned coin + vdf system"
might be more secure in the long run, and that if the entire space
agreed that such an endeavor was worthwhile, a test net could be spun
up, and a hard-fork could be initiated.

4. i would never suggest such a thing unless i believed it was
possible that consensus was possible.  so no, this is not an "alt
coin"

On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>
> Hi ZmnSCPxj,
>
> Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>
> Zac
>
>
> On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>
>> Good morning Zac,
>>
>> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>> >
>> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>> >
>> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>> >
>> > As a result, variation in block times will be greatly reduced.
>>
>> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>
>> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>
>> Regards,
>> ZmnSCPxj

From mike at powx.org  Wed May 19 14:07:53 2021
From: mike at powx.org (Michael Dubrovsky)
Date: Wed, 19 May 2021 10:07:53 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
Message-ID: <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>

Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself.
PoS, VDFs, and so on are interesting but I guess there are other threads
going on these topics already where they would be relevant.

Also, it's important to distinguish between oPoW and these other
"alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
the core game theory or security assumptions of Hashcash and actually
contains SHA (can be SHA3, SHA256, etc hash is interchangeable).

Cheers,
Mike

On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> 1. i never suggested vdf's to replace pow.
>
> 2. my suggestion was specifically *in the context of* a working
> proof-of-burn protocol
>
> - vdfs used only for timing (not block height)
> - blind-burned coins of a specific age used to replace proof of work
> - the required "work" per block would simply be a competition to
> acquire rewards, and so miners would have to burn coins, well in
> advance, and hope that their burned coins got rewarded in some far
> future
> - the point of burned coins is to mimic, in every meaningful way, the
> value gained from proof of work... without some of the security
> drawbacks
> - the miner risks losing all of his burned coins (like all miners risk
> losing their work in each block)
> - new burns can't be used
> - old burns age out (like ASICs do)
> - other requirements on burns might be needed to properly mirror the
> properties of PoW and the incentives Bitcoin uses to mine honestly.
>
> 3. i do believe it is *possible* that a "burned coin + vdf system"
> might be more secure in the long run, and that if the entire space
> agreed that such an endeavor was worthwhile, a test net could be spun
> up, and a hard-fork could be initiated.
>
> 4. i would never suggest such a thing unless i believed it was
> possible that consensus was possible.  so no, this is not an "alt
> coin"
>
> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
> >
> > Hi ZmnSCPxj,
> >
> > Please note that I am not suggesting VDFs as a means to save energy, but
> solely as a means to make the time between blocks more constant.
> >
> > Zac
> >
> >
> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
> >>
> >> Good morning Zac,
> >>
> >> > VDFs might enable more constant block times, for instance by having a
> two-step PoW:
> >> >
> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject
> to difficulty adjustments similar to the as-is). As per the property of
> VDFs, miners are able show proof of work.
> >> >
> >> > 2. Use current PoW mechanism with lower difficulty so finding a block
> takes 1 minute on average, again subject to as-is difficulty adjustments.
> >> >
> >> > As a result, variation in block times will be greatly reduced.
> >>
> >> As I understand it, another weakness of VDFs is that they are not
> inherently progress-free (their sequential nature prevents that; they are
> inherently progress-requiring).
> >>
> >> Thus, a miner which focuses on improving the amount of energy that it
> can pump into the VDF circuitry (by overclocking and freezing the
> circuitry), could potentially get into a winner-takes-all situation,
> possibly leading to even *worse* competition and even *more* energy
> consumption.
> >> After all, if you can start mining 0.1s faster than the competition,
> that is a 0.1s advantage where *only you* can mine *in the entire world*.
> >>
> >> Regards,
> >> ZmnSCPxj
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>


-- 
Michael Dubrovsky
Founder; PoWx
www.PoWx.org <http://www.powx.org/>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210519/1da2c85a/attachment.html>

From mike at powx.org  Wed May 19 15:30:36 2021
From: mike at powx.org (Michael Dubrovsky)
Date: Wed, 19 May 2021 11:30:36 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
Message-ID: <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>

Ah sorry, I didn't realize this was, in fact, a different thread! :)

On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:

> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself.
> PoS, VDFs, and so on are interesting but I guess there are other threads
> going on these topics already where they would be relevant.
>
> Also, it's important to distinguish between oPoW and these other
> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
> the core game theory or security assumptions of Hashcash and actually
> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>
> Cheers,
> Mike
>
> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> 1. i never suggested vdf's to replace pow.
>>
>> 2. my suggestion was specifically *in the context of* a working
>> proof-of-burn protocol
>>
>> - vdfs used only for timing (not block height)
>> - blind-burned coins of a specific age used to replace proof of work
>> - the required "work" per block would simply be a competition to
>> acquire rewards, and so miners would have to burn coins, well in
>> advance, and hope that their burned coins got rewarded in some far
>> future
>> - the point of burned coins is to mimic, in every meaningful way, the
>> value gained from proof of work... without some of the security
>> drawbacks
>> - the miner risks losing all of his burned coins (like all miners risk
>> losing their work in each block)
>> - new burns can't be used
>> - old burns age out (like ASICs do)
>> - other requirements on burns might be needed to properly mirror the
>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>
>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>> might be more secure in the long run, and that if the entire space
>> agreed that such an endeavor was worthwhile, a test net could be spun
>> up, and a hard-fork could be initiated.
>>
>> 4. i would never suggest such a thing unless i believed it was
>> possible that consensus was possible.  so no, this is not an "alt
>> coin"
>>
>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>> >
>> > Hi ZmnSCPxj,
>> >
>> > Please note that I am not suggesting VDFs as a means to save energy,
>> but solely as a means to make the time between blocks more constant.
>> >
>> > Zac
>> >
>> >
>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>> >>
>> >> Good morning Zac,
>> >>
>> >> > VDFs might enable more constant block times, for instance by having
>> a two-step PoW:
>> >> >
>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject
>> to difficulty adjustments similar to the as-is). As per the property of
>> VDFs, miners are able show proof of work.
>> >> >
>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
>> block takes 1 minute on average, again subject to as-is difficulty
>> adjustments.
>> >> >
>> >> > As a result, variation in block times will be greatly reduced.
>> >>
>> >> As I understand it, another weakness of VDFs is that they are not
>> inherently progress-free (their sequential nature prevents that; they are
>> inherently progress-requiring).
>> >>
>> >> Thus, a miner which focuses on improving the amount of energy that it
>> can pump into the VDF circuitry (by overclocking and freezing the
>> circuitry), could potentially get into a winner-takes-all situation,
>> possibly leading to even *worse* competition and even *more* energy
>> consumption.
>> >> After all, if you can start mining 0.1s faster than the competition,
>> that is a 0.1s advantage where *only you* can mine *in the entire world*.
>> >>
>> >> Regards,
>> >> ZmnSCPxj
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
>
> --
> Michael Dubrovsky
> Founder; PoWx
> www.PoWx.org <http://www.powx.org/>
>


-- 
Michael Dubrovsky
Founder; PoWx
www.PoWx.org <http://www.powx.org/>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210519/c650edcc/attachment.html>

From billy.tetrud at gmail.com  Fri May 21 00:04:11 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Thu, 20 May 2021 14:04:11 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
Message-ID: <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>

I think there is a lot of misinformation and bias against Proof of Stake.
Yes there have been lots of shady coins that use insecure PoS mechanisms.
Yes there have been massive issues with distribution of PoS coins (of
course there have also been massive issues with PoW coins as well).
However, I want to remind everyone that there is a difference between
"proved to be impossible" and "have not achieved recognized success yet".
Most of the arguments levied against PoS are out of date or rely on
unproven assumptions or extrapolation from the analysis of a particular PoS
system. I certainly don't think we should experiment with bitcoin by
switching to PoS, but from my research, it seems very likely that there is
a proof of stake consensus protocol we could build that has substantially
higher security (cost / capital required to execute an attack) while at the
same time costing far less resources (which do translate to fees on the
network) *without* compromising any of the critical security properties
bitcoin relies on. I think the critical piece of this is the disagreements
around hardcoded checkpoints, which is a critical piece solving attacks
that could be levied on a PoS chain, and how that does (or doesn't) affect
the security model.

@Eric Your proof of stake fallacy seems to be saying that PoS is worse when
a 51% attack happens. While I agree, I think that line of thinking omits
important facts:
* The capital required to 51% attack a PoS chain can be made substantially
greater than on a PoS chain.
* The capital the attacker stands to lose can be substantially greater as
well if the attack is successful.
* The effectiveness of paying miners to raise the honest fraction of miners
above 50% may be quite bad.
* Allowing a 51% attack is already unacceptable. It should be considered
whether what happens in the case of a 51% may not be significantly
different. The currency would likely be critically damaged in a 51% attack
regardless of consensus mechanism.

> Proof-of-stake tends towards oligopolistic control

People repeat this often, but the facts support this. There is no
centralization pressure in any proof of stake mechanism that I'm aware of.
IE if you have 10 times as much coin that you use to mint blocks, you
should expect to earn 10x as much minting revenue - not more than 10x. By
contrast, proof of work does in fact have clear centralization pressure -
this is not disputed. Our goal in relation to that is to ensure that the
centralization pressure remains insignifiant. Proof of work also clearly
has a lot more barriers to entry than any proof of stake system does. Both
of these mean the tendency towards oligopolistic control is worse for PoW.

> Energy usage, in-and-of-itself, is nothing to be ashamed of!!

I certainly agree. Bitcoin's energy usage at the moment is I think quite
warranted. However, the question is: can we do substantially better. I
think if we can, we probably should... eventually.

> Proof of Stake is only resilient to ? of the network demonstrating a
Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold

I see no mention of this in the pos.pdf
<https://download.wpsoftware.net/bitcoin/pos.pdf> you linked to. I'm not
aware of any proof that *all *PoS systems have a failure threshold of 1/3.
I know that staking systems like Casper do in fact have that 1/3
requirement. However there are PoS designs that should exceed that up to
nearly 50% as far as I'm aware. Proof of work is not in fact resilient up
to the 1/2 threshold in the way you would think. IE, if 100% of miners are
currently honest and have a collective 100 exahashes/s hashpower, an
attacker does not need to obtain 100 exahashes/s, but actually only needs
to accumulate 50 exahashes/s. This is because as the attacker accumulates
hashpower, it drives honest miners out of the market as the difficulty
increases to beyond what is economically sustainable. Also, its been shown
that the best proof of work can do is require an attacker to obtain 33% of
the hashpower because of the selfish mining attack
<https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack>
discussed
in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of
these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).

 > Proof of Stake requires other trade-offs which are incompatible with
Bitcoin's objective (to be a trustless digital cash) ? specifically the
famous "security vs. liveness" guarantee

Do you have a good source that talks about why you think proof of stake
cannot be used for a trustless digital cash?

> You cannot gain tokens without someone choosing to give up those coins -
a form of permission.

This is not a practical constraint. Just like in mining, some nodes may
reject you, but there will likely be more that will accept you, some
sellers may reject you, but most would accept your money as payment for
bitcoins. I don't think requiring the "permission" of one of millions of
people in the market can be reasonably considered a "permissioned
currency".

> 2. Proof of stake must have a trusted means of timestamping to regulate
overproduction of blocks

Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to
double their clock speeds. Both systems rely on an honest majority sticking
to standard time.


On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>
> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>
>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself.
>> PoS, VDFs, and so on are interesting but I guess there are other threads
>> going on these topics already where they would be relevant.
>>
>> Also, it's important to distinguish between oPoW and these other
>> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
>> the core game theory or security assumptions of Hashcash and actually
>> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>
>> Cheers,
>> Mike
>>
>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>>> 1. i never suggested vdf's to replace pow.
>>>
>>> 2. my suggestion was specifically *in the context of* a working
>>> proof-of-burn protocol
>>>
>>> - vdfs used only for timing (not block height)
>>> - blind-burned coins of a specific age used to replace proof of work
>>> - the required "work" per block would simply be a competition to
>>> acquire rewards, and so miners would have to burn coins, well in
>>> advance, and hope that their burned coins got rewarded in some far
>>> future
>>> - the point of burned coins is to mimic, in every meaningful way, the
>>> value gained from proof of work... without some of the security
>>> drawbacks
>>> - the miner risks losing all of his burned coins (like all miners risk
>>> losing their work in each block)
>>> - new burns can't be used
>>> - old burns age out (like ASICs do)
>>> - other requirements on burns might be needed to properly mirror the
>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>
>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>> might be more secure in the long run, and that if the entire space
>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>> up, and a hard-fork could be initiated.
>>>
>>> 4. i would never suggest such a thing unless i believed it was
>>> possible that consensus was possible.  so no, this is not an "alt
>>> coin"
>>>
>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
>>> wrote:
>>> >
>>> > Hi ZmnSCPxj,
>>> >
>>> > Please note that I am not suggesting VDFs as a means to save energy,
>>> but solely as a means to make the time between blocks more constant.
>>> >
>>> > Zac
>>> >
>>> >
>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
>>> wrote:
>>> >>
>>> >> Good morning Zac,
>>> >>
>>> >> > VDFs might enable more constant block times, for instance by having
>>> a two-step PoW:
>>> >> >
>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject
>>> to difficulty adjustments similar to the as-is). As per the property of
>>> VDFs, miners are able show proof of work.
>>> >> >
>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
>>> block takes 1 minute on average, again subject to as-is difficulty
>>> adjustments.
>>> >> >
>>> >> > As a result, variation in block times will be greatly reduced.
>>> >>
>>> >> As I understand it, another weakness of VDFs is that they are not
>>> inherently progress-free (their sequential nature prevents that; they are
>>> inherently progress-requiring).
>>> >>
>>> >> Thus, a miner which focuses on improving the amount of energy that it
>>> can pump into the VDF circuitry (by overclocking and freezing the
>>> circuitry), could potentially get into a winner-takes-all situation,
>>> possibly leading to even *worse* competition and even *more* energy
>>> consumption.
>>> >> After all, if you can start mining 0.1s faster than the competition,
>>> that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>> >>
>>> >> Regards,
>>> >> ZmnSCPxj
>>> _______________________________________________
>>> bitcoin-dev mailing list
>>> bitcoin-dev at lists.linuxfoundation.org
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>>
>>
>> --
>> Michael Dubrovsky
>> Founder; PoWx
>> www.PoWx.org <http://www.powx.org/>
>>
>
>
> --
> Michael Dubrovsky
> Founder; PoWx
> www.PoWx.org <http://www.powx.org/>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210520/fec21169/attachment-0001.html>

From billy.tetrud at gmail.com  Fri May 21 07:56:51 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Thu, 20 May 2021 21:56:51 -1000
Subject: [bitcoin-dev] Additional BIPs related to other proposals
In-Reply-To: <CAK=nyAxZ3ohoO4NSmHSiUh7+MHDCQcSvPBkOL2=G=VLNyzu07A@mail.gmail.com>
References: <CAK=nyAxZ3ohoO4NSmHSiUh7+MHDCQcSvPBkOL2=G=VLNyzu07A@mail.gmail.com>
Message-ID: <CAGpPWDY6tuH6pWWj308riYyNfszS2n=KoPUCpxpDz4bRLyACTA@mail.gmail.com>

These look like relatively well put together documents. However, they seem
relatively orthogonal to Bitcoin in that they look like protocols that
build on top of the bitcoin platform but aren't directly related to
changing how bitcoin operates at its base layer. Am I miss reading these?

On Sat, Apr 24, 2021 at 12:08 AM Christopher Gilliard via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> I have created three additional BIPs that are associated with my recent
> proposals. They can be found here:
>
> https://github.com/cgilliard/bips/blob/notification/bip-XXXX.mediawiki
>
> and here:
>
> https://github.com/cgilliard/bips/blob/moderation/bip-XXXX.mediawiki
>
> and here:
>
> https://github.com/cgilliard/bips/blob/wot/bip-XXXX.mediawiki
>
> Please reply with any feedback, questions, or comments.
>
> Regards,
> Chris
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210520/27db7d91/attachment-0001.html>

From vizeet at gmail.com  Fri May 21 09:42:01 2021
From: vizeet at gmail.com (vizeet srivastava)
Date: Fri, 21 May 2021 15:12:01 +0530
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
Message-ID: <CAEmwXHk63O8KpVd9fBd5rc6CobedY2bPWRLg=8ao8hJASiZZnw@mail.gmail.com>

It is difficult to understand how energy usage is a bad thing.
At one end we talk about energy usage as a bad thing and we also talk about
global warming.
If Earth is receiving extra energy which is causing global warming
shouldn't we use extra energy to do something useful.


On Fri, May 21, 2021 at 2:52 PM Billy Tetrud via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> I think there is a lot of misinformation and bias against Proof of Stake.
> Yes there have been lots of shady coins that use insecure PoS mechanisms.
> Yes there have been massive issues with distribution of PoS coins (of
> course there have also been massive issues with PoW coins as well).
> However, I want to remind everyone that there is a difference between
> "proved to be impossible" and "have not achieved recognized success yet".
> Most of the arguments levied against PoS are out of date or rely on
> unproven assumptions or extrapolation from the analysis of a particular PoS
> system. I certainly don't think we should experiment with bitcoin by
> switching to PoS, but from my research, it seems very likely that there is
> a proof of stake consensus protocol we could build that has substantially
> higher security (cost / capital required to execute an attack) while at the
> same time costing far less resources (which do translate to fees on the
> network) *without* compromising any of the critical security properties
> bitcoin relies on. I think the critical piece of this is the disagreements
> around hardcoded checkpoints, which is a critical piece solving attacks
> that could be levied on a PoS chain, and how that does (or doesn't) affect
> the security model.
>
> @Eric Your proof of stake fallacy seems to be saying that PoS is worse
> when a 51% attack happens. While I agree, I think that line of thinking
> omits important facts:
> * The capital required to 51% attack a PoS chain can be made substantially
> greater than on a PoS chain.
> * The capital the attacker stands to lose can be substantially greater as
> well if the attack is successful.
> * The effectiveness of paying miners to raise the honest fraction of
> miners above 50% may be quite bad.
> * Allowing a 51% attack is already unacceptable. It should be considered
> whether what happens in the case of a 51% may not be significantly
> different. The currency would likely be critically damaged in a 51% attack
> regardless of consensus mechanism.
>
> > Proof-of-stake tends towards oligopolistic control
>
> People repeat this often, but the facts support this. There is no
> centralization pressure in any proof of stake mechanism that I'm aware of.
> IE if you have 10 times as much coin that you use to mint blocks, you
> should expect to earn 10x as much minting revenue - not more than 10x. By
> contrast, proof of work does in fact have clear centralization pressure -
> this is not disputed. Our goal in relation to that is to ensure that the
> centralization pressure remains insignifiant. Proof of work also clearly
> has a lot more barriers to entry than any proof of stake system does. Both
> of these mean the tendency towards oligopolistic control is worse for PoW.
>
> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>
> I certainly agree. Bitcoin's energy usage at the moment is I think quite
> warranted. However, the question is: can we do substantially better. I
> think if we can, we probably should... eventually.
>
> > Proof of Stake is only resilient to ? of the network demonstrating a
> Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>
> I see no mention of this in the pos.pdf
> <https://download.wpsoftware.net/bitcoin/pos.pdf> you linked to. I'm not
> aware of any proof that *all *PoS systems have a failure threshold of
> 1/3. I know that staking systems like Casper do in fact have that 1/3
> requirement. However there are PoS designs that should exceed that up to
> nearly 50% as far as I'm aware. Proof of work is not in fact resilient up
> to the 1/2 threshold in the way you would think. IE, if 100% of miners are
> currently honest and have a collective 100 exahashes/s hashpower, an
> attacker does not need to obtain 100 exahashes/s, but actually only needs
> to accumulate 50 exahashes/s. This is because as the attacker accumulates
> hashpower, it drives honest miners out of the market as the difficulty
> increases to beyond what is economically sustainable. Also, its been shown
> that the best proof of work can do is require an attacker to obtain 33% of
> the hashpower because of the selfish mining attack
> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack> discussed
> in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both
> of these things reduce PoW's security by a factor of about 83% (1 -
> 50%*33%).
>
>  > Proof of Stake requires other trade-offs which are incompatible with
> Bitcoin's objective (to be a trustless digital cash) ? specifically the
> famous "security vs. liveness" guarantee
>
> Do you have a good source that talks about why you think proof of stake
> cannot be used for a trustless digital cash?
>
> > You cannot gain tokens without someone choosing to give up those coins -
> a form of permission.
>
> This is not a practical constraint. Just like in mining, some nodes may
> reject you, but there will likely be more that will accept you, some
> sellers may reject you, but most would accept your money as payment for
> bitcoins. I don't think requiring the "permission" of one of millions of
> people in the market can be reasonably considered a "permissioned
> currency".
>
> > 2. Proof of stake must have a trusted means of timestamping to regulate
> overproduction of blocks
>
> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed
> to double their clock speeds. Both systems rely on an honest majority
> sticking to standard time.
>
>
> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>
>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>
>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP
>>> itself. PoS, VDFs, and so on are interesting but I guess there are other
>>> threads going on these topics already where they would be relevant.
>>>
>>> Also, it's important to distinguish between oPoW and these other
>>> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
>>> the core game theory or security assumptions of Hashcash and actually
>>> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>
>>> Cheers,
>>> Mike
>>>
>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
>>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>
>>>> 1. i never suggested vdf's to replace pow.
>>>>
>>>> 2. my suggestion was specifically *in the context of* a working
>>>> proof-of-burn protocol
>>>>
>>>> - vdfs used only for timing (not block height)
>>>> - blind-burned coins of a specific age used to replace proof of work
>>>> - the required "work" per block would simply be a competition to
>>>> acquire rewards, and so miners would have to burn coins, well in
>>>> advance, and hope that their burned coins got rewarded in some far
>>>> future
>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>> value gained from proof of work... without some of the security
>>>> drawbacks
>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>> losing their work in each block)
>>>> - new burns can't be used
>>>> - old burns age out (like ASICs do)
>>>> - other requirements on burns might be needed to properly mirror the
>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>
>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>> might be more secure in the long run, and that if the entire space
>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>> up, and a hard-fork could be initiated.
>>>>
>>>> 4. i would never suggest such a thing unless i believed it was
>>>> possible that consensus was possible.  so no, this is not an "alt
>>>> coin"
>>>>
>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
>>>> wrote:
>>>> >
>>>> > Hi ZmnSCPxj,
>>>> >
>>>> > Please note that I am not suggesting VDFs as a means to save energy,
>>>> but solely as a means to make the time between blocks more constant.
>>>> >
>>>> > Zac
>>>> >
>>>> >
>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
>>>> wrote:
>>>> >>
>>>> >> Good morning Zac,
>>>> >>
>>>> >> > VDFs might enable more constant block times, for instance by
>>>> having a two-step PoW:
>>>> >> >
>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being
>>>> subject to difficulty adjustments similar to the as-is). As per the
>>>> property of VDFs, miners are able show proof of work.
>>>> >> >
>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
>>>> block takes 1 minute on average, again subject to as-is difficulty
>>>> adjustments.
>>>> >> >
>>>> >> > As a result, variation in block times will be greatly reduced.
>>>> >>
>>>> >> As I understand it, another weakness of VDFs is that they are not
>>>> inherently progress-free (their sequential nature prevents that; they are
>>>> inherently progress-requiring).
>>>> >>
>>>> >> Thus, a miner which focuses on improving the amount of energy that
>>>> it can pump into the VDF circuitry (by overclocking and freezing the
>>>> circuitry), could potentially get into a winner-takes-all situation,
>>>> possibly leading to even *worse* competition and even *more* energy
>>>> consumption.
>>>> >> After all, if you can start mining 0.1s faster than the competition,
>>>> that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>> >>
>>>> >> Regards,
>>>> >> ZmnSCPxj
>>>> _______________________________________________
>>>> bitcoin-dev mailing list
>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>
>>>
>>>
>>> --
>>> Michael Dubrovsky
>>> Founder; PoWx
>>> www.PoWx.org <http://www.powx.org/>
>>>
>>
>>
>> --
>> Michael Dubrovsky
>> Founder; PoWx
>> www.PoWx.org <http://www.powx.org/>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210521/1dd9e3b5/attachment-0001.html>

From billy.tetrud at gmail.com  Fri May 21 20:11:27 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Fri, 21 May 2021 10:11:27 -1000
Subject: [bitcoin-dev] Gradual transition to an alternate proof without
 a hard fork.
In-Reply-To: <20210417114717.GA8079@erisian.com.au>
References: <CAJowKgJNefXZTCJk_EK4JC7uPKsTrGv=yUROpjL_7GGbfNrrvA@mail.gmail.com>
 <20210417114717.GA8079@erisian.com.au>
Message-ID: <CAGpPWDbCJKUpd=ufDXrSNwgm7DhQwDiGqfL-+2yqyviFhGDpvA@mail.gmail.com>

The way I would think of doing this kind of thing (switching consensus
protocol), which includes switching to a different hash function for proof
of work, is to have a transitionary period where both consensus mechanisms
are used to mine. This transitionary period should be long (perhaps years)
to give miners time to manage the logistics of switching over. However,
because there would be no trustless mechanism to automatically relate the
amount of work (or burn, or whatever) done between the two consensus
mechanisms, there would need to be some manually determined estimate of
equivalence hard coded into the software. Eg, if we're talking about a
different hash function, we could define in software that 100 current
hashes is about equal to 10 hashes using the new algorithm. This could even
be set such that its marginally (but significantly) favorable to use the
new hash function, to give additional incentive to miners to switch. The
risk with that is that hardware that processes that new hash function might
innovate arbitrarily more quickly than the old hash function (which is
likely to have somewhat plateaued), and this might make the manually
estimated equivalence become inaccurate in a way that could significantly
reduce the security of the network. a change like this could be fraught
with perils if the miners using each mechanism don't end up cooperating to
ensure that equivalence is set fairly, and instead make efforts to attempt
to unfairly increase their share.

In any case, the idea is that you'd have a smooth switch over from (blocks
the old mechanism creates / blocks the new mechanism creates) 100%/0% ->
75%/25% -> 50/50 -> eventually 0%/100%. Or at some fraction of total
hashpower, (eg 95%) the old consensus mechanism could simply be shut off -
which would give additional incentive for miners to switch sooner rather
than later. However, it would probably be best to make this cut off more
like 99% than 95%, since screwing over 5% of the hashpower for a few months
is probably not necessary or ideal. It might actually just be better to
have a time-based cutoff. Or have the final switch over lock in at 95% with
a few months to give the other 5% time to switch over (and if they don't
then its on them).

I would think this could work for switch between any consensus mechanism.
However, how to do this in a soft fork is another story. It sounds like its
doable from other people's comments.

On Sat, Apr 17, 2021 at 1:47 AM Anthony Towns via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> On Fri, Apr 16, 2021 at 04:48:35PM -0400, Erik Aronesty via bitcoin-dev
> wrote:
> > The transition *could* look like this:
> >  - validating nodes begin to require proof-of-burn, in addition to
> > proof-of-work (soft fork)
> >  - the extra expense makes it more expensive for miners, so POW slowly
> drops
> >  - on a predefined schedule, POB required is increased to 100% of the
> > "required work" to mine
> > Given all of that, am I correct in thinking that a hard fork would not
> > be necessary?
>
> It depends what you mean by a "hard fork". By the definition that
> "the old software will consider the chain followed by new versions of
> the software as valid" it's a soft fork. But it doesn't maintain the
> property "old software continues to follow the same chain as new software,
> provided the economic majority has adopted the new software" -- because
> after the PoW part has dropped its difficulty substantitally, people can
> easily/cheaply make a new chain that doesn't include proof-of-burn, and
> has weak proof-of-work that's nevertheless higher than the proof-of-burn
> chain, so old nodes will switch to it, while new nodes will continue to
> follow the proof-of-burn chain.
>
> So I think that means it needs to be treated as a hard fork: everyone
> needs to be running the new software by some date to ensure they follow
> the same chain.
>
> (The same argument applies to trying to switch to a different PoW
> algorithm via a soft fork; I forget who explained this to me)
>
> Jeremy wrote:
> > I think you need to hard deprecate the PoW for this to work, otherwise
> > all old miners are like "toxic waste".
> >
> > Imagine one miner turns on a S9 and then ramps up difficulty for
> > everyone else.
>
> If it's a soft-fork, you could only ramp up the PoW difficulty by mining
> more than one block every ten minutes, but presumably the proof-of-burn
> scheme would have its own way of preventing burners from mining blocks
> too fast (it was assumption 2).
>
> Cheers,
> aj
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210521/cc6d27d6/attachment-0001.html>

From erik at q32.com  Fri May 21 20:54:57 2021
From: erik at q32.com (Erik Aronesty)
Date: Fri, 21 May 2021 16:54:57 -0400
Subject: [bitcoin-dev] Gradual transition to an alternate proof without
 a hard fork.
In-Reply-To: <CAGpPWDbCJKUpd=ufDXrSNwgm7DhQwDiGqfL-+2yqyviFhGDpvA@mail.gmail.com>
References: <CAJowKgJNefXZTCJk_EK4JC7uPKsTrGv=yUROpjL_7GGbfNrrvA@mail.gmail.com>
 <20210417114717.GA8079@erisian.com.au>
 <CAGpPWDbCJKUpd=ufDXrSNwgm7DhQwDiGqfL-+2yqyviFhGDpvA@mail.gmail.com>
Message-ID: <CAJowKg+xG+7T+CcuCJ6cQpuW+BxhL-710YU-kNZVyU_p1XYjDQ@mail.gmail.com>

the original argument was correct: has to be a hard fork.

otherwise there's nothing to prevent a miner with leftover asics from
"tricking" old nodes to following another chain.

a hard fork is a really, really high bar - there would have to be
something very broken to justify it.

quantum-hashing or whatever (proof-of burn of course is as
quantum-safe as the underlying chain is... so it's nice to switch to,
should it be necessary)

On Fri, May 21, 2021 at 4:11 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>
> The way I would think of doing this kind of thing (switching consensus protocol), which includes switching to a different hash function for proof of work, is to have a transitionary period where both consensus mechanisms are used to mine. This transitionary period should be long (perhaps years) to give miners time to manage the logistics of switching over. However, because there would be no trustless mechanism to automatically relate the amount of work (or burn, or whatever) done between the two consensus mechanisms, there would need to be some manually determined estimate of equivalence hard coded into the software. Eg, if we're talking about a different hash function, we could define in software that 100 current hashes is about equal to 10 hashes using the new algorithm. This could even be set such that its marginally (but significantly) favorable to use the new hash function, to give additional incentive to miners to switch. The risk with that is that hardware that processes that new hash function might innovate arbitrarily more quickly than the old hash function (which is likely to have somewhat plateaued), and this might make the manually estimated equivalence become inaccurate in a way that could significantly reduce the security of the network. a change like this could be fraught with perils if the miners using each mechanism don't end up cooperating to ensure that equivalence is set fairly, and instead make efforts to attempt to unfairly increase their share.
>
> In any case, the idea is that you'd have a smooth switch over from (blocks the old mechanism creates / blocks the new mechanism creates) 100%/0% -> 75%/25% -> 50/50 -> eventually 0%/100%. Or at some fraction of total hashpower, (eg 95%) the old consensus mechanism could simply be shut off - which would give additional incentive for miners to switch sooner rather than later. However, it would probably be best to make this cut off more like 99% than 95%, since screwing over 5% of the hashpower for a few months is probably not necessary or ideal. It might actually just be better to have a time-based cutoff. Or have the final switch over lock in at 95% with a few months to give the other 5% time to switch over (and if they don't then its on them).
>
> I would think this could work for switch between any consensus mechanism. However, how to do this in a soft fork is another story. It sounds like its doable from other people's comments.
>
> On Sat, Apr 17, 2021 at 1:47 AM Anthony Towns via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>> On Fri, Apr 16, 2021 at 04:48:35PM -0400, Erik Aronesty via bitcoin-dev wrote:
>> > The transition *could* look like this:
>> >  - validating nodes begin to require proof-of-burn, in addition to
>> > proof-of-work (soft fork)
>> >  - the extra expense makes it more expensive for miners, so POW slowly drops
>> >  - on a predefined schedule, POB required is increased to 100% of the
>> > "required work" to mine
>> > Given all of that, am I correct in thinking that a hard fork would not
>> > be necessary?
>>
>> It depends what you mean by a "hard fork". By the definition that
>> "the old software will consider the chain followed by new versions of
>> the software as valid" it's a soft fork. But it doesn't maintain the
>> property "old software continues to follow the same chain as new software,
>> provided the economic majority has adopted the new software" -- because
>> after the PoW part has dropped its difficulty substantitally, people can
>> easily/cheaply make a new chain that doesn't include proof-of-burn, and
>> has weak proof-of-work that's nevertheless higher than the proof-of-burn
>> chain, so old nodes will switch to it, while new nodes will continue to
>> follow the proof-of-burn chain.
>>
>> So I think that means it needs to be treated as a hard fork: everyone
>> needs to be running the new software by some date to ensure they follow
>> the same chain.
>>
>> (The same argument applies to trying to switch to a different PoW
>> algorithm via a soft fork; I forget who explained this to me)
>>
>> Jeremy wrote:
>> > I think you need to hard deprecate the PoW for this to work, otherwise
>> > all old miners are like "toxic waste".
>> >
>> > Imagine one miner turns on a S9 and then ramps up difficulty for
>> > everyone else.
>>
>> If it's a soft-fork, you could only ramp up the PoW difficulty by mining
>> more than one block every ten minutes, but presumably the proof-of-burn
>> scheme would have its own way of preventing burners from mining blocks
>> too fast (it was assumption 2).
>>
>> Cheers,
>> aj
>>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From erik at q32.com  Fri May 21 20:57:51 2021
From: erik at q32.com (Erik Aronesty)
Date: Fri, 21 May 2021 16:57:51 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
Message-ID: <CAJowKgKHWe8BVCto1UdhmsZB4cOXN8pn09bFxt0LcW14FAx0Pw@mail.gmail.com>

proof of burn has all the benefits of proof of stake (if there are any)

but it also solves the "nothing at stake" problem

the incentive in POB is that you're making a long-term investment in
mining, and you want a stable protocol, quality network, etc.... to
pay off your investment.

On Thu, May 20, 2021 at 8:04 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>
> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>
> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>
> > Proof-of-stake tends towards oligopolistic control
>
> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>
> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>
> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>
> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>
> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>
>  > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>
> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>
> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>
> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>
> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>
> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>
>
> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>
>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>>
>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>>
>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>
>>> Cheers,
>>> Mike
>>>
>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>
>>>> 1. i never suggested vdf's to replace pow.
>>>>
>>>> 2. my suggestion was specifically *in the context of* a working
>>>> proof-of-burn protocol
>>>>
>>>> - vdfs used only for timing (not block height)
>>>> - blind-burned coins of a specific age used to replace proof of work
>>>> - the required "work" per block would simply be a competition to
>>>> acquire rewards, and so miners would have to burn coins, well in
>>>> advance, and hope that their burned coins got rewarded in some far
>>>> future
>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>> value gained from proof of work... without some of the security
>>>> drawbacks
>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>> losing their work in each block)
>>>> - new burns can't be used
>>>> - old burns age out (like ASICs do)
>>>> - other requirements on burns might be needed to properly mirror the
>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>
>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>> might be more secure in the long run, and that if the entire space
>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>> up, and a hard-fork could be initiated.
>>>>
>>>> 4. i would never suggest such a thing unless i believed it was
>>>> possible that consensus was possible.  so no, this is not an "alt
>>>> coin"
>>>>
>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>>> >
>>>> > Hi ZmnSCPxj,
>>>> >
>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>>> >
>>>> > Zac
>>>> >
>>>> >
>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>>> >>
>>>> >> Good morning Zac,
>>>> >>
>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>>> >> >
>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>>> >> >
>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>>> >> >
>>>> >> > As a result, variation in block times will be greatly reduced.
>>>> >>
>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>>> >>
>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>> >>
>>>> >> Regards,
>>>> >> ZmnSCPxj
>>>> _______________________________________________
>>>> bitcoin-dev mailing list
>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>>>
>>>
>>> --
>>> Michael Dubrovsky
>>> Founder; PoWx
>>> www.PoWx.org
>>
>>
>>
>> --
>> Michael Dubrovsky
>> Founder; PoWx
>> www.PoWx.org
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From billy.tetrud at gmail.com  Fri May 21 21:45:12 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Fri, 21 May 2021 11:45:12 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgKHWe8BVCto1UdhmsZB4cOXN8pn09bFxt0LcW14FAx0Pw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAJowKgKHWe8BVCto1UdhmsZB4cOXN8pn09bFxt0LcW14FAx0Pw@mail.gmail.com>
Message-ID: <CAGpPWDbnEo7QiVU1Y-XNCjv=DYESAyCC-xnKzz4uOBJcxh+3bg@mail.gmail.com>

@Erik
>  it also solves the "nothing at stake" problem

A. the "nothing at stake" problem can be and has been solved by PoS
consensus mechanisms (unless you mean it more broadly than I'm taking it),
and B. Proof of Burn should have just as much "nothing at stake" issues as
PoS. Both consensus mechanisms depend on the current state of the chain to
determine whether someone's stake or burn would allow the creation of a
block. But I am curious, how does proof of burn solve the "nothing at
stake" problem in your view?

On Fri, May 21, 2021 at 10:58 AM Erik Aronesty <erik at q32.com> wrote:

> proof of burn has all the benefits of proof of stake (if there are any)
>
> but it also solves the "nothing at stake" problem
>
> the incentive in POB is that you're making a long-term investment in
> mining, and you want a stable protocol, quality network, etc.... to
> pay off your investment.
>
> On Thu, May 20, 2021 at 8:04 PM Billy Tetrud <billy.tetrud at gmail.com>
> wrote:
> >
> > I think there is a lot of misinformation and bias against Proof of
> Stake. Yes there have been lots of shady coins that use insecure PoS
> mechanisms. Yes there have been massive issues with distribution of PoS
> coins (of course there have also been massive issues with PoW coins as
> well). However, I want to remind everyone that there is a difference
> between "proved to be impossible" and "have not achieved recognized success
> yet". Most of the arguments levied against PoS are out of date or rely on
> unproven assumptions or extrapolation from the analysis of a particular PoS
> system. I certainly don't think we should experiment with bitcoin by
> switching to PoS, but from my research, it seems very likely that there is
> a proof of stake consensus protocol we could build that has substantially
> higher security (cost / capital required to execute an attack) while at the
> same time costing far less resources (which do translate to fees on the
> network) *without* compromising any of the critical security properties
> bitcoin relies on. I think the critical piece of this is the disagreements
> around hardcoded checkpoints, which is a critical piece solving attacks
> that could be levied on a PoS chain, and how that does (or doesn't) affect
> the security model.
> >
> > @Eric Your proof of stake fallacy seems to be saying that PoS is worse
> when a 51% attack happens. While I agree, I think that line of thinking
> omits important facts:
> > * The capital required to 51% attack a PoS chain can be made
> substantially greater than on a PoS chain.
> > * The capital the attacker stands to lose can be substantially greater
> as well if the attack is successful.
> > * The effectiveness of paying miners to raise the honest fraction of
> miners above 50% may be quite bad.
> > * Allowing a 51% attack is already unacceptable. It should be considered
> whether what happens in the case of a 51% may not be significantly
> different. The currency would likely be critically damaged in a 51% attack
> regardless of consensus mechanism.
> >
> > > Proof-of-stake tends towards oligopolistic control
> >
> > People repeat this often, but the facts support this. There is no
> centralization pressure in any proof of stake mechanism that I'm aware of.
> IE if you have 10 times as much coin that you use to mint blocks, you
> should expect to earn 10x as much minting revenue - not more than 10x. By
> contrast, proof of work does in fact have clear centralization pressure -
> this is not disputed. Our goal in relation to that is to ensure that the
> centralization pressure remains insignifiant. Proof of work also clearly
> has a lot more barriers to entry than any proof of stake system does. Both
> of these mean the tendency towards oligopolistic control is worse for PoW.
> >
> > > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
> >
> > I certainly agree. Bitcoin's energy usage at the moment is I think quite
> warranted. However, the question is: can we do substantially better. I
> think if we can, we probably should... eventually.
> >
> > > Proof of Stake is only resilient to ? of the network demonstrating a
> Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
> >
> > I see no mention of this in the pos.pdf you linked to. I'm not aware of
> any proof that all PoS systems have a failure threshold of 1/3. I know that
> staking systems like Casper do in fact have that 1/3 requirement. However
> there are PoS designs that should exceed that up to nearly 50% as far as
> I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold
> in the way you would think. IE, if 100% of miners are currently honest and
> have a collective 100 exahashes/s hashpower, an attacker does not need to
> obtain 100 exahashes/s, but actually only needs to accumulate 50
> exahashes/s. This is because as the attacker accumulates hashpower, it
> drives honest miners out of the market as the difficulty increases to
> beyond what is economically sustainable. Also, its been shown that the best
> proof of work can do is require an attacker to obtain 33% of the hashpower
> because of the selfish mining attack discussed in depth in this paper:
> https://arxiv.org/abs/1311.0243. Together, both of these things reduce
> PoW's security by a factor of about 83% (1 - 50%*33%).
> >
> >  > Proof of Stake requires other trade-offs which are incompatible with
> Bitcoin's objective (to be a trustless digital cash) ? specifically the
> famous "security vs. liveness" guarantee
> >
> > Do you have a good source that talks about why you think proof of stake
> cannot be used for a trustless digital cash?
> >
> > > You cannot gain tokens without someone choosing to give up those coins
> - a form of permission.
> >
> > This is not a practical constraint. Just like in mining, some nodes may
> reject you, but there will likely be more that will accept you, some
> sellers may reject you, but most would accept your money as payment for
> bitcoins. I don't think requiring the "permission" of one of millions of
> people in the market can be reasonably considered a "permissioned currency".
> >
> > > 2. Proof of stake must have a trusted means of timestamping to
> regulate overproduction of blocks
> >
> > Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed
> to double their clock speeds. Both systems rely on an honest majority
> sticking to standard time.
> >
> >
> > On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >>
> >> Ah sorry, I didn't realize this was, in fact, a different thread! :)
> >>
> >> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org>
> wrote:
> >>>
> >>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP
> itself. PoS, VDFs, and so on are interesting but I guess there are other
> threads going on these topics already where they would be relevant.
> >>>
> >>> Also, it's important to distinguish between oPoW and these other
> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
> the core game theory or security assumptions of Hashcash and actually
> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
> >>>
> >>> Cheers,
> >>> Mike
> >>>
> >>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >>>>
> >>>> 1. i never suggested vdf's to replace pow.
> >>>>
> >>>> 2. my suggestion was specifically *in the context of* a working
> >>>> proof-of-burn protocol
> >>>>
> >>>> - vdfs used only for timing (not block height)
> >>>> - blind-burned coins of a specific age used to replace proof of work
> >>>> - the required "work" per block would simply be a competition to
> >>>> acquire rewards, and so miners would have to burn coins, well in
> >>>> advance, and hope that their burned coins got rewarded in some far
> >>>> future
> >>>> - the point of burned coins is to mimic, in every meaningful way, the
> >>>> value gained from proof of work... without some of the security
> >>>> drawbacks
> >>>> - the miner risks losing all of his burned coins (like all miners risk
> >>>> losing their work in each block)
> >>>> - new burns can't be used
> >>>> - old burns age out (like ASICs do)
> >>>> - other requirements on burns might be needed to properly mirror the
> >>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
> >>>>
> >>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
> >>>> might be more secure in the long run, and that if the entire space
> >>>> agreed that such an endeavor was worthwhile, a test net could be spun
> >>>> up, and a hard-fork could be initiated.
> >>>>
> >>>> 4. i would never suggest such a thing unless i believed it was
> >>>> possible that consensus was possible.  so no, this is not an "alt
> >>>> coin"
> >>>>
> >>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
> wrote:
> >>>> >
> >>>> > Hi ZmnSCPxj,
> >>>> >
> >>>> > Please note that I am not suggesting VDFs as a means to save
> energy, but solely as a means to make the time between blocks more constant.
> >>>> >
> >>>> > Zac
> >>>> >
> >>>> >
> >>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
> wrote:
> >>>> >>
> >>>> >> Good morning Zac,
> >>>> >>
> >>>> >> > VDFs might enable more constant block times, for instance by
> having a two-step PoW:
> >>>> >> >
> >>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being
> subject to difficulty adjustments similar to the as-is). As per the
> property of VDFs, miners are able show proof of work.
> >>>> >> >
> >>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
> block takes 1 minute on average, again subject to as-is difficulty
> adjustments.
> >>>> >> >
> >>>> >> > As a result, variation in block times will be greatly reduced.
> >>>> >>
> >>>> >> As I understand it, another weakness of VDFs is that they are not
> inherently progress-free (their sequential nature prevents that; they are
> inherently progress-requiring).
> >>>> >>
> >>>> >> Thus, a miner which focuses on improving the amount of energy that
> it can pump into the VDF circuitry (by overclocking and freezing the
> circuitry), could potentially get into a winner-takes-all situation,
> possibly leading to even *worse* competition and even *more* energy
> consumption.
> >>>> >> After all, if you can start mining 0.1s faster than the
> competition, that is a 0.1s advantage where *only you* can mine *in the
> entire world*.
> >>>> >>
> >>>> >> Regards,
> >>>> >> ZmnSCPxj
> >>>> _______________________________________________
> >>>> bitcoin-dev mailing list
> >>>> bitcoin-dev at lists.linuxfoundation.org
> >>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >>>
> >>>
> >>>
> >>> --
> >>> Michael Dubrovsky
> >>> Founder; PoWx
> >>> www.PoWx.org
> >>
> >>
> >>
> >> --
> >> Michael Dubrovsky
> >> Founder; PoWx
> >> www.PoWx.org
> >> _______________________________________________
> >> bitcoin-dev mailing list
> >> bitcoin-dev at lists.linuxfoundation.org
> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210521/0d41b5ee/attachment-0001.html>

From luke at dashjr.org  Sat May 22 02:33:45 2021
From: luke at dashjr.org (Luke Dashjr)
Date: Sat, 22 May 2021 02:33:45 +0000
Subject: [bitcoin-dev] Additional BIPs related to other proposals
In-Reply-To: <CAGpPWDY6tuH6pWWj308riYyNfszS2n=KoPUCpxpDz4bRLyACTA@mail.gmail.com>
References: <CAK=nyAxZ3ohoO4NSmHSiUh7+MHDCQcSvPBkOL2=G=VLNyzu07A@mail.gmail.com>
 <CAGpPWDY6tuH6pWWj308riYyNfszS2n=KoPUCpxpDz4bRLyACTA@mail.gmail.com>
Message-ID: <202105220233.45883.luke@dashjr.org>

On Friday 21 May 2021 07:56:51 Billy Tetrud via bitcoin-dev wrote:
> These look like relatively well put together documents. However, they seem
> relatively orthogonal to Bitcoin in that they look like protocols that
> build on top of the bitcoin platform but aren't directly related to
> changing how bitcoin operates at its base layer. Am I miss reading these?

BIPs are not limited to the base layer. Anything that coordinates between 
Bitcoin software at any layer can use BIPs.

From billy.tetrud at gmail.com  Sat May 22 06:01:19 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Fri, 21 May 2021 20:01:19 -1000
Subject: [bitcoin-dev] Additional BIPs related to other proposals
In-Reply-To: <202105220233.45883.luke@dashjr.org>
References: <CAK=nyAxZ3ohoO4NSmHSiUh7+MHDCQcSvPBkOL2=G=VLNyzu07A@mail.gmail.com>
 <CAGpPWDY6tuH6pWWj308riYyNfszS2n=KoPUCpxpDz4bRLyACTA@mail.gmail.com>
 <202105220233.45883.luke@dashjr.org>
Message-ID: <CAGpPWDbxiOFsGS58DeYeFRsO1=sVAYe5O214Pk5-2d-1qxvayg@mail.gmail.com>

Fair enough!

On Fri, May 21, 2021 at 4:33 PM Luke Dashjr <luke at dashjr.org> wrote:

> On Friday 21 May 2021 07:56:51 Billy Tetrud via bitcoin-dev wrote:
> > These look like relatively well put together documents. However, they
> seem
> > relatively orthogonal to Bitcoin in that they look like protocols that
> > build on top of the bitcoin platform but aren't directly related to
> > changing how bitcoin operates at its base layer. Am I miss reading these?
>
> BIPs are not limited to the base layer. Anything that coordinates between
> Bitcoin software at any layer can use BIPs.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210521/6f4905ec/attachment.html>

From raystonn at hotmail.com  Fri May 21 22:41:30 2021
From: raystonn at hotmail.com (Raystonn .)
Date: Fri, 21 May 2021 22:41:30 +0000
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
Message-ID: <DM6PR02MB6187B30D0941044E24699FF8CD299@DM6PR02MB6187.namprd02.prod.outlook.com>

Suggestions to make changes to Bitcoin's consensus protocol will only ever be entertained if Bitcoin is completely dead without such a change.  Any attempt to change consensus protocol without a clear and convincing demonstration to the entire network of participants that Bitcoin will die without that change is a waste of your own time.  Bitcoin's resistance to consensus changes is a feature that makes it resistant to being coopted and corrupted.  I recommend developers focus on making improvements that do not attempt to change the consensus protocol.  Otherwise, you are simply working on an altcoin, which is off-topic here.

Raystonn

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210521/c4f8d8b0/attachment.html>

From jtimon at jtimon.cc  Sat May 22 14:55:25 2021
From: jtimon at jtimon.cc (=?UTF-8?B?Sm9yZ2UgVGltw7Nu?=)
Date: Sat, 22 May 2021 15:55:25 +0100
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
In-Reply-To: <DM6PR02MB6187B30D0941044E24699FF8CD299@DM6PR02MB6187.namprd02.prod.outlook.com>
References: <DM6PR02MB6187B30D0941044E24699FF8CD299@DM6PR02MB6187.namprd02.prod.outlook.com>
Message-ID: <CABm2gDpSWEA+AU1OKGBatuFT8biSO2S8MxfvRH8wHbF7=OEetQ@mail.gmail.com>

That is clearly not true. People entretain making changes to the protocol
all the time. Bitcoin is far from perfect and not improving it would be
stupid in my opinion.
Some improvements require changes to the consensus rules.
Recent changes include relative lock time verify or segwit. These are
important changes that made things like lightning much easier and efficient
than they could possibly be without them.
Taproot, which is a recent proposal, could help simplify the lightning
protocol even further, and make it more efficient and its usage more
private. And there are more use cases.

There have been consensus rule changes since bitcoin started, and with good
reason. As a user, you can always oppose new changes. And if enough users
agree with you, you will be able to maintain your own chain with the old
rules. At the same time, there's nothing you can do to stop other users who
want those changes from coordinating with each other to adopt them.

Perhaps you're interested in bip99, which discusses consensus rule changes
in more detail.



On Sat, May 22, 2021, 13:09 Raystonn . via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Suggestions to make changes to Bitcoin's consensus protocol will only ever
> be entertained if Bitcoin is completely dead without such a change.  Any
> attempt to change consensus protocol without a clear and convincing
> demonstration to the entire network of participants that Bitcoin will die
> without that change is a waste of your own time.  Bitcoin's resistance to
> consensus changes is a feature that makes it resistant to being coopted and
> corrupted.  I recommend developers focus on making improvements that do not
> attempt to change the consensus protocol.  Otherwise, you are simply
> working on an altcoin, which is off-topic here.
>
> Raystonn
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210522/a08c6bcf/attachment.html>

From raystonn at hotmail.com  Sat May 22 19:55:53 2021
From: raystonn at hotmail.com (Raystonn .)
Date: Sat, 22 May 2021 19:55:53 +0000
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
In-Reply-To: <CABm2gDpSWEA+AU1OKGBatuFT8biSO2S8MxfvRH8wHbF7=OEetQ@mail.gmail.com>
References: <DM6PR02MB6187B30D0941044E24699FF8CD299@DM6PR02MB6187.namprd02.prod.outlook.com>,
 <CABm2gDpSWEA+AU1OKGBatuFT8biSO2S8MxfvRH8wHbF7=OEetQ@mail.gmail.com>
Message-ID: <DM6PR02MB6187F5E2A74950211F3934C9CD289@DM6PR02MB6187.namprd02.prod.outlook.com>

None of these required a hard fork.  I should rephrase my previous email to clarify the intended topic as hard consensus changes, requiring a hard fork.  "Soft" forks can be useful.

Raystonn

________________________________
From: Jorge Tim?n <jtimon at jtimon.cc>
Sent: Saturday, May 22, 2021 7:55 AM
To: Raystonn . <raystonn at hotmail.com>; Bitcoin Protocol Discussion <bitcoin-dev at lists.linuxfoundation.org>
Subject: Re: [bitcoin-dev] Consensus protocol immutability is a feature

That is clearly not true. People entretain making changes to the protocol all the time. Bitcoin is far from perfect and not improving it would be stupid in my opinion.
Some improvements require changes to the consensus rules.
Recent changes include relative lock time verify or segwit. These are important changes that made things like lightning much easier and efficient than they could possibly be without them.
Taproot, which is a recent proposal, could help simplify the lightning protocol even further, and make it more efficient and its usage more private. And there are more use cases.

There have been consensus rule changes since bitcoin started, and with good reason. As a user, you can always oppose new changes. And if enough users agree with you, you will be able to maintain your own chain with the old rules. At the same time, there's nothing you can do to stop other users who want those changes from coordinating with each other to adopt them.

Perhaps you're interested in bip99, which discusses consensus rule changes in more detail.



On Sat, May 22, 2021, 13:09 Raystonn . via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org<mailto:bitcoin-dev at lists.linuxfoundation.org>> wrote:
Suggestions to make changes to Bitcoin's consensus protocol will only ever be entertained if Bitcoin is completely dead without such a change.  Any attempt to change consensus protocol without a clear and convincing demonstration to the entire network of participants that Bitcoin will die without that change is a waste of your own time.  Bitcoin's resistance to consensus changes is a feature that makes it resistant to being coopted and corrupted.  I recommend developers focus on making improvements that do not attempt to change the consensus protocol.  Otherwise, you are simply working on an altcoin, which is off-topic here.

Raystonn

_______________________________________________
bitcoin-dev mailing list
bitcoin-dev at lists.linuxfoundation.org<mailto:bitcoin-dev at lists.linuxfoundation.org>
https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210522/2047b810/attachment-0001.html>

From jtimon at jtimon.cc  Sat May 22 20:35:03 2021
From: jtimon at jtimon.cc (=?UTF-8?B?Sm9yZ2UgVGltw7Nu?=)
Date: Sat, 22 May 2021 21:35:03 +0100
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
In-Reply-To: <DM6PR02MB6187F5E2A74950211F3934C9CD289@DM6PR02MB6187.namprd02.prod.outlook.com>
References: <DM6PR02MB6187B30D0941044E24699FF8CD299@DM6PR02MB6187.namprd02.prod.outlook.com>
 <CABm2gDpSWEA+AU1OKGBatuFT8biSO2S8MxfvRH8wHbF7=OEetQ@mail.gmail.com>
 <DM6PR02MB6187F5E2A74950211F3934C9CD289@DM6PR02MB6187.namprd02.prod.outlook.com>
Message-ID: <CABm2gDq5hMN+-BUfY07KEDca0wCjN4G=iWptenBhzjZ3X9Mn7w@mail.gmail.com>

Hardforks can be useful too.
But, yes, I agree softforks are preferable whenever possible.

On Sat, May 22, 2021, 20:55 Raystonn . <raystonn at hotmail.com> wrote:

> None of these required a hard fork.  I should rephrase my previous email
> to clarify the intended topic as hard consensus changes, requiring a hard
> fork.  "Soft" forks can be useful.
>
> Raystonn
>
> ------------------------------
> *From:* Jorge Tim?n <jtimon at jtimon.cc>
> *Sent:* Saturday, May 22, 2021 7:55 AM
> *To:* Raystonn . <raystonn at hotmail.com>; Bitcoin Protocol Discussion <
> bitcoin-dev at lists.linuxfoundation.org>
> *Subject:* Re: [bitcoin-dev] Consensus protocol immutability is a feature
>
> That is clearly not true. People entretain making changes to the protocol
> all the time. Bitcoin is far from perfect and not improving it would be
> stupid in my opinion.
> Some improvements require changes to the consensus rules.
> Recent changes include relative lock time verify or segwit. These are
> important changes that made things like lightning much easier and efficient
> than they could possibly be without them.
> Taproot, which is a recent proposal, could help simplify the lightning
> protocol even further, and make it more efficient and its usage more
> private. And there are more use cases.
>
> There have been consensus rule changes since bitcoin started, and with
> good reason. As a user, you can always oppose new changes. And if enough
> users agree with you, you will be able to maintain your own chain with the
> old rules. At the same time, there's nothing you can do to stop other users
> who want those changes from coordinating with each other to adopt them.
>
> Perhaps you're interested in bip99, which discusses consensus rule changes
> in more detail.
>
>
>
> On Sat, May 22, 2021, 13:09 Raystonn . via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
> Suggestions to make changes to Bitcoin's consensus protocol will only ever
> be entertained if Bitcoin is completely dead without such a change.  Any
> attempt to change consensus protocol without a clear and convincing
> demonstration to the entire network of participants that Bitcoin will die
> without that change is a waste of your own time.  Bitcoin's resistance to
> consensus changes is a feature that makes it resistant to being coopted and
> corrupted.  I recommend developers focus on making improvements that do not
> attempt to change the consensus protocol.  Otherwise, you are simply
> working on an altcoin, which is off-topic here.
>
> Raystonn
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210522/1aad77a4/attachment.html>

From lloyd.fourn at gmail.com  Sun May 23 03:41:12 2021
From: lloyd.fourn at gmail.com (Lloyd Fournier)
Date: Sun, 23 May 2021 13:41:12 +1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
Message-ID: <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>

Hi Billy,

I was going to write a post which started by dismissing many of the weak
arguments that are made against PoS made in this thread and elsewhere.
Although I don't agree with all your points you have done a decent job here
so I'll focus on the second part: why I think Proof-of-Stake is
inappropriate for a Bitcoin-like system.

Proof of stake is not fit for purpose for a global settlement layer in a
pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to
be.
PoS necessarily gives responsibilities to the holders of coins that they do
not want and cannot handle.
In Bitcoin, large unsophisticated coin holders can put their coins in cold
storage without a second thought given to the health of the underlying
ledger.
As much as hardcore Bitcoiners try to convince them to run their own node,
most don't, and that's perfectly acceptable.
At no point do their personal decisions affect the underlying consensus --
it only affects their personal security assurance (not that of the system
itself).
In PoS systems this clean separation of responsibilities does not exist.

I think that the more rigorously studied PoS protocols will work fine
within the security claims made in their papers.
People who believe that these protocols are destined for catastrophic
consensus failure are certainly in for a surprise.
But the devil is in the detail.
Let's look at what the implications of using the leading proof of stake
protocols would have on Bitcoin:

### Proof of SquareSpace (Cardano, Polkdadot)

Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an
inbuilt on-chain delegation system[5].
In these protocols, coin holders who do not want to run their node with
their hot keys in it delegate it to a "Stake Pool".
I call the resulting system Proof-of-SquareSpace since most will choose a
pool by looking around for one with a nice website and offering the largest
share of the block reward.
On the surface this might sound no different than someone with an mining
rig shopping around for a good mining pool but there are crucial
differences:

1. The person making the decision is forced into it just because they own
the currency -- someone with a mining rig has purchased it with the intent
to make profit by participating in consensus.

2. When you join a mining pool your systems are very much still online. You
are just partaking in a pool to reduce your profit variance. You still see
every block that you help create and *you never help create a block without
seeing it first*.

3. If by SquareSpace sybil attack you gain a dishonest majority and start
censoring transactions how are the users meant to redelegate their stake to
honest pools?
I guess they can just send a transaction delegating to another pool...oh
wait I guess that might be censored too! This seems really really bad.
In Bitcoin, miners can just join a different pool at a whim. There is
nothing the attacker can do to stop them. A temporary dishonest majority
heals relatively well.

There is another severe disadvantage to this on-chain delegation system:
every UTXO must indicate which staking account this UTXO belongs to so the
appropriate share of block rewards can be transferred there.
Being able to associate every UTXO to an account ruins one of the main
privacy advantages of the UTXO model.
It also grows the size of the blockchain significantly.

### "Pure" proof of stake (Algorand)

Algorand's[4] approach is to only allow online stake to participate in the
protocol.
Theoretically, This means that keys holding funds have to be online in
order for them to author blocks when they are chosen.
Of course in reality no one wants to keep their coin holding keys online so
in Alogorand you can authorize a set of "participation keys"[1] that will
be used to create blocks on your coin holding key's behalf.
Hopefully you've spotted the problem.
You can send your participation keys to any malicious party with a nice
website (see random example [2]) offering you a good return.
Damn it's still Proof-of-SquareSpace!
The minor advantage is that at least the participation keys expire after a
certain amount of time so eventually the SquareSpace attacker will lose
their hold on consensus.
Importantly there is also less junk on the blockchain because the
participation keys are delegated off-chain and so are not making as much of
a mess.

### Conclusion

I don't see a way to get around the conflicting requirement that the keys
for large amounts of coins should be kept offline but those are exactly the
coins we need online to make the scheme secure.
If we allow delegation then we open up a new social attack surface and it
degenerates to Proof-of-SquareSpace.

For a "digital gold" like system like Bitcoin we optimize for simplicity
and desperately want to avoid extraneous responsibilities for the holder of
the coin.
After all, gold is an inert element on the periodic table that doesn't
confer responsibilities on the holder to maintain the quality of all the
other bars of gold out there.
Bitcoin feels like this too and in many ways is more inert and beautifully
boring than gold.
For Bitcoin to succeed I think we need to keep it that way and
Proof-of-Stake makes everything a bit too exciting.

I suppose in the end the market will decide what is real digital gold and
whether these bad technical trade offs are worth being able to say it uses
less electricity. It goes without saying that making bad technical
decisions to appease the current political climate is an anathema to
Bitcoin.

Would be interested to know if you or others think differently on these
points.

[1]:
https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
[2]: https://staking.staked.us/algorand-staking
[3]: https://eprint.iacr.org/2017/573.pdf
[4]:
https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
[5]:
https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf

Cheers,

LL

On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> I think there is a lot of misinformation and bias against Proof of Stake.
> Yes there have been lots of shady coins that use insecure PoS mechanisms.
> Yes there have been massive issues with distribution of PoS coins (of
> course there have also been massive issues with PoW coins as well).
> However, I want to remind everyone that there is a difference between
> "proved to be impossible" and "have not achieved recognized success yet".
> Most of the arguments levied against PoS are out of date or rely on
> unproven assumptions or extrapolation from the analysis of a particular PoS
> system. I certainly don't think we should experiment with bitcoin by
> switching to PoS, but from my research, it seems very likely that there is
> a proof of stake consensus protocol we could build that has substantially
> higher security (cost / capital required to execute an attack) while at the
> same time costing far less resources (which do translate to fees on the
> network) *without* compromising any of the critical security properties
> bitcoin relies on. I think the critical piece of this is the disagreements
> around hardcoded checkpoints, which is a critical piece solving attacks
> that could be levied on a PoS chain, and how that does (or doesn't) affect
> the security model.
>
> @Eric Your proof of stake fallacy seems to be saying that PoS is worse
> when a 51% attack happens. While I agree, I think that line of thinking
> omits important facts:
> * The capital required to 51% attack a PoS chain can be made substantially
> greater than on a PoS chain.
> * The capital the attacker stands to lose can be substantially greater as
> well if the attack is successful.
> * The effectiveness of paying miners to raise the honest fraction of
> miners above 50% may be quite bad.
> * Allowing a 51% attack is already unacceptable. It should be considered
> whether what happens in the case of a 51% may not be significantly
> different. The currency would likely be critically damaged in a 51% attack
> regardless of consensus mechanism.
>
> > Proof-of-stake tends towards oligopolistic control
>
> People repeat this often, but the facts support this. There is no
> centralization pressure in any proof of stake mechanism that I'm aware of.
> IE if you have 10 times as much coin that you use to mint blocks, you
> should expect to earn 10x as much minting revenue - not more than 10x. By
> contrast, proof of work does in fact have clear centralization pressure -
> this is not disputed. Our goal in relation to that is to ensure that the
> centralization pressure remains insignifiant. Proof of work also clearly
> has a lot more barriers to entry than any proof of stake system does. Both
> of these mean the tendency towards oligopolistic control is worse for PoW.
>
> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>
> I certainly agree. Bitcoin's energy usage at the moment is I think quite
> warranted. However, the question is: can we do substantially better. I
> think if we can, we probably should... eventually.
>
> > Proof of Stake is only resilient to ? of the network demonstrating a
> Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>
> I see no mention of this in the pos.pdf
> <https://download.wpsoftware.net/bitcoin/pos.pdf> you linked to. I'm not
> aware of any proof that *all *PoS systems have a failure threshold of
> 1/3. I know that staking systems like Casper do in fact have that 1/3
> requirement. However there are PoS designs that should exceed that up to
> nearly 50% as far as I'm aware. Proof of work is not in fact resilient up
> to the 1/2 threshold in the way you would think. IE, if 100% of miners are
> currently honest and have a collective 100 exahashes/s hashpower, an
> attacker does not need to obtain 100 exahashes/s, but actually only needs
> to accumulate 50 exahashes/s. This is because as the attacker accumulates
> hashpower, it drives honest miners out of the market as the difficulty
> increases to beyond what is economically sustainable. Also, its been shown
> that the best proof of work can do is require an attacker to obtain 33% of
> the hashpower because of the selfish mining attack
> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack> discussed
> in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both
> of these things reduce PoW's security by a factor of about 83% (1 -
> 50%*33%).
>
>  > Proof of Stake requires other trade-offs which are incompatible with
> Bitcoin's objective (to be a trustless digital cash) ? specifically the
> famous "security vs. liveness" guarantee
>
> Do you have a good source that talks about why you think proof of stake
> cannot be used for a trustless digital cash?
>
> > You cannot gain tokens without someone choosing to give up those coins -
> a form of permission.
>
> This is not a practical constraint. Just like in mining, some nodes may
> reject you, but there will likely be more that will accept you, some
> sellers may reject you, but most would accept your money as payment for
> bitcoins. I don't think requiring the "permission" of one of millions of
> people in the market can be reasonably considered a "permissioned
> currency".
>
> > 2. Proof of stake must have a trusted means of timestamping to regulate
> overproduction of blocks
>
> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed
> to double their clock speeds. Both systems rely on an honest majority
> sticking to standard time.
>
>
> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>
>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>
>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP
>>> itself. PoS, VDFs, and so on are interesting but I guess there are other
>>> threads going on these topics already where they would be relevant.
>>>
>>> Also, it's important to distinguish between oPoW and these other
>>> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
>>> the core game theory or security assumptions of Hashcash and actually
>>> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>
>>> Cheers,
>>> Mike
>>>
>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
>>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>
>>>> 1. i never suggested vdf's to replace pow.
>>>>
>>>> 2. my suggestion was specifically *in the context of* a working
>>>> proof-of-burn protocol
>>>>
>>>> - vdfs used only for timing (not block height)
>>>> - blind-burned coins of a specific age used to replace proof of work
>>>> - the required "work" per block would simply be a competition to
>>>> acquire rewards, and so miners would have to burn coins, well in
>>>> advance, and hope that their burned coins got rewarded in some far
>>>> future
>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>> value gained from proof of work... without some of the security
>>>> drawbacks
>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>> losing their work in each block)
>>>> - new burns can't be used
>>>> - old burns age out (like ASICs do)
>>>> - other requirements on burns might be needed to properly mirror the
>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>
>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>> might be more secure in the long run, and that if the entire space
>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>> up, and a hard-fork could be initiated.
>>>>
>>>> 4. i would never suggest such a thing unless i believed it was
>>>> possible that consensus was possible.  so no, this is not an "alt
>>>> coin"
>>>>
>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
>>>> wrote:
>>>> >
>>>> > Hi ZmnSCPxj,
>>>> >
>>>> > Please note that I am not suggesting VDFs as a means to save energy,
>>>> but solely as a means to make the time between blocks more constant.
>>>> >
>>>> > Zac
>>>> >
>>>> >
>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
>>>> wrote:
>>>> >>
>>>> >> Good morning Zac,
>>>> >>
>>>> >> > VDFs might enable more constant block times, for instance by
>>>> having a two-step PoW:
>>>> >> >
>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being
>>>> subject to difficulty adjustments similar to the as-is). As per the
>>>> property of VDFs, miners are able show proof of work.
>>>> >> >
>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
>>>> block takes 1 minute on average, again subject to as-is difficulty
>>>> adjustments.
>>>> >> >
>>>> >> > As a result, variation in block times will be greatly reduced.
>>>> >>
>>>> >> As I understand it, another weakness of VDFs is that they are not
>>>> inherently progress-free (their sequential nature prevents that; they are
>>>> inherently progress-requiring).
>>>> >>
>>>> >> Thus, a miner which focuses on improving the amount of energy that
>>>> it can pump into the VDF circuitry (by overclocking and freezing the
>>>> circuitry), could potentially get into a winner-takes-all situation,
>>>> possibly leading to even *worse* competition and even *more* energy
>>>> consumption.
>>>> >> After all, if you can start mining 0.1s faster than the competition,
>>>> that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>> >>
>>>> >> Regards,
>>>> >> ZmnSCPxj
>>>> _______________________________________________
>>>> bitcoin-dev mailing list
>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>
>>>
>>>
>>> --
>>> Michael Dubrovsky
>>> Founder; PoWx
>>> www.PoWx.org <http://www.powx.org/>
>>>
>>
>>
>> --
>> Michael Dubrovsky
>> Founder; PoWx
>> www.PoWx.org <http://www.powx.org/>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210523/732fa3c5/attachment-0001.html>

From jamtlu at gmail.com  Sun May 23 01:00:19 2021
From: jamtlu at gmail.com (James Lu)
Date: Sat, 22 May 2021 21:00:19 -0400
Subject: [bitcoin-dev] Reducing block reward via soft fork
Message-ID: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>

Background
===
Reducing the block reward reduces the incentive to mine. It reduces the
maximum energy price at which mining is profitable, reducing the energy use.

Bitcoins have value because they are accepted by full node users, from
individual node operators, to exchanges and custodians like Coinbase.
Anything else and the Bitcoins don't exist and are worthless. Like all
currencies, Bitcoin has value because others recognize that they have value.

Idea
===
Reduce the block reward by adding fewer coins to the UTXO set per block.
This should be done gradually

Consensus layer
===
This is a soft fork, because it tightens the

Some Possible Weaknesses
===
- It will cost less than a nation-state of energy to reverse recent Bitcoin
transactions.
- Some miners may protest and lobby exchanges.
- By pushing mining towards the cheapest energy sources, centralization
increases towards Chinese miners.
- The Bitcoin network may split if consensus is not built before flag day.

However, given the current political headwinds and widespread public
discussion around Bitcoin's energy use, it may be socially possible to ask
individual users and major exchanges to install a version of Bitcoin with a
reduced block reward.

Alternatives
===
Instead of outright rejecting transactions (and the blocks that contain
them) that attempt to spend increased block rewards, treat them as no-ops.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210522/d4bec4ce/attachment.html>

From ZmnSCPxj at protonmail.com  Sun May 23 11:01:32 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Sun, 23 May 2021 11:01:32 +0000
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
In-Reply-To: <CABm2gDq5hMN+-BUfY07KEDca0wCjN4G=iWptenBhzjZ3X9Mn7w@mail.gmail.com>
References: <DM6PR02MB6187B30D0941044E24699FF8CD299@DM6PR02MB6187.namprd02.prod.outlook.com>
 <CABm2gDpSWEA+AU1OKGBatuFT8biSO2S8MxfvRH8wHbF7=OEetQ@mail.gmail.com>
 <DM6PR02MB6187F5E2A74950211F3934C9CD289@DM6PR02MB6187.namprd02.prod.outlook.com>
 <CABm2gDq5hMN+-BUfY07KEDca0wCjN4G=iWptenBhzjZ3X9Mn7w@mail.gmail.com>
Message-ID: <Pe0KEu5sh80-Bz1nMjOCVhi_tA48kDEFTE5YFob61ADSD_2G9AIFwdJ8VLZnaG6He-elxnFaysFt4588vTWepc4H7xrgESZEav16LECw68I=@protonmail.com>

Good morning Jorge, et al,

> Hardforks can be useful too.
> But, yes, I agree softforks are preferable whenever possible.

I think in principle the space of possible softforks is very much wider than can be trivially expected.

For instance, maaku7 once proposed a softfork that could potentially change the block discovery rate as a softfork.
Although this required exploiting a consensus bug that has since been closed.

The example of SegWit shows us that we can in fact create massive changes to the transaction and block formats with a softfork.

For example, it is possible to change the Merkle Tree to use SHA3 instead, in a softfork, by requiring that miners no longer use the "normal" existing Merkle Tree, but instead to require miners to embed a commitment to the SHA3-Merkle-Tree on the coinbase of the "original" block format, and to build "empty" SHA2-Merkle-Trees containing only the coinbase.
To unupgraded nodes it looks as if there is a denial-of-service attack permanently, while upgraded nodes will seek blocks that conform to the SHA3-Merkle-Tree embedded in the coinbase.

(Do note that this definition of "softfork" is the "> 50% of miners is enough to pull everyone to the fork".
Some thinkers have a stricter definition of "softfork" as "non-upgraded nodes can still associate addresses to values in the UTXO set but might not be able to detect consensus rules violations in new address types", which fits SegWit and Taproot.)

(In addition, presumably the reason to switch to SHA3 is to avoid potential preimage attacks on SHA2, and the coinbase is still in a SHA2-Merkle-Tree, so... this is a bad example)

Perhaps the only things that cannot be usefully changed in a softfork is the block header format and how proof-of-work is computed from the block header.
But the flexibility of the coinbase allows us to hook new commitments to new Merkle Trees to it, which allows transactions to be annotated with additional information that is invisible to unupgraded nodes (similar to the `witness` field of SegWit transactions).


------------


Even if you *do* have a softfork, we should be reminded to look at the histories of SegWit and Taproot.

SegWit became controversial later on, which delayed its activation.

On the other hand, Taproot had no significant controversy and it was widely accepted as being a definite improvement to the network.
Yet its implementation and deployment still took a long time, and there was still controversy on how to properly implement the activation code.

Any hardforks would not only have to go through the hurdles that Taproot and SegWit had to go through, but will *also* have to pass through the much higher hurdle of being a hardfork.

Thus, anyone contemplating a hardfork, for any reason, must be prepared to work on it for several **years** before anyone even frowns and says "hmm maybe" instead of everyone just outright dismissing it with a simple "hardfork = hard pass".
As a simple estimate, I would assume that any hardfork would require twice the average amount of engeineering-manpower involved in SegWit and Taproot.
(this assumes that hardforks are only twice as hard as softforks --- this estimate may be wrong, and this might provide only a minimum rather than an expected average)

There are no quick solutions in this space.
Either we work with what we have and figure out how to get around issues with no real capability to fix them at the base layer, or we have insight on future problems and start working on future solutions today.
For example, I know at least one individual was maintaining an "emergency" branch to add some kind of post-quantum signature scheme to Bitcoin, in case of a quantum break.

Regards,
ZmnSCPxj

From ZmnSCPxj at protonmail.com  Sun May 23 11:26:59 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Sun, 23 May 2021 11:26:59 +0000
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
Message-ID: <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>

Good morning James,

> Background
> ===
> Reducing the block reward reduces the incentive to mine. It reduces the maximum energy price at which mining is profitable, reducing the energy use.
>

If people want to retain previous levels of security, they can offer to pay higher fees, which increases the miner reward and thereby increasing the energy use again.
The only difference is that the security is paid for directly by transactors rather than slowly extracted from HODLers.

Thus, I expect that the energy use of Bitcoin will fairly closely match its security usage, even with this change.

Really, though:

* The issue is not energy use.
* The issue is the energy *efficiency*.

Everything important requires energy.
What is needed is to get the most amount of work for the least amount of entropy-increase.

Deleterious environmental effects (pollution, temperature rise, and so on) are symptoms of entropy-increase in the local universe.
These have long-term negative effects from the simple fact that we are producing entropy and dumping it into our surroundings.

If these effects are properly charged to their instigators (e.g. carbon emissions fines), then the negative environmental effects will become economic disincentives, that miners will now naturally avoid in order to increase their profitability.
This holds no matter how much block rewards are, and how much comes from the block subsidy or from mining fees.

The trope that the "free market" is somehow opposed to "environmentalism" is about as accurate to real life as Hollywood hacking "I can crack AES-256 in exactly 30 minutes".
Properly account for the entropy increase (energy usage) of all kinds of pollution, and the free market will naturally seek sustainable and renewable processes --- because that maximizes profitability in the long run.
Anyone who pushes for environmentalism but refuses to use Bitcoin should be treated with suspicion of either hypocrisy or massive ignorance --- Bitcoin is the most honest currency in accounting for its energy usage and consumption, and I suspect most other currencies have far worse efficiencies, that happen to be hidden because they are not properly accounted for.

What is needed is to enforce that pollution be paid for by those who cause it --- this can require significant political influence to do (a major world government is a major polluter, willing to pay for high fuel costs just to ship their soldiers globally, polluting the environments of foreign countries), and should be what true environmentalists would work towards, not rejecting Bitcoin as an environmental disaster (which is frankly laughable).
Remember, the free market only works correctly if all its costs are accounted correctly --- otherwise it will treat costs subsidized by the community of human beings as a resource to pump.

> Alternatives
> ===
> Instead of outright rejecting transactions (and the blocks that contain them) that attempt to spend increased block rewards, treat them as no-ops.

That is inefficient --- the "no-op" transactions reduce the available block space for operational transactions, thus this alternative is strictly inferior to a simple acceleration of block subsidy reduction.

Regards,
ZmnSCPXj

From anton at etc-group.com  Sun May 23 10:42:49 2021
From: anton at etc-group.com (Anton Ragin)
Date: Sun, 23 May 2021 11:42:49 +0100
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
Message-ID: <CAPyV_jCdzH7zo1LsoF0gbYZ87KioVtMVR16+91aod+0SF-EAvw@mail.gmail.com>

Well, it is done automatically every 4 years :) It is a self-balancing
system - more people shout about Bitcoin being dirty -> less adoption ->
lower the price -> less energy consumption. Add on top the fact that in
2024 block rewards will fall 50% anyway and someday it will be zero.

I am all for making Bitcoin green(er), but IMHO there shall be no
short-termism of the sort "Elon complained + price dropped 40% - lets go
radically change things".

IMHO if we want to make BTC cleaner we can add functionality where users
can prioritise some miners over the others, with the view that users will
prioritise "green" miners and they will get more TX fees, and there will be
economic incentive to go green.

On Sun, 23 May 2021, 09:49 James Lu via bitcoin-dev, <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Background
> ===
> Reducing the block reward reduces the incentive to mine. It reduces the
> maximum energy price at which mining is profitable, reducing the energy use.
>
> Bitcoins have value because they are accepted by full node users, from
> individual node operators, to exchanges and custodians like Coinbase.
> Anything else and the Bitcoins don't exist and are worthless. Like all
> currencies, Bitcoin has value because others recognize that they have value.
>
> Idea
> ===
> Reduce the block reward by adding fewer coins to the UTXO set per block.
> This should be done gradually
>
> Consensus layer
> ===
> This is a soft fork, because it tightens the
>
> Some Possible Weaknesses
> ===
> - It will cost less than a nation-state of energy to reverse recent
> Bitcoin transactions.
> - Some miners may protest and lobby exchanges.
> - By pushing mining towards the cheapest energy sources, centralization
> increases towards Chinese miners.
> - The Bitcoin network may split if consensus is not built before flag day.
>
> However, given the current political headwinds and widespread public
> discussion around Bitcoin's energy use, it may be socially possible to
> ask individual users and major exchanges to install a version of Bitcoin
> with a reduced block reward.
>
> Alternatives
> ===
> Instead of outright rejecting transactions (and the blocks that contain
> them) that attempt to spend increased block rewards, treat them as no-ops.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210523/a3c73dd7/attachment-0001.html>

From gmkarl at gmail.com  Sun May 23 12:08:33 2021
From: gmkarl at gmail.com (Karl)
Date: Sun, 23 May 2021 08:08:33 -0400
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
Message-ID: <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>

On 5/23/21, ZmnSCPxj via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org> wrote:
> Good morning James,
>
>> Background
>> ===
>> Reducing the block reward reduces the incentive to mine. It reduces the
>> maximum energy price at which mining is profitable, reducing the energy
>> use.
>>
>
> If people want to retain previous levels of security, they can offer to pay
> higher fees, which increases the miner reward and thereby increasing the
> energy use again.

The turn-around time for that takes a population of both users and
miners to cause.  Increasing popularity of bitcoin has a far bigger
impact here, and it is already raising fees and energy use at an
established rate.

If it becomes an issue, as bandwidth increases block size could be
raised to lower fees.

> Properly account for the entropy increase (energy usage) of all kinds of
> pollution, and the free market will naturally seek sustainable and renewable
> processes --- because that maximizes profitability in the long run.

There is little economic incentive to fine carbon emissions because
there is no well-established quick path to gain profit from reducing
them.  The feedback paths you describe take decades if not hundreds of
years.

But it sounds like you are saying you would rather the energy issue
stay a political one that does not involve bitcoin.  Your point is
quite relevant because bitcoin is not the largest consumer of energy;
those who care about reducing energy use would be better put to look
at other concerns.

The reason to reduce _bitcoin's_ energy use, would simply be to aid
its popularity and quell public concern.  Without doing this, people
move to an altcoin, because increasing the value of bitcoin via
spreading its use, increases the demand for mining.  That human
decision is part of the honesty you describe.

> What is needed is to enforce that pollution be paid for by those who cause
> it --- this can require significant political influence to do (a major world
> government is a major polluter, willing to pay for high fuel costs just to
> ship their soldiers globally, polluting the environments of foreign
> countries), and should be what true environmentalists would work towards,
> not rejecting Bitcoin as an environmental disaster (which is frankly
> laughable).
>
> Remember, the free market only works correctly if all its costs are
> accounted correctly --- otherwise it will treat costs subsidized by the
> community of human beings as a resource to pump.

It sounds like you would prefer a proof-of-work function that directly
proved carbon offsetting?  And an on-chain tax for environmental harm?

On 5/23/21, Anton Ragin via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org> wrote:
> Well, it is done automatically every 4 years :) It is a self-balancing
> system - more people shout about Bitcoin being dirty -> less adoption ->
> lower the price -> less energy consumption. Add on top the fact that in
> 2024 block rewards will fall 50% anyway and someday it will be zero.

Is hashrate rising slower than the block reward is dropping, that you
mention the 4 years halving?  Do you see a problem with dropping the
block reward to make faster change to the hashrate curve, that you
mention the existing system's weaker approach?

I personally wasn't aware that Elon had complained; I've been hearing
the complaint from scads of people for many years.

From ZmnSCPxj at protonmail.com  Sun May 23 13:35:12 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Sun, 23 May 2021 13:35:12 +0000
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
Message-ID: <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>

Good morning Karl,

> On 5/23/21, ZmnSCPxj via bitcoin-dev
> bitcoin-dev at lists.linuxfoundation.org wrote:
>
> > Good morning James,
> >
> > > Background
> > >
> > > ===========
> > >
> > > Reducing the block reward reduces the incentive to mine. It reduces the
> > > maximum energy price at which mining is profitable, reducing the energy
> > > use.
> >
> > If people want to retain previous levels of security, they can offer to pay
> > higher fees, which increases the miner reward and thereby increasing the
> > energy use again.
>
> The turn-around time for that takes a population of both users and
> miners to cause. Increasing popularity of bitcoin has a far bigger
> impact here, and it is already raising fees and energy use at an
> established rate.
>
> If it becomes an issue, as bandwidth increases block size could be
> raised to lower fees.
>

Which increases block rewards somewhat (at least to some level that matches the overall security of the network) and you still have the same amount of energy consumed.

> > Properly account for the entropy increase (energy usage) of all kinds of
> > pollution, and the free market will naturally seek sustainable and renewable
> > processes --- because that maximizes profitability in the long run.
>
> There is little economic incentive to fine carbon emissions because
> there is no well-established quick path to gain profit from reducing
> them. The feedback paths you describe take decades if not hundreds of
> years.
>
> But it sounds like you are saying you would rather the energy issue
> stay a political one that does not involve bitcoin. Your point is
> quite relevant because bitcoin is not the largest consumer of energy;
> those who care about reducing energy use would be better put to look
> at other concerns.

Precisely.

> > What is needed is to enforce that pollution be paid for by those who cause
> > it --- this can require significant political influence to do (a major world
> > government is a major polluter, willing to pay for high fuel costs just to
> > ship their soldiers globally, polluting the environments of foreign
> > countries), and should be what true environmentalists would work towards,
> > not rejecting Bitcoin as an environmental disaster (which is frankly
> > laughable).
> > Remember, the free market only works correctly if all its costs are
> > accounted correctly --- otherwise it will treat costs subsidized by the
> > community of human beings as a resource to pump.
>
> It sounds like you would prefer a proof-of-work function that directly
> proved carbon offsetting? And an on-chain tax for environmental harm?


The problem is that the only proof of efficiency here is implicit: any inefficiency will eventually be rooted out of the network, as any inefficiency will translate to reduced profitability.
However, at short-term, a miner can pollute its locality, and then exit the business and leave its crap lying around for others to deal with and abscond with pure profit.
This translates to a theft in the profitability of others in the locality.

How to prove this is not happening?
The best you can do is to have some number of authorities sign off on whether or not they are doing this.
The problem is that authorities are bribeable.

Alternately, other entities in the locality can use force to require the polluting entity to clean up or suffer significant consequences.
This at least is better incentive-wise, as they others in the same locality are the ones most affected, but the ability to enforce may be difficult due to various political constructions; the miners could be in such deep cahoots with the local government that the local government would willingly hurt other local entities in the vicinity of the polluting entity.



Regards,
ZmnSCPxj

From jamtlu at gmail.com  Sun May 23 14:40:31 2021
From: jamtlu at gmail.com (James Lu)
Date: Sun, 23 May 2021 10:40:31 -0400
Subject: [bitcoin-dev] Fwd:  Reducing block reward via soft fork
In-Reply-To: <CANQHGB2pD57cZzcuTqr25Pg-Bvon_=G=_5901to2esrcumk-GA@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <CAPyV_jCdzH7zo1LsoF0gbYZ87KioVtMVR16+91aod+0SF-EAvw@mail.gmail.com>
 <CANQHGB2pD57cZzcuTqr25Pg-Bvon_=G=_5901to2esrcumk-GA@mail.gmail.com>
Message-ID: <CANQHGB1TWKfpNe2f6CsFKooRtbUeRbRSePGgd+w7COT55U3KZQ@mail.gmail.com>

> Well, it is done automatically every 4 years :)
Bitcoin's price has always been increasing exponentially faster than the
block size has been exponentially decreasing.

> It is a self-balancing system - more people shout about Bitcoin being
dirty -> less adoption -> lower the price -> less energy consumption.
Surely we can strive for adoption and be environmentally friendly?

Bitcoin currently consumes as much power as a small nation-state, giving it
nation-state security. A 51% attack can reverse recent transactions. I
don't think 99% of transactions need that level of security? and if we
don't improve environmental-friendliness, adoption will decrease, so the
price will decrease, so less mining will happen, so security will be hurt
anyway.

> I am all for making Bitcoin green(er), but IMHO there shall be no
short-termism of the sort "Elon complained + price dropped 40% - lets go
radically change things".
I agree, Bitcoin shouldn't do anything just because a celebrity said
something. However, this would be the ideal time to make such a change,
riding off the public attitude to build social consensus around such a
change.

Also, this reduces inflation, good for Bitcoin hodlers ;)

> IMHO if we want to make BTC cleaner we can add functionality where users
can prioritise some miners over the others, with the view that users will
prioritise "green" miners and they will get more TX fees, and there will be
economic incentive to go green.
This proposal would be great too.

On Sun, May 23, 2021 at 6:42 AM Anton Ragin <anton at etc-group.com> wrote:

> Well, it is done automatically every 4 years :) It is a self-balancing
> system - more people shout about Bitcoin being dirty -> less adoption ->
> lower the price -> less energy consumption. Add on top the fact that in
> 2024 block rewards will fall 50% anyway and someday it will be zero.
>
> I am all for making Bitcoin green(er), but IMHO there shall be no
> short-termism of the sort "Elon complained + price dropped 40% - lets go
> radically change things".
>
> IMHO if we want to make BTC cleaner we can add functionality where users
> can prioritise some miners over the others, with the view that users will
> prioritise "green" miners and they will get more TX fees, and there will be
> economic incentive to go green.
>
> On Sun, 23 May 2021, 09:49 James Lu via bitcoin-dev, <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Background
>> ===
>> Reducing the block reward reduces the incentive to mine. It reduces the
>> maximum energy price at which mining is profitable, reducing the energy use.
>>
>> Bitcoins have value because they are accepted by full node users, from
>> individual node operators, to exchanges and custodians like Coinbase.
>> Anything else and the Bitcoins don't exist and are worthless. Like all
>> currencies, Bitcoin has value because others recognize that they have value.
>>
>> Idea
>> ===
>> Reduce the block reward by adding fewer coins to the UTXO set per block.
>> This should be done gradually
>>
>> Consensus layer
>> ===
>> This is a soft fork, because it tightens the
>>
>> Some Possible Weaknesses
>> ===
>> - It will cost less than a nation-state of energy to reverse recent
>> Bitcoin transactions.
>> - Some miners may protest and lobby exchanges.
>> - By pushing mining towards the cheapest energy sources, centralization
>> increases towards Chinese miners.
>> - The Bitcoin network may split if consensus is not built before flag day.
>>
>> However, given the current political headwinds and widespread public
>> discussion around Bitcoin's energy use, it may be socially possible to
>> ask individual users and major exchanges to install a version of Bitcoin
>> with a reduced block reward.
>>
>> Alternatives
>> ===
>> Instead of outright rejecting transactions (and the blocks that contain
>> them) that attempt to spend increased block rewards, treat them as no-ops.
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210523/01f83735/attachment-0001.html>

From vjudeu at gazeta.pl  Sun May 23 16:02:45 2021
From: vjudeu at gazeta.pl (vjudeu)
Date: Sun, 23 May 2021 18:02:45 +0200
Subject: [bitcoin-dev] Tweaking tapscript instead of public key
Message-ID: <132101705-ebaab3ce4df3e652b9f8ce0ce856f62e@pmq7v.m5r2.onet>

As far as I know, P2TR address contains 32-byte public key. It can be used directly by creating Schnorr signature or indirectly, by revealing tapscript. Does it mean that any taproot output could be modified on-the-fly after being confirmed without changing an address? I mean, if we have base point as the private key with P2TR address tb1p0xlxvlhemja6c4dqv22uapctqupfhlxm9h8z3k2e72q4k9hcz7vqqzj3dz, then the owner of that key can modify spending conditions without moving on-chain coins?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210523/ef943c18/attachment.html>

From vjudeu at gazeta.pl  Sun May 23 16:27:47 2021
From: vjudeu at gazeta.pl (vjudeu)
Date: Sun, 23 May 2021 18:27:47 +0200
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
Message-ID: <132915149-33e6cd5749dc76930de03704c89b4399@pmq3v.m5r2.onet>

> Perhaps the only things that cannot be usefully changed in a softfork is the block header format and how proof-of-work is computed from the block header.

Why not? I can imagine a soft fork where the block header would contain SHA-256 and SHA-3 hashes in the same place. The SHA-256 would be calculated as-is, but the SHA-3 would be truncated only to cover zero bits in SHA-256 hashes. In this way, if SHA-256 would be totally broken, old nodes would see zero hashes in the previous block hash and the merkle tree hash, but the new nodes would see correct SHA-3 hashes in the same place. So, for example if we have 1d00ffff difficulty, the first 32-bits would be zeroes for all old nodes, but all new nodes would see SHA-3 truncated to 32-bits in the same place. The difficulty could tell us how many zero bits we should truncate our SHA-3 result to. Also, in the same way we could introduce SHA-4 in the future as a soft-fork if SHA-3 would be broken and we would see many zero bits in our mixed SHA-256 plus SHA-3 consensus.

On 2021-05-23 13:01:32 user ZmnSCPxj via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
> Good morning Jorge, et al,
> 
> > Hardforks can be useful too.
> > But, yes, I agree softforks are preferable whenever possible.
> 
> I think in principle the space of possible softforks is very much wider than can be trivially expected.
> 
> For instance, maaku7 once proposed a softfork that could potentially change the block discovery rate as a softfork.
> Although this required exploiting a consensus bug that has since been closed.
> 
> The example of SegWit shows us that we can in fact create massive changes to the transaction and block formats with a softfork.
> 
> For example, it is possible to change the Merkle Tree to use SHA3 instead, in a softfork, by requiring that miners no longer use the "normal" existing Merkle Tree, but instead to require miners to embed a commitment to the SHA3-Merkle-Tree on the coinbase of the "original" block format, and to build "empty" SHA2-Merkle-Trees containing only the coinbase.
> To unupgraded nodes it looks as if there is a denial-of-service attack permanently, while upgraded nodes will seek blocks that conform to the SHA3-Merkle-Tree embedded in the coinbase.
> 
> (Do note that this definition of "softfork" is the "> 50% of miners is enough to pull everyone to the fork".
> Some thinkers have a stricter definition of "softfork" as "non-upgraded nodes can still associate addresses to values in the UTXO set but might not be able to detect consensus rules violations in new address types", which fits SegWit and Taproot.)
> 
> (In addition, presumably the reason to switch to SHA3 is to avoid potential preimage attacks on SHA2, and the coinbase is still in a SHA2-Merkle-Tree, so... this is a bad example)
> 
> Perhaps the only things that cannot be usefully changed in a softfork is the block header format and how proof-of-work is computed from the block header.
> But the flexibility of the coinbase allows us to hook new commitments to new Merkle Trees to it, which allows transactions to be annotated with additional information that is invisible to unupgraded nodes (similar to the `witness` field of SegWit transactions).
> 
> 
> ------------
> 
> 
> Even if you *do* have a softfork, we should be reminded to look at the histories of SegWit and Taproot.
> 
> SegWit became controversial later on, which delayed its activation.
> 
> On the other hand, Taproot had no significant controversy and it was widely accepted as being a definite improvement to the network.
> Yet its implementation and deployment still took a long time, and there was still controversy on how to properly implement the activation code.
> 
> Any hardforks would not only have to go through the hurdles that Taproot and SegWit had to go through, but will *also* have to pass through the much higher hurdle of being a hardfork.
> 
> Thus, anyone contemplating a hardfork, for any reason, must be prepared to work on it for several **years** before anyone even frowns and says "hmm maybe" instead of everyone just outright dismissing it with a simple "hardfork = hard pass".
> As a simple estimate, I would assume that any hardfork would require twice the average amount of engeineering-manpower involved in SegWit and Taproot.
> (this assumes that hardforks are only twice as hard as softforks --- this estimate may be wrong, and this might provide only a minimum rather than an expected average)
> 
> There are no quick solutions in this space.
> Either we work with what we have and figure out how to get around issues with no real capability to fix them at the base layer, or we have insight on future problems and start working on future solutions today.
> For example, I know at least one individual was maintaining an "emergency" branch to add some kind of post-quantum signature scheme to Bitcoin, in case of a quantum break.
> 
> Regards,
> ZmnSCPxj
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> 


From rsomsen at gmail.com  Sun May 23 17:58:13 2021
From: rsomsen at gmail.com (Ruben Somsen)
Date: Sun, 23 May 2021 19:58:13 +0200
Subject: [bitcoin-dev] Tweaking tapscript instead of public key
In-Reply-To: <132101705-ebaab3ce4df3e652b9f8ce0ce856f62e@pmq7v.m5r2.onet>
References: <132101705-ebaab3ce4df3e652b9f8ce0ce856f62e@pmq7v.m5r2.onet>
Message-ID: <CAPv7Tja_oAvJ1HUmmWTgE9JK0J8_2zbBdutY_Zzeog_cxsVS_w@mail.gmail.com>

Hi,

That's an excellent question, but note that answering such questions is not
the primary function of this mailing list. Places like Bitcoin Stack
Exchange or even IRC are probably better for that!

Specific to your question: in Taproot Q = P + hash(P||m)*G. The fact that P
is hashed together with the message, makes it a commitment. If you try to
change m to e.g. m2, then Q - hash(P||m2) will never result in P (unless
the hash function is broken).

The original Taproot thread can be found here:
https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-January/015614.html

Cheers,
Ruben

On Sun, May 23, 2021 at 7:10 PM vjudeu via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> As far as I know, P2TR address contains 32-byte public key. It can be used
> directly by creating Schnorr signature or indirectly, by revealing
> tapscript. Does it mean that any taproot output could be modified
> on-the-fly after being confirmed without changing an address? I mean, if we
> have base point as the private key with P2TR address
> tb1p0xlxvlhemja6c4dqv22uapctqupfhlxm9h8z3k2e72q4k9hcz7vqqzj3dz, then the
> owner of that key can modify spending conditions without moving on-chain
> coins?
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210523/ad739d66/attachment.html>

From ZmnSCPxj at protonmail.com  Sun May 23 18:12:00 2021
From: ZmnSCPxj at protonmail.com (ZmnSCPxj)
Date: Sun, 23 May 2021 18:12:00 +0000
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
In-Reply-To: <132915149-33e6cd5749dc76930de03704c89b4399@pmq3v.m5r2.onet>
References: <132915149-33e6cd5749dc76930de03704c89b4399@pmq3v.m5r2.onet>
Message-ID: <-VYJ8p3CqVW0Xvvwzcp-q_5CC8NXyV06zrcB7Z8AWqowP_WXuW0LWH5EcAH7IycK7IvBLzHstShdxXc-OIOBf_fLHHt6Blgl4i1StTmTyN4=@protonmail.com>

Good morning vjudeu,

> > Perhaps the only things that cannot be usefully changed in a softfork is the block header format and how proof-of-work is computed from the block header.
>
> Why not? I can imagine a soft fork where the block header would contain SHA-256 and SHA-3 hashes in the same place. The SHA-256 would be calculated as-is, but the SHA-3 would be truncated only to cover zero bits in SHA-256 hashes. In this way, if SHA-256 would be totally broken, old nodes would see zero hashes in the previous block hash and the merkle tree hash, but the new nodes would see correct SHA-3 hashes in the same place. So, for example if we have 1d00ffff difficulty, the first 32-bits would be zeroes for all old nodes, but all new nodes would see SHA-3 truncated to 32-bits in the same place. The difficulty could tell us how many zero bits we should truncate our SHA-3 result to. Also, in the same way we could introduce SHA-4 in the future as a soft-fork if SHA-3 would be broken and we would see many zero bits in our mixed SHA-256 plus SHA-3 consensus.

I do not think I follow.

The block header has a Merkle tree root that is a SHA-256 of some Merkle tree node, is that what you refer to?
Do you mean the same Merkle tree node has to hash to some common value in both SHA-2 and SHA-3?

Or do you refer to the `prevBlockHash`?
Do you mean the same `prevBlockHash` has to somehow be the same, for some number of bits, in both SHA-2 and SHA-3?

More specifically:

* `nVersion`: 4 bytes
* `prevBlockHash`: 32 bytes, SHA2 of previous block.
* `merkleTreeRoot`: 32 bytes, SHA2 of topmost Merkle tree node.
* `nTime`: 4 bytes, miner-imagined time.
* `nBits`: 4 bytes, encoded difficulty target
* `nonce`: 4 bytes, random number with no other meaning.

What do you refer to?

Because the above block header format is hashed to generate the `prevBlockHash` for the *next* block, it is almost impossible to change the format without a hardfork.

Regaards,
ZmnSCPxj

>
> On 2021-05-23 13:01:32 user ZmnSCPxj via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
>
> > Good morning Jorge, et al,
> >
> > > Hardforks can be useful too.
> > > But, yes, I agree softforks are preferable whenever possible.
> >
> > I think in principle the space of possible softforks is very much wider than can be trivially expected.
> > For instance, maaku7 once proposed a softfork that could potentially change the block discovery rate as a softfork.
> > Although this required exploiting a consensus bug that has since been closed.
> > The example of SegWit shows us that we can in fact create massive changes to the transaction and block formats with a softfork.
> > For example, it is possible to change the Merkle Tree to use SHA3 instead, in a softfork, by requiring that miners no longer use the "normal" existing Merkle Tree, but instead to require miners to embed a commitment to the SHA3-Merkle-Tree on the coinbase of the "original" block format, and to build "empty" SHA2-Merkle-Trees containing only the coinbase.
> > To unupgraded nodes it looks as if there is a denial-of-service attack permanently, while upgraded nodes will seek blocks that conform to the SHA3-Merkle-Tree embedded in the coinbase.
> > (Do note that this definition of "softfork" is the "> 50% of miners is enough to pull everyone to the fork".
> > Some thinkers have a stricter definition of "softfork" as "non-upgraded nodes can still associate addresses to values in the UTXO set but might not be able to detect consensus rules violations in new address types", which fits SegWit and Taproot.)
> > (In addition, presumably the reason to switch to SHA3 is to avoid potential preimage attacks on SHA2, and the coinbase is still in a SHA2-Merkle-Tree, so... this is a bad example)
> > Perhaps the only things that cannot be usefully changed in a softfork is the block header format and how proof-of-work is computed from the block header.
> > But the flexibility of the coinbase allows us to hook new commitments to new Merkle Trees to it, which allows transactions to be annotated with additional information that is invisible to unupgraded nodes (similar to the `witness` field of SegWit transactions).
> >
> > Even if you do have a softfork, we should be reminded to look at the histories of SegWit and Taproot.
> > SegWit became controversial later on, which delayed its activation.
> > On the other hand, Taproot had no significant controversy and it was widely accepted as being a definite improvement to the network.
> > Yet its implementation and deployment still took a long time, and there was still controversy on how to properly implement the activation code.
> > Any hardforks would not only have to go through the hurdles that Taproot and SegWit had to go through, but will also have to pass through the much higher hurdle of being a hardfork.
> > Thus, anyone contemplating a hardfork, for any reason, must be prepared to work on it for several years before anyone even frowns and says "hmm maybe" instead of everyone just outright dismissing it with a simple "hardfork = hard pass".
> > As a simple estimate, I would assume that any hardfork would require twice the average amount of engeineering-manpower involved in SegWit and Taproot.
> > (this assumes that hardforks are only twice as hard as softforks --- this estimate may be wrong, and this might provide only a minimum rather than an expected average)
> > There are no quick solutions in this space.
> > Either we work with what we have and figure out how to get around issues with no real capability to fix them at the base layer, or we have insight on future problems and start working on future solutions today.
> > For example, I know at least one individual was maintaining an "emergency" branch to add some kind of post-quantum signature scheme to Bitcoin, in case of a quantum break.
> > Regards,
> > ZmnSCPxj
> >
> > bitcoin-dev mailing list
> > bitcoin-dev at lists.linuxfoundation.org
> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev



From billy.tetrud at gmail.com  Sun May 23 19:10:50 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Sun, 23 May 2021 09:10:50 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
Message-ID: <CAGpPWDaBZ3Zx9VnSt01Rs5G9z1RsZgez+dF4P=PCP=jYN8M1Xg@mail.gmail.com>

@Lloyd

>  Proof-of-SquareSpace

I agree with your points about delegated proof of stake. I wrote my own
critique about that
<https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#analysis-of-delegated-proof-of-stake-dpos>
as
well. And your point, that other forms of PoS devolve to DPoS by virtue of
people wanting to actively mint blocks without exposing their coins in hot
wallets, is an interesting one.

> how are the users meant to redelegate their stake to honest pools?

This could be mitigated partially if delegation didn't require any kind of
blockchain transaction. For example, users could simply send a signed
message saying "this other key can mint blocks with my coins", and then
minting a block using those coins would require presenting the delegation
signature. This only partially mitigates the problem since the dishonest
pool would still be able to use those coins as well, so it would be a race
at that point. Still better than nothing. And pools could simply require
full custody of the coins.

>From what you mentioned, it sounds like maybe Algorand does something
similar to this.

> I don't see a way to get around the conflicting requirement that the keys
for large amounts of coins should be kept offline but those are exactly the
coins we need online to make the scheme secure.

There are a couple solutions you didn't mention. One is your "traditional"
locked-stake kind of systems, where participants are required to lock their
stake for long periods of time. Since normal users aren't likely to want to
do this, it will likely be left to more sophisticated stakers likely
staking very large amounts.

Both mechanisms you mentioned allow delegation, and it might seem like
maybe there'd be a way to disallow delegation, however since users can
always give custody of their coins to trusted pools, that would be a
delgation mechanism of last resort that can't be removed. So you can do
things that make it hard (for both users and pool operators) to delegate
trustlessly, but you can't get rid of the ability to delgate entirely.

In general, the situations where I see people not pooling are:

A. They are entirely prevented by technical means. It seems reasonably
clear that this is impossible.
B. The downsides are more than unsophisticated users are willing to incur
(eg stake locking).
C. The rewards are so small that it isn't worth it for people to put in
much effort to gain them.
D. The rewards are so frequent that pooling is unnecessary.

B excludes a lot of people from being able to help secure the chain, but
this is not materially different from PoW mining in that regard. D is a bit
border line. With 1 billion people attempting to participate and 10 minute
blocks, 232 people would need to share the block reward in order to expect
a payout on average once per month. With 8 billion people that would turn
into more like 1700 people. This seems potentially doable (eg via cosigner
requirements on minted blocks), but it is a lot of participants per block.

I think options C and D combined would be an ideal approach here. Because
minting uses very few real resources, minting could be pretty much have
arbitrarily low ongoing costs. This means fees can be low and blocks can
have low payouts. If the reward was low and people could expect to see it
once every couple years, people could simply treat it like a lottery. Great
if they win it now, but nothing that anyone needs to rely on (which would
incentivize the pools to reduce variance that we want to avoid). If there
is no locked stake or other major barriers in place to minting blocks, that
would also help avoid the compultion to use a pool.

In any case, you bring up good points, and they certainly complicate the
issue. By the way, if you were confused as to what VPoS was in the section
from my above link, this might satisfy your curiosity
<https://github.com/fresheneesz/ValidatedProofOfStake>.

Cheers




On Sat, May 22, 2021 at 5:41 PM Lloyd Fournier <lloyd.fourn at gmail.com>
wrote:

> Hi Billy,
>
> I was going to write a post which started by dismissing many of the weak
> arguments that are made against PoS made in this thread and elsewhere.
> Although I don't agree with all your points you have done a decent job
> here so I'll focus on the second part: why I think Proof-of-Stake is
> inappropriate for a Bitcoin-like system.
>
> Proof of stake is not fit for purpose for a global settlement layer in a
> pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to
> be.
> PoS necessarily gives responsibilities to the holders of coins that they
> do not want and cannot handle.
> In Bitcoin, large unsophisticated coin holders can put their coins in cold
> storage without a second thought given to the health of the underlying
> ledger.
> As much as hardcore Bitcoiners try to convince them to run their own node,
> most don't, and that's perfectly acceptable.
> At no point do their personal decisions affect the underlying consensus --
> it only affects their personal security assurance (not that of the system
> itself).
> In PoS systems this clean separation of responsibilities does not exist.
>
> I think that the more rigorously studied PoS protocols will work fine
> within the security claims made in their papers.
> People who believe that these protocols are destined for catastrophic
> consensus failure are certainly in for a surprise.
> But the devil is in the detail.
> Let's look at what the implications of using the leading proof of stake
> protocols would have on Bitcoin:
>
> ### Proof of SquareSpace (Cardano, Polkdadot)
>
> Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an
> inbuilt on-chain delegation system[5].
> In these protocols, coin holders who do not want to run their node with
> their hot keys in it delegate it to a "Stake Pool".
> I call the resulting system Proof-of-SquareSpace since most will choose a
> pool by looking around for one with a nice website and offering the largest
> share of the block reward.
> On the surface this might sound no different than someone with an mining
> rig shopping around for a good mining pool but there are crucial
> differences:
>
> 1. The person making the decision is forced into it just because they own
> the currency -- someone with a mining rig has purchased it with the intent
> to make profit by participating in consensus.
>
> 2. When you join a mining pool your systems are very much still online.
> You are just partaking in a pool to reduce your profit variance. You still
> see every block that you help create and *you never help create a block
> without seeing it first*.
>
> 3. If by SquareSpace sybil attack you gain a dishonest majority and start
> censoring transactions how are the users meant to redelegate their stake to
> honest pools?
> I guess they can just send a transaction delegating to another pool...oh
> wait I guess that might be censored too! This seems really really bad.
> In Bitcoin, miners can just join a different pool at a whim. There is
> nothing the attacker can do to stop them. A temporary dishonest majority
> heals relatively well.
>
> There is another severe disadvantage to this on-chain delegation system:
> every UTXO must indicate which staking account this UTXO belongs to so the
> appropriate share of block rewards can be transferred there.
> Being able to associate every UTXO to an account ruins one of the main
> privacy advantages of the UTXO model.
> It also grows the size of the blockchain significantly.
>
> ### "Pure" proof of stake (Algorand)
>
> Algorand's[4] approach is to only allow online stake to participate in the
> protocol.
> Theoretically, This means that keys holding funds have to be online in
> order for them to author blocks when they are chosen.
> Of course in reality no one wants to keep their coin holding keys online
> so in Alogorand you can authorize a set of "participation keys"[1] that
> will be used to create blocks on your coin holding key's behalf.
> Hopefully you've spotted the problem.
> You can send your participation keys to any malicious party with a nice
> website (see random example [2]) offering you a good return.
> Damn it's still Proof-of-SquareSpace!
> The minor advantage is that at least the participation keys expire after a
> certain amount of time so eventually the SquareSpace attacker will lose
> their hold on consensus.
> Importantly there is also less junk on the blockchain because the
> participation keys are delegated off-chain and so are not making as much of
> a mess.
>
> ### Conclusion
>
> I don't see a way to get around the conflicting requirement that the keys
> for large amounts of coins should be kept offline but those are exactly the
> coins we need online to make the scheme secure.
> If we allow delegation then we open up a new social attack surface and it
> degenerates to Proof-of-SquareSpace.
>
> For a "digital gold" like system like Bitcoin we optimize for simplicity
> and desperately want to avoid extraneous responsibilities for the holder of
> the coin.
> After all, gold is an inert element on the periodic table that doesn't
> confer responsibilities on the holder to maintain the quality of all the
> other bars of gold out there.
> Bitcoin feels like this too and in many ways is more inert and beautifully
> boring than gold.
> For Bitcoin to succeed I think we need to keep it that way and
> Proof-of-Stake makes everything a bit too exciting.
>
> I suppose in the end the market will decide what is real digital gold and
> whether these bad technical trade offs are worth being able to say it uses
> less electricity. It goes without saying that making bad technical
> decisions to appease the current political climate is an anathema to
> Bitcoin.
>
> Would be interested to know if you or others think differently on these
> points.
>
> [1]:
> https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
> [2]: https://staking.staked.us/algorand-staking
> [3]: https://eprint.iacr.org/2017/573.pdf
> [4]:
> https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
> [5]:
> https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>
> Cheers,
>
> LL
>
> On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> I think there is a lot of misinformation and bias against Proof of Stake.
>> Yes there have been lots of shady coins that use insecure PoS mechanisms.
>> Yes there have been massive issues with distribution of PoS coins (of
>> course there have also been massive issues with PoW coins as well).
>> However, I want to remind everyone that there is a difference between
>> "proved to be impossible" and "have not achieved recognized success yet".
>> Most of the arguments levied against PoS are out of date or rely on
>> unproven assumptions or extrapolation from the analysis of a particular PoS
>> system. I certainly don't think we should experiment with bitcoin by
>> switching to PoS, but from my research, it seems very likely that there is
>> a proof of stake consensus protocol we could build that has substantially
>> higher security (cost / capital required to execute an attack) while at the
>> same time costing far less resources (which do translate to fees on the
>> network) *without* compromising any of the critical security properties
>> bitcoin relies on. I think the critical piece of this is the disagreements
>> around hardcoded checkpoints, which is a critical piece solving attacks
>> that could be levied on a PoS chain, and how that does (or doesn't) affect
>> the security model.
>>
>> @Eric Your proof of stake fallacy seems to be saying that PoS is worse
>> when a 51% attack happens. While I agree, I think that line of thinking
>> omits important facts:
>> * The capital required to 51% attack a PoS chain can be made
>> substantially greater than on a PoS chain.
>> * The capital the attacker stands to lose can be substantially greater as
>> well if the attack is successful.
>> * The effectiveness of paying miners to raise the honest fraction of
>> miners above 50% may be quite bad.
>> * Allowing a 51% attack is already unacceptable. It should be considered
>> whether what happens in the case of a 51% may not be significantly
>> different. The currency would likely be critically damaged in a 51% attack
>> regardless of consensus mechanism.
>>
>> > Proof-of-stake tends towards oligopolistic control
>>
>> People repeat this often, but the facts support this. There is no
>> centralization pressure in any proof of stake mechanism that I'm aware of.
>> IE if you have 10 times as much coin that you use to mint blocks, you
>> should expect to earn 10x as much minting revenue - not more than 10x. By
>> contrast, proof of work does in fact have clear centralization pressure -
>> this is not disputed. Our goal in relation to that is to ensure that the
>> centralization pressure remains insignifiant. Proof of work also clearly
>> has a lot more barriers to entry than any proof of stake system does. Both
>> of these mean the tendency towards oligopolistic control is worse for PoW.
>>
>> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>
>> I certainly agree. Bitcoin's energy usage at the moment is I think quite
>> warranted. However, the question is: can we do substantially better. I
>> think if we can, we probably should... eventually.
>>
>> > Proof of Stake is only resilient to ? of the network demonstrating a
>> Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>
>> I see no mention of this in the pos.pdf
>> <https://download.wpsoftware.net/bitcoin/pos.pdf> you linked to. I'm not
>> aware of any proof that *all *PoS systems have a failure threshold of
>> 1/3. I know that staking systems like Casper do in fact have that 1/3
>> requirement. However there are PoS designs that should exceed that up to
>> nearly 50% as far as I'm aware. Proof of work is not in fact resilient up
>> to the 1/2 threshold in the way you would think. IE, if 100% of miners are
>> currently honest and have a collective 100 exahashes/s hashpower, an
>> attacker does not need to obtain 100 exahashes/s, but actually only needs
>> to accumulate 50 exahashes/s. This is because as the attacker accumulates
>> hashpower, it drives honest miners out of the market as the difficulty
>> increases to beyond what is economically sustainable. Also, its been shown
>> that the best proof of work can do is require an attacker to obtain 33% of
>> the hashpower because of the selfish mining attack
>> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack> discussed
>> in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both
>> of these things reduce PoW's security by a factor of about 83% (1 -
>> 50%*33%).
>>
>>  > Proof of Stake requires other trade-offs which are incompatible with
>> Bitcoin's objective (to be a trustless digital cash) ? specifically the
>> famous "security vs. liveness" guarantee
>>
>> Do you have a good source that talks about why you think proof of stake
>> cannot be used for a trustless digital cash?
>>
>> > You cannot gain tokens without someone choosing to give up those coins
>> - a form of permission.
>>
>> This is not a practical constraint. Just like in mining, some nodes may
>> reject you, but there will likely be more that will accept you, some
>> sellers may reject you, but most would accept your money as payment for
>> bitcoins. I don't think requiring the "permission" of one of millions of
>> people in the market can be reasonably considered a "permissioned
>> currency".
>>
>> > 2. Proof of stake must have a trusted means of timestamping to regulate
>> overproduction of blocks
>>
>> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed
>> to double their clock speeds. Both systems rely on an honest majority
>> sticking to standard time.
>>
>>
>> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>
>>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org>
>>> wrote:
>>>
>>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP
>>>> itself. PoS, VDFs, and so on are interesting but I guess there are other
>>>> threads going on these topics already where they would be relevant.
>>>>
>>>> Also, it's important to distinguish between oPoW and these other
>>>> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
>>>> the core game theory or security assumptions of Hashcash and actually
>>>> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>>
>>>> Cheers,
>>>> Mike
>>>>
>>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
>>>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>
>>>>> 1. i never suggested vdf's to replace pow.
>>>>>
>>>>> 2. my suggestion was specifically *in the context of* a working
>>>>> proof-of-burn protocol
>>>>>
>>>>> - vdfs used only for timing (not block height)
>>>>> - blind-burned coins of a specific age used to replace proof of work
>>>>> - the required "work" per block would simply be a competition to
>>>>> acquire rewards, and so miners would have to burn coins, well in
>>>>> advance, and hope that their burned coins got rewarded in some far
>>>>> future
>>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>>> value gained from proof of work... without some of the security
>>>>> drawbacks
>>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>>> losing their work in each block)
>>>>> - new burns can't be used
>>>>> - old burns age out (like ASICs do)
>>>>> - other requirements on burns might be needed to properly mirror the
>>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>>
>>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>>> might be more secure in the long run, and that if the entire space
>>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>>> up, and a hard-fork could be initiated.
>>>>>
>>>>> 4. i would never suggest such a thing unless i believed it was
>>>>> possible that consensus was possible.  so no, this is not an "alt
>>>>> coin"
>>>>>
>>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
>>>>> wrote:
>>>>> >
>>>>> > Hi ZmnSCPxj,
>>>>> >
>>>>> > Please note that I am not suggesting VDFs as a means to save energy,
>>>>> but solely as a means to make the time between blocks more constant.
>>>>> >
>>>>> > Zac
>>>>> >
>>>>> >
>>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
>>>>> wrote:
>>>>> >>
>>>>> >> Good morning Zac,
>>>>> >>
>>>>> >> > VDFs might enable more constant block times, for instance by
>>>>> having a two-step PoW:
>>>>> >> >
>>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being
>>>>> subject to difficulty adjustments similar to the as-is). As per the
>>>>> property of VDFs, miners are able show proof of work.
>>>>> >> >
>>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
>>>>> block takes 1 minute on average, again subject to as-is difficulty
>>>>> adjustments.
>>>>> >> >
>>>>> >> > As a result, variation in block times will be greatly reduced.
>>>>> >>
>>>>> >> As I understand it, another weakness of VDFs is that they are not
>>>>> inherently progress-free (their sequential nature prevents that; they are
>>>>> inherently progress-requiring).
>>>>> >>
>>>>> >> Thus, a miner which focuses on improving the amount of energy that
>>>>> it can pump into the VDF circuitry (by overclocking and freezing the
>>>>> circuitry), could potentially get into a winner-takes-all situation,
>>>>> possibly leading to even *worse* competition and even *more* energy
>>>>> consumption.
>>>>> >> After all, if you can start mining 0.1s faster than the
>>>>> competition, that is a 0.1s advantage where *only you* can mine *in the
>>>>> entire world*.
>>>>> >>
>>>>> >> Regards,
>>>>> >> ZmnSCPxj
>>>>> _______________________________________________
>>>>> bitcoin-dev mailing list
>>>>> bitcoin-dev at lists.linuxfoundation.org
>>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>
>>>>
>>>>
>>>> --
>>>> Michael Dubrovsky
>>>> Founder; PoWx
>>>> www.PoWx.org <http://www.powx.org/>
>>>>
>>>
>>>
>>> --
>>> Michael Dubrovsky
>>> Founder; PoWx
>>> www.PoWx.org <http://www.powx.org/>
>>> _______________________________________________
>>> bitcoin-dev mailing list
>>> bitcoin-dev at lists.linuxfoundation.org
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210523/430ad500/attachment-0001.html>

From billy.tetrud at gmail.com  Sun May 23 19:28:43 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Sun, 23 May 2021 09:28:43 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDaBZ3Zx9VnSt01Rs5G9z1RsZgez+dF4P=PCP=jYN8M1Xg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAGpPWDaBZ3Zx9VnSt01Rs5G9z1RsZgez+dF4P=PCP=jYN8M1Xg@mail.gmail.com>
Message-ID: <CAGpPWDbfZeAMpH6h05nAnxL=2dpNB9E7BJef8eNriQgGctMmaQ@mail.gmail.com>

I made a couple typos and mistakes in my couple previous emails:

* "People repeat this often, but the facts support this" -> "the facts *don't
*support this"
* "Together, both of these things reduce PoW's security by a factor of
about 83% (1 - 50%*33%)." -> "factor of about 83% (1 - 50%**(50% - 33%)/50%*)."
(I made a mistake that happened to come out to an almost identical result
coincidentally).
* "And pools could simply require full custody of the coins." -> "*But *pools
could..."

On Sun, May 23, 2021 at 9:10 AM Billy Tetrud <billy.tetrud at gmail.com> wrote:

> @Lloyd
>
> >  Proof-of-SquareSpace
>
> I agree with your points about delegated proof of stake. I wrote my own
> critique about that
> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#analysis-of-delegated-proof-of-stake-dpos> as
> well. And your point, that other forms of PoS devolve to DPoS by virtue of
> people wanting to actively mint blocks without exposing their coins in hot
> wallets, is an interesting one.
>
> > how are the users meant to redelegate their stake to honest pools?
>
> This could be mitigated partially if delegation didn't require any kind of
> blockchain transaction. For example, users could simply send a signed
> message saying "this other key can mint blocks with my coins", and then
> minting a block using those coins would require presenting the delegation
> signature. This only partially mitigates the problem since the dishonest
> pool would still be able to use those coins as well, so it would be a race
> at that point. Still better than nothing. And pools could simply require
> full custody of the coins.
>
> From what you mentioned, it sounds like maybe Algorand does something
> similar to this.
>
> > I don't see a way to get around the conflicting requirement that the
> keys for large amounts of coins should be kept offline but those are
> exactly the coins we need online to make the scheme secure.
>
> There are a couple solutions you didn't mention. One is your "traditional"
> locked-stake kind of systems, where participants are required to lock their
> stake for long periods of time. Since normal users aren't likely to want to
> do this, it will likely be left to more sophisticated stakers likely
> staking very large amounts.
>
> Both mechanisms you mentioned allow delegation, and it might seem like
> maybe there'd be a way to disallow delegation, however since users can
> always give custody of their coins to trusted pools, that would be a
> delgation mechanism of last resort that can't be removed. So you can do
> things that make it hard (for both users and pool operators) to delegate
> trustlessly, but you can't get rid of the ability to delgate entirely.
>
> In general, the situations where I see people not pooling are:
>
> A. They are entirely prevented by technical means. It seems reasonably
> clear that this is impossible.
> B. The downsides are more than unsophisticated users are willing to incur
> (eg stake locking).
> C. The rewards are so small that it isn't worth it for people to put in
> much effort to gain them.
> D. The rewards are so frequent that pooling is unnecessary.
>
> B excludes a lot of people from being able to help secure the chain, but
> this is not materially different from PoW mining in that regard. D is a bit
> border line. With 1 billion people attempting to participate and 10 minute
> blocks, 232 people would need to share the block reward in order to expect
> a payout on average once per month. With 8 billion people that would turn
> into more like 1700 people. This seems potentially doable (eg via cosigner
> requirements on minted blocks), but it is a lot of participants per block.
>
> I think options C and D combined would be an ideal approach here. Because
> minting uses very few real resources, minting could be pretty much have
> arbitrarily low ongoing costs. This means fees can be low and blocks can
> have low payouts. If the reward was low and people could expect to see it
> once every couple years, people could simply treat it like a lottery. Great
> if they win it now, but nothing that anyone needs to rely on (which would
> incentivize the pools to reduce variance that we want to avoid). If there
> is no locked stake or other major barriers in place to minting blocks, that
> would also help avoid the compultion to use a pool.
>
> In any case, you bring up good points, and they certainly complicate the
> issue. By the way, if you were confused as to what VPoS was in the section
> from my above link, this might satisfy your curiosity
> <https://github.com/fresheneesz/ValidatedProofOfStake>.
>
> Cheers
>
>
>
>
> On Sat, May 22, 2021 at 5:41 PM Lloyd Fournier <lloyd.fourn at gmail.com>
> wrote:
>
>> Hi Billy,
>>
>> I was going to write a post which started by dismissing many of the weak
>> arguments that are made against PoS made in this thread and elsewhere.
>> Although I don't agree with all your points you have done a decent job
>> here so I'll focus on the second part: why I think Proof-of-Stake is
>> inappropriate for a Bitcoin-like system.
>>
>> Proof of stake is not fit for purpose for a global settlement layer in a
>> pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to
>> be.
>> PoS necessarily gives responsibilities to the holders of coins that they
>> do not want and cannot handle.
>> In Bitcoin, large unsophisticated coin holders can put their coins in
>> cold storage without a second thought given to the health of the underlying
>> ledger.
>> As much as hardcore Bitcoiners try to convince them to run their own
>> node, most don't, and that's perfectly acceptable.
>> At no point do their personal decisions affect the underlying consensus
>> -- it only affects their personal security assurance (not that of the
>> system itself).
>> In PoS systems this clean separation of responsibilities does not exist.
>>
>> I think that the more rigorously studied PoS protocols will work fine
>> within the security claims made in their papers.
>> People who believe that these protocols are destined for catastrophic
>> consensus failure are certainly in for a surprise.
>> But the devil is in the detail.
>> Let's look at what the implications of using the leading proof of stake
>> protocols would have on Bitcoin:
>>
>> ### Proof of SquareSpace (Cardano, Polkdadot)
>>
>> Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an
>> inbuilt on-chain delegation system[5].
>> In these protocols, coin holders who do not want to run their node with
>> their hot keys in it delegate it to a "Stake Pool".
>> I call the resulting system Proof-of-SquareSpace since most will choose a
>> pool by looking around for one with a nice website and offering the largest
>> share of the block reward.
>> On the surface this might sound no different than someone with an mining
>> rig shopping around for a good mining pool but there are crucial
>> differences:
>>
>> 1. The person making the decision is forced into it just because they own
>> the currency -- someone with a mining rig has purchased it with the intent
>> to make profit by participating in consensus.
>>
>> 2. When you join a mining pool your systems are very much still online.
>> You are just partaking in a pool to reduce your profit variance. You still
>> see every block that you help create and *you never help create a block
>> without seeing it first*.
>>
>> 3. If by SquareSpace sybil attack you gain a dishonest majority and start
>> censoring transactions how are the users meant to redelegate their stake to
>> honest pools?
>> I guess they can just send a transaction delegating to another pool...oh
>> wait I guess that might be censored too! This seems really really bad.
>> In Bitcoin, miners can just join a different pool at a whim. There is
>> nothing the attacker can do to stop them. A temporary dishonest majority
>> heals relatively well.
>>
>> There is another severe disadvantage to this on-chain delegation system:
>> every UTXO must indicate which staking account this UTXO belongs to so the
>> appropriate share of block rewards can be transferred there.
>> Being able to associate every UTXO to an account ruins one of the main
>> privacy advantages of the UTXO model.
>> It also grows the size of the blockchain significantly.
>>
>> ### "Pure" proof of stake (Algorand)
>>
>> Algorand's[4] approach is to only allow online stake to participate in
>> the protocol.
>> Theoretically, This means that keys holding funds have to be online in
>> order for them to author blocks when they are chosen.
>> Of course in reality no one wants to keep their coin holding keys online
>> so in Alogorand you can authorize a set of "participation keys"[1] that
>> will be used to create blocks on your coin holding key's behalf.
>> Hopefully you've spotted the problem.
>> You can send your participation keys to any malicious party with a nice
>> website (see random example [2]) offering you a good return.
>> Damn it's still Proof-of-SquareSpace!
>> The minor advantage is that at least the participation keys expire after
>> a certain amount of time so eventually the SquareSpace attacker will lose
>> their hold on consensus.
>> Importantly there is also less junk on the blockchain because the
>> participation keys are delegated off-chain and so are not making as much of
>> a mess.
>>
>> ### Conclusion
>>
>> I don't see a way to get around the conflicting requirement that the keys
>> for large amounts of coins should be kept offline but those are exactly the
>> coins we need online to make the scheme secure.
>> If we allow delegation then we open up a new social attack surface and it
>> degenerates to Proof-of-SquareSpace.
>>
>> For a "digital gold" like system like Bitcoin we optimize for simplicity
>> and desperately want to avoid extraneous responsibilities for the holder of
>> the coin.
>> After all, gold is an inert element on the periodic table that doesn't
>> confer responsibilities on the holder to maintain the quality of all the
>> other bars of gold out there.
>> Bitcoin feels like this too and in many ways is more inert and
>> beautifully boring than gold.
>> For Bitcoin to succeed I think we need to keep it that way and
>> Proof-of-Stake makes everything a bit too exciting.
>>
>> I suppose in the end the market will decide what is real digital gold and
>> whether these bad technical trade offs are worth being able to say it uses
>> less electricity. It goes without saying that making bad technical
>> decisions to appease the current political climate is an anathema to
>> Bitcoin.
>>
>> Would be interested to know if you or others think differently on these
>> points.
>>
>> [1]:
>> https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>> [2]: https://staking.staked.us/algorand-staking
>> [3]: https://eprint.iacr.org/2017/573.pdf
>> [4]:
>> https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>> [5]:
>> https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>
>> Cheers,
>>
>> LL
>>
>> On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>>> I think there is a lot of misinformation and bias against Proof of
>>> Stake. Yes there have been lots of shady coins that use insecure PoS
>>> mechanisms. Yes there have been massive issues with distribution of PoS
>>> coins (of course there have also been massive issues with PoW coins as
>>> well). However, I want to remind everyone that there is a difference
>>> between "proved to be impossible" and "have not achieved recognized success
>>> yet". Most of the arguments levied against PoS are out of date or rely on
>>> unproven assumptions or extrapolation from the analysis of a particular PoS
>>> system. I certainly don't think we should experiment with bitcoin by
>>> switching to PoS, but from my research, it seems very likely that there is
>>> a proof of stake consensus protocol we could build that has substantially
>>> higher security (cost / capital required to execute an attack) while at the
>>> same time costing far less resources (which do translate to fees on the
>>> network) *without* compromising any of the critical security properties
>>> bitcoin relies on. I think the critical piece of this is the disagreements
>>> around hardcoded checkpoints, which is a critical piece solving attacks
>>> that could be levied on a PoS chain, and how that does (or doesn't) affect
>>> the security model.
>>>
>>> @Eric Your proof of stake fallacy seems to be saying that PoS is worse
>>> when a 51% attack happens. While I agree, I think that line of thinking
>>> omits important facts:
>>> * The capital required to 51% attack a PoS chain can be made
>>> substantially greater than on a PoS chain.
>>> * The capital the attacker stands to lose can be substantially greater
>>> as well if the attack is successful.
>>> * The effectiveness of paying miners to raise the honest fraction of
>>> miners above 50% may be quite bad.
>>> * Allowing a 51% attack is already unacceptable. It should be considered
>>> whether what happens in the case of a 51% may not be significantly
>>> different. The currency would likely be critically damaged in a 51% attack
>>> regardless of consensus mechanism.
>>>
>>> > Proof-of-stake tends towards oligopolistic control
>>>
>>> People repeat this often, but the facts support this. There is no
>>> centralization pressure in any proof of stake mechanism that I'm aware of.
>>> IE if you have 10 times as much coin that you use to mint blocks, you
>>> should expect to earn 10x as much minting revenue - not more than 10x. By
>>> contrast, proof of work does in fact have clear centralization pressure -
>>> this is not disputed. Our goal in relation to that is to ensure that the
>>> centralization pressure remains insignifiant. Proof of work also clearly
>>> has a lot more barriers to entry than any proof of stake system does. Both
>>> of these mean the tendency towards oligopolistic control is worse for PoW.
>>>
>>> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>>
>>> I certainly agree. Bitcoin's energy usage at the moment is I think quite
>>> warranted. However, the question is: can we do substantially better. I
>>> think if we can, we probably should... eventually.
>>>
>>> > Proof of Stake is only resilient to ? of the network demonstrating a
>>> Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>>
>>> I see no mention of this in the pos.pdf
>>> <https://download.wpsoftware.net/bitcoin/pos.pdf> you linked to. I'm
>>> not aware of any proof that *all *PoS systems have a failure threshold
>>> of 1/3. I know that staking systems like Casper do in fact have that 1/3
>>> requirement. However there are PoS designs that should exceed that up to
>>> nearly 50% as far as I'm aware. Proof of work is not in fact resilient up
>>> to the 1/2 threshold in the way you would think. IE, if 100% of miners are
>>> currently honest and have a collective 100 exahashes/s hashpower, an
>>> attacker does not need to obtain 100 exahashes/s, but actually only needs
>>> to accumulate 50 exahashes/s. This is because as the attacker accumulates
>>> hashpower, it drives honest miners out of the market as the difficulty
>>> increases to beyond what is economically sustainable. Also, its been shown
>>> that the best proof of work can do is require an attacker to obtain 33% of
>>> the hashpower because of the selfish mining attack
>>> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack> discussed
>>> in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both
>>> of these things reduce PoW's security by a factor of about 83% (1 -
>>> 50%*33%).
>>>
>>>  > Proof of Stake requires other trade-offs which are incompatible with
>>> Bitcoin's objective (to be a trustless digital cash) ? specifically the
>>> famous "security vs. liveness" guarantee
>>>
>>> Do you have a good source that talks about why you think proof of stake
>>> cannot be used for a trustless digital cash?
>>>
>>> > You cannot gain tokens without someone choosing to give up those coins
>>> - a form of permission.
>>>
>>> This is not a practical constraint. Just like in mining, some nodes may
>>> reject you, but there will likely be more that will accept you, some
>>> sellers may reject you, but most would accept your money as payment for
>>> bitcoins. I don't think requiring the "permission" of one of millions of
>>> people in the market can be reasonably considered a "permissioned
>>> currency".
>>>
>>> > 2. Proof of stake must have a trusted means of timestamping to
>>> regulate overproduction of blocks
>>>
>>> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed
>>> to double their clock speeds. Both systems rely on an honest majority
>>> sticking to standard time.
>>>
>>>
>>> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
>>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>
>>>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>>
>>>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org>
>>>> wrote:
>>>>
>>>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP
>>>>> itself. PoS, VDFs, and so on are interesting but I guess there are other
>>>>> threads going on these topics already where they would be relevant.
>>>>>
>>>>> Also, it's important to distinguish between oPoW and these other
>>>>> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
>>>>> the core game theory or security assumptions of Hashcash and actually
>>>>> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>>>
>>>>> Cheers,
>>>>> Mike
>>>>>
>>>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
>>>>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>
>>>>>> 1. i never suggested vdf's to replace pow.
>>>>>>
>>>>>> 2. my suggestion was specifically *in the context of* a working
>>>>>> proof-of-burn protocol
>>>>>>
>>>>>> - vdfs used only for timing (not block height)
>>>>>> - blind-burned coins of a specific age used to replace proof of work
>>>>>> - the required "work" per block would simply be a competition to
>>>>>> acquire rewards, and so miners would have to burn coins, well in
>>>>>> advance, and hope that their burned coins got rewarded in some far
>>>>>> future
>>>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>>>> value gained from proof of work... without some of the security
>>>>>> drawbacks
>>>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>>>> losing their work in each block)
>>>>>> - new burns can't be used
>>>>>> - old burns age out (like ASICs do)
>>>>>> - other requirements on burns might be needed to properly mirror the
>>>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>>>
>>>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>>>> might be more secure in the long run, and that if the entire space
>>>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>>>> up, and a hard-fork could be initiated.
>>>>>>
>>>>>> 4. i would never suggest such a thing unless i believed it was
>>>>>> possible that consensus was possible.  so no, this is not an "alt
>>>>>> coin"
>>>>>>
>>>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
>>>>>> wrote:
>>>>>> >
>>>>>> > Hi ZmnSCPxj,
>>>>>> >
>>>>>> > Please note that I am not suggesting VDFs as a means to save
>>>>>> energy, but solely as a means to make the time between blocks more constant.
>>>>>> >
>>>>>> > Zac
>>>>>> >
>>>>>> >
>>>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
>>>>>> wrote:
>>>>>> >>
>>>>>> >> Good morning Zac,
>>>>>> >>
>>>>>> >> > VDFs might enable more constant block times, for instance by
>>>>>> having a two-step PoW:
>>>>>> >> >
>>>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being
>>>>>> subject to difficulty adjustments similar to the as-is). As per the
>>>>>> property of VDFs, miners are able show proof of work.
>>>>>> >> >
>>>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
>>>>>> block takes 1 minute on average, again subject to as-is difficulty
>>>>>> adjustments.
>>>>>> >> >
>>>>>> >> > As a result, variation in block times will be greatly reduced.
>>>>>> >>
>>>>>> >> As I understand it, another weakness of VDFs is that they are not
>>>>>> inherently progress-free (their sequential nature prevents that; they are
>>>>>> inherently progress-requiring).
>>>>>> >>
>>>>>> >> Thus, a miner which focuses on improving the amount of energy that
>>>>>> it can pump into the VDF circuitry (by overclocking and freezing the
>>>>>> circuitry), could potentially get into a winner-takes-all situation,
>>>>>> possibly leading to even *worse* competition and even *more* energy
>>>>>> consumption.
>>>>>> >> After all, if you can start mining 0.1s faster than the
>>>>>> competition, that is a 0.1s advantage where *only you* can mine *in the
>>>>>> entire world*.
>>>>>> >>
>>>>>> >> Regards,
>>>>>> >> ZmnSCPxj
>>>>>> _______________________________________________
>>>>>> bitcoin-dev mailing list
>>>>>> bitcoin-dev at lists.linuxfoundation.org
>>>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Michael Dubrovsky
>>>>> Founder; PoWx
>>>>> www.PoWx.org <http://www.powx.org/>
>>>>>
>>>>
>>>>
>>>> --
>>>> Michael Dubrovsky
>>>> Founder; PoWx
>>>> www.PoWx.org <http://www.powx.org/>
>>>> _______________________________________________
>>>> bitcoin-dev mailing list
>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>
>>> _______________________________________________
>>> bitcoin-dev mailing list
>>> bitcoin-dev at lists.linuxfoundation.org
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210523/16cfd723/attachment-0001.html>

From gmkarl at gmail.com  Sun May 23 19:44:18 2021
From: gmkarl at gmail.com (Karl)
Date: Sun, 23 May 2021 15:44:18 -0400
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
Message-ID: <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>

>> The turn-around time for that takes a population of both users and
>> miners to cause. Increasing popularity of bitcoin has a far bigger
>> impact here, and it is already raising fees and energy use at an
>> established rate.
>>
>> If it becomes an issue, as bandwidth increases block size could be
>> raised to lower fees.
>>
>
> Which increases block rewards somewhat (at least to some level that matches
> the overall security of the network) and you still have the same amount of
> energy consumed.

If you mean to implicitly propose that even if halved all the way with
very large blocks, block rewards would just increase to the same
level, meaning that any attempt to decrease them has no effect, I
disagree.    I expect that if you raise the block size, eventually
there is so much supply for transactions that there are no fees at all
(nor security).  The numbers are all things the devs, miners, and
users can together control.

> How to prove this is not happening?
> The best you can do is to have some number of authorities sign off on
> whether or not they are doing this.
> The problem is that authorities are bribeable.

You could make the proof of work be a proof of environmental kindness
by coding incentives for people to place and verify proof on the
chain, and then rewarding people for acting on it as desired.  You
could code the chain to pay people to investigate and prove miners'
business practices, for example.  You could define the main chain as
one where everyone consents the proofs are valid.  There are a lot of
issues to resolve and it would be a very different chain.

There is not a single solution here.  There are innumerable possible
solutions, any one of which could be made to work with enough brains
working on it.  To use one, we need to agree on what kinds of
solutions are acceptable.

> Alternately, other entities in the locality can use force to require the
> polluting entity to clean up or suffer significant consequences.
> This at least is better incentive-wise, as they others in the same locality
> are the ones most affected, but the ability to enforce may be difficult due
> to various political constructions; the miners could be in such deep cahoots
> with the local government that the local government would willingly hurt
> other local entities in the vicinity of the polluting entity.

As bitcoin grows, if people ask some locality to enforce behavior,
they may need to be willing to enforce it themselves, too, or they
might outcompete the locality.

From vjudeu at gazeta.pl  Sun May 23 20:41:32 2021
From: vjudeu at gazeta.pl (vjudeu)
Date: Sun, 23 May 2021 22:41:32 +0200
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
Message-ID: <132931587-8b83bea7167e21d9e00510989ca34463@pmq3v.m5r2.onet>

> Because the above block header format is hashed to generate the `prevBlockHash` for the *next* block, it is almost impossible to change the format without a hardfork.

First, assume that everything should be validated as today to be backward-compatible. For that reason, removing SHA-256 is impossible. Then, notice that breaking SHA-256 would mean that there would be more and more leading zeroes in "prevBlockHash". Breaking SHA-256 fully would mean reaching all zeroes hash. So, the old client would see "prevBlockHash" with all zeroes.

Soft-fork means that previously valid blocks could be invalid, so rules should be more strict. And that means we could have two headers, one for SHA-256 and one for SHA-3. Normally, it would mean that our 80-byte headers would take 160 bytes instead. But we could compress it a little bit if we share some data.

> * `nVersion`: 4 bytes

Version would be some higher number than today and validated as today. It could be shared for both headers.

> * `prevBlockHash`: 32 bytes, SHA2 of previous block.

Previous block hash in SHA-256 would have more and more leading zeroes, so we could reuse them and fill with SHA-3 truncated to N bits. In this way, after fully breaking SHA-256 it would be fully replaced by SHA-3. Until then, first N bits could refer to truncated SHA-3 and the rest to SHA-256. When passing that to old nodes, that bits could be zeroed, but all new nodes should see them and perform SHA-3 validation.

Example:

SHA-2 of some block: 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f
SHA-3 of the same data: 95587d55da5108290c46bac70b622715ae380ef7a313febcc27aeb1c51a28d90
32 bytes stored for that block: 95587d550019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f

Of course, we should perform SHA-3 on a different data than used for SHA-2, at least merkle root should be recalculated, but it is just an example showing how single 32-byte string could store data for both hash functions.

> * `merkleTreeRoot`: 32 bytes, SHA2 of topmost Merkle tree node.

If SHA-256 would be broken, then we could use single coinbase transaction to prevent doing transactions in the old way. That transaction would contain SHA-3 of the new merkle root, as you mentioned. New nodes could treat that transaction as some kind of annex to the block header, but still doing SHA-2 is needed for backward compatibility. For that reason, storing 32 bytes for SHA-2 and 32 bytes for SHA-3 is needed, unless we have some fast way to get hash with all zeroes, then we can save that 32 bytes.

> * `nTime`: 4 bytes, miner-imagined time.

Time should be the same in both headers, so there is no need to duplicate it.

> * `nBits`: 4 bytes, encoded difficulty target

Difficulty should be different for SHA-2 and SHA-3. Finally when SHA-256 would be broken, we could reach 03000000 for SHA-256 and store only SHA-3 difficulty.

> * `nonce`: 4 bytes, random number with no other meaning.

Nonce should be also different for SHA-2 and SHA-3. If SHA-256 would be fully broken, it could be set to zero for SHA-2 and stored only for SHA-3.

On 2021-05-23 20:12:00 user ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
> Good morning vjudeu,
> 
> > > Perhaps the only things that cannot be usefully changed in a softfork is the block header format and how proof-of-work is computed from the block header.
> >
> > Why not? I can imagine a soft fork where the block header would contain SHA-256 and SHA-3 hashes in the same place. The SHA-256 would be calculated as-is, but the SHA-3 would be truncated only to cover zero bits in SHA-256 hashes. In this way, if SHA-256 would be totally broken, old nodes would see zero hashes in the previous block hash and the merkle tree hash, but the new nodes would see correct SHA-3 hashes in the same place. So, for example if we have 1d00ffff difficulty, the first 32-bits would be zeroes for all old nodes, but all new nodes would see SHA-3 truncated to 32-bits in the same place. The difficulty could tell us how many zero bits we should truncate our SHA-3 result to. Also, in the same way we could introduce SHA-4 in the future as a soft-fork if SHA-3 would be broken and we would see many zero bits in our mixed SHA-256 plus SHA-3 consensus.
> 
> I do not think I follow.
> 
> The block header has a Merkle tree root that is a SHA-256 of some Merkle tree node, is that what you refer to?
> Do you mean the same Merkle tree node has to hash to some common value in both SHA-2 and SHA-3?
> 
> Or do you refer to the `prevBlockHash`?
> Do you mean the same `prevBlockHash` has to somehow be the same, for some number of bits, in both SHA-2 and SHA-3?
> 
> More specifically:
> 
> * `nVersion`: 4 bytes
> * `prevBlockHash`: 32 bytes, SHA2 of previous block.
> * `merkleTreeRoot`: 32 bytes, SHA2 of topmost Merkle tree node.
> * `nTime`: 4 bytes, miner-imagined time.
> * `nBits`: 4 bytes, encoded difficulty target
> * `nonce`: 4 bytes, random number with no other meaning.
> 
> What do you refer to?
> 
> Because the above block header format is hashed to generate the `prevBlockHash` for the *next* block, it is almost impossible to change the format without a hardfork.
> 
> Regaards,
> ZmnSCPxj
> 
> >
> > On 2021-05-23 13:01:32 user ZmnSCPxj via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> >
> > > Good morning Jorge, et al,
> > >
> > > > Hardforks can be useful too.
> > > > But, yes, I agree softforks are preferable whenever possible.
> > >
> > > I think in principle the space of possible softforks is very much wider than can be trivially expected.
> > > For instance, maaku7 once proposed a softfork that could potentially change the block discovery rate as a softfork.
> > > Although this required exploiting a consensus bug that has since been closed.
> > > The example of SegWit shows us that we can in fact create massive changes to the transaction and block formats with a softfork.
> > > For example, it is possible to change the Merkle Tree to use SHA3 instead, in a softfork, by requiring that miners no longer use the "normal" existing Merkle Tree, but instead to require miners to embed a commitment to the SHA3-Merkle-Tree on the coinbase of the "original" block format, and to build "empty" SHA2-Merkle-Trees containing only the coinbase.
> > > To unupgraded nodes it looks as if there is a denial-of-service attack permanently, while upgraded nodes will seek blocks that conform to the SHA3-Merkle-Tree embedded in the coinbase.
> > > (Do note that this definition of "softfork" is the "> 50% of miners is enough to pull everyone to the fork".
> > > Some thinkers have a stricter definition of "softfork" as "non-upgraded nodes can still associate addresses to values in the UTXO set but might not be able to detect consensus rules violations in new address types", which fits SegWit and Taproot.)
> > > (In addition, presumably the reason to switch to SHA3 is to avoid potential preimage attacks on SHA2, and the coinbase is still in a SHA2-Merkle-Tree, so... this is a bad example)
> > > Perhaps the only things that cannot be usefully changed in a softfork is the block header format and how proof-of-work is computed from the block header.
> > > But the flexibility of the coinbase allows us to hook new commitments to new Merkle Trees to it, which allows transactions to be annotated with additional information that is invisible to unupgraded nodes (similar to the `witness` field of SegWit transactions).
> > >
> > > Even if you do have a softfork, we should be reminded to look at the histories of SegWit and Taproot.
> > > SegWit became controversial later on, which delayed its activation.
> > > On the other hand, Taproot had no significant controversy and it was widely accepted as being a definite improvement to the network.
> > > Yet its implementation and deployment still took a long time, and there was still controversy on how to properly implement the activation code.
> > > Any hardforks would not only have to go through the hurdles that Taproot and SegWit had to go through, but will also have to pass through the much higher hurdle of being a hardfork.
> > > Thus, anyone contemplating a hardfork, for any reason, must be prepared to work on it for several years before anyone even frowns and says "hmm maybe" instead of everyone just outright dismissing it with a simple "hardfork = hard pass".
> > > As a simple estimate, I would assume that any hardfork would require twice the average amount of engeineering-manpower involved in SegWit and Taproot.
> > > (this assumes that hardforks are only twice as hard as softforks --- this estimate may be wrong, and this might provide only a minimum rather than an expected average)
> > > There are no quick solutions in this space.
> > > Either we work with what we have and figure out how to get around issues with no real capability to fix them at the base layer, or we have insight on future problems and start working on future solutions today.
> > > For example, I know at least one individual was maintaining an "emergency" branch to add some kind of post-quantum signature scheme to Bitcoin, in case of a quantum break.
> > > Regards,
> > > ZmnSCPxj
> > >
> > > bitcoin-dev mailing list
> > > bitcoin-dev at lists.linuxfoundation.org
> > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> 
> 
> 

From erik at q32.com  Mon May 24 13:47:24 2021
From: erik at q32.com (Erik Aronesty)
Date: Mon, 24 May 2021 09:47:24 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
Message-ID: <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>

> I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.

proof of burn clearly solves this, since nothing is held online

>  how does proof of burn solve the "nothing at stake" problem in your view?

definition of nothing at stake: in the event of a fork, whether the
fork is accidental or a malicious, the optimal strategy for any miner
is to mine on every chain, so that the miner gets their reward no
matter which fork wins.   indeed in proof-of-stake, the proofs are
published on the very chains mines, so the incentive is magnified.

in proof-of-burn, your burn investment is always "at stake", any
redaction can result in a loss-of-burn, because burns can be tied,
precisely, to block-heights

as a result, miners no longer have an incentive to mine all chains

in this way proof of burn can be more secure than proof-of-stake, and
even more secure than proof of work







>

On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
<bitcoin-dev at lists.linuxfoundation.org> wrote:
>
> Hi Billy,
>
> I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
> Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>
> Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
> PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
> In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
> As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
> At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
> In PoS systems this clean separation of responsibilities does not exist.
>
> I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
> People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
> But the devil is in the detail.
> Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>
> ### Proof of SquareSpace (Cardano, Polkdadot)
>
> Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
> In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
> I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
> On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>
> 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>
> 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>
> 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
> I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
> In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>
> There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
> Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
> It also grows the size of the blockchain significantly.
>
> ### "Pure" proof of stake (Algorand)
>
> Algorand's[4] approach is to only allow online stake to participate in the protocol.
> Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
> Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
> Hopefully you've spotted the problem.
> You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
> Damn it's still Proof-of-SquareSpace!
> The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
> Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>
> ### Conclusion
>
> I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
> If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>
> For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
> After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
> Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
> For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>
> I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>
> Would be interested to know if you or others think differently on these points.
>
> [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
> [2]: https://staking.staked.us/algorand-staking
> [3]: https://eprint.iacr.org/2017/573.pdf
> [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
> [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>
> Cheers,
>
> LL
>
> On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>>
>> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>>
>> > Proof-of-stake tends towards oligopolistic control
>>
>> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>>
>> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>
>> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>>
>> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>
>> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>>
>>  > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>>
>> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>>
>> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>>
>> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>>
>> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>>
>> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>>
>>
>> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>
>>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>
>>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>>>
>>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>>>
>>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>>
>>>> Cheers,
>>>> Mike
>>>>
>>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>
>>>>> 1. i never suggested vdf's to replace pow.
>>>>>
>>>>> 2. my suggestion was specifically *in the context of* a working
>>>>> proof-of-burn protocol
>>>>>
>>>>> - vdfs used only for timing (not block height)
>>>>> - blind-burned coins of a specific age used to replace proof of work
>>>>> - the required "work" per block would simply be a competition to
>>>>> acquire rewards, and so miners would have to burn coins, well in
>>>>> advance, and hope that their burned coins got rewarded in some far
>>>>> future
>>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>>> value gained from proof of work... without some of the security
>>>>> drawbacks
>>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>>> losing their work in each block)
>>>>> - new burns can't be used
>>>>> - old burns age out (like ASICs do)
>>>>> - other requirements on burns might be needed to properly mirror the
>>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>>
>>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>>> might be more secure in the long run, and that if the entire space
>>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>>> up, and a hard-fork could be initiated.
>>>>>
>>>>> 4. i would never suggest such a thing unless i believed it was
>>>>> possible that consensus was possible.  so no, this is not an "alt
>>>>> coin"
>>>>>
>>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>>>> >
>>>>> > Hi ZmnSCPxj,
>>>>> >
>>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>>>> >
>>>>> > Zac
>>>>> >
>>>>> >
>>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>>>> >>
>>>>> >> Good morning Zac,
>>>>> >>
>>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>>>> >> >
>>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>>>> >> >
>>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>>>> >> >
>>>>> >> > As a result, variation in block times will be greatly reduced.
>>>>> >>
>>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>>>> >>
>>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>>> >>
>>>>> >> Regards,
>>>>> >> ZmnSCPxj
>>>>> _______________________________________________
>>>>> bitcoin-dev mailing list
>>>>> bitcoin-dev at lists.linuxfoundation.org
>>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>
>>>>
>>>>
>>>> --
>>>> Michael Dubrovsky
>>>> Founder; PoWx
>>>> www.PoWx.org
>>>
>>>
>>>
>>> --
>>> Michael Dubrovsky
>>> Founder; PoWx
>>> www.PoWx.org
>>> _______________________________________________
>>> bitcoin-dev mailing list
>>> bitcoin-dev at lists.linuxfoundation.org
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From billy.tetrud at gmail.com  Mon May 24 20:28:41 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Mon, 24 May 2021 10:28:41 -1000
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
 <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
Message-ID: <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>

Before we can decide on tradeoffs that reduce security in favor of less
energy usage, or less inflation, or whatever goal you might have for
reducing (or delaying) coinbase rewards, we need to decide as a community
how much security bitcoin *needs*.

Do we need to be secure against an attacker with a budget of $1
billion/year for an attack? $10 billion/year? More?

An upper limit would be the budget of the largest government: the US. The
US federal budget is almost $5 trillion/year. But they certainly couldn't
spend all that budget attacking bitcoin. About $3 trillion of that is
mandatory spending, which couldn't be allocated to such an attack. About
$1.5 trillion is discretionary, which includes the military budget. It
seems like an upper limit on the amount that could be siphoned from that
budget to attack bitcoin would be 5%. That would take massive political
cooperation and wheeling and dealing. Likely spending that much would not
be politically feasible, but it seems possible, since a 5% reduction in
other activities is something other departments would likely be able to
sustain with just a bit of downsizing. Or that money could simply come from
more borrowing. 5% of $1.5 trillion is $75 billion. So that seems like a
pretty solid upper limit on the amount the US could allocate to an attack
in a year, in that it seems incredibly unlikely that more money than that
could be allocated. Such an expenditure might be eventually seen as
justified since the federal reserve has been inflating the supply of
dollars by 17.5% on average every year, which would be $1 trillion next
year (and more the next, etc). A similar story is told if you calculate the
amount of seigniorage banks get access to by their ability to use
fractional reserve to inflate the supply of M2 money.  It should be
considered tho that this seigniorage doesn't give its beneficiaries that
full value, but rather some fraction of that value - say 5% earned by being
first to buy with that new money and earning interest on it. So 5% of a
trillion is $50 billion. Still, over just two years, that's enough to pay
for an attack of at least that size ($75 billion).

The budget for the government of China is about $3.6 trillion, the second
largest in the world. And since they're an authoritarian country, they can
basically do whatever they want with that money. It still seems unlikely
they would spend more than 5% of that budget on doing something like
attacking bitcoin. However, consider that China's M2 money supply has been
increasing at a rate of almost $3 trillion per year. Protecting the ability
to do this is seems like something worth spending some (printed) money on.
So perhaps at some point, spending 10 or 20% of their budget for a year or
two to attack bitcoin might seem like a good idea to some mickey mouse in
the government. That would be $720 billion/year.

So given the amount of seigniorage taken in every year by these central
banks, it would seem to justify large expenditures. I'm not sure how
realistic it would be, politically speaking, to gather $720 billion in a
single year to attack bitcoin. It seems far fetched, even if the
seigniorage they're protecting seems to justify it.

So is this the level of attack we want to be resilient to? Nearly a $1
trillion attack? I don't know. But we should figure that out as a
community. And keep in mind, the level of attack we need to defend against
depends on the size of bitcoin. The more valuable bitcoins are, the more
damaging, more lucrative, and more valuable an attack would be for
attackers. Its seems reasonable to assume that this is a linear
relationship - that if bitcoins are worth twice as much, we need twice as
much security (ie we want to make attacking bitcoin twice as costly).

The next step is figuring out a reasonable lower bound for how much it
takes to attack bitcoin. There are many attacks that can be done on
bitcoin, but the one relevant to the discussion here is a 51% attack.
Bitcoin's PoW basically is attackable buy buying about 25% of the existing
mining power (for reasons like the selfish economic attack
<https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack>
and
the economic mining monopoly attack
<https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#economic-mining-monopoly-attack>),
which is about 40 exahashes/second.

If you bought 400,000 WhatsMiner M30S+ rigs
<https://www.buybitcoinworldwide.com/mining/hardware/> at current market
price, you'd need $1 billion to buy them all (which doesn't include the
cost of setting up all that equipment, powering it, building the network
infrastructure for it, etc etc). Let's say all that infra doubles the price
to $2 billion. Even then, you couldn't simply buy half a million mining
rigs from the market. That many just aren't available. An attacker would
have to spend year and years building up their mining operation before they
could actually perform the attack. They'd basically have to mine at a
slight (probably insignificant) loss for that time. Their demand would push
up the price of these mining rigs for at least a year or two until supply
comes up to meet it. So lets say this doubles the price of the mining rigs
(it could very well do significantly more than that). That makes for $3
billion to build up this malicious mining operation. China could seize a
mining pool, but likely couldn't do it quietly. They'd have to seize the
pool and immediately use it to attack before miners stop using the pool
(which might take a week or two). Maybe this would save them half the cost?

So, lower bound on cost of attack is $1.5 billion. Upper bound on US govt
attack is $72 billion. Upper bound on China govt attack is $720 billion. So
based on this back-of-the-napkin line of thinking, its not super clear that
reducing bitcoin's security is "enough" yet. There is also the question of:
does a $1 trillion currency need to be secure against a $720 billion
attack? Probably not. But should it be secure against a $10 billion attack?
Maybe.

However, the security will go up with price. If bitcoin goes up by 10x, as
it is wont to do, that's nearly 10x the security (nearly, since coinbase
rewards 10x, but the real value of fees almost certainly wouldn't go up as
much). So that brings us to $15 billion of security. Still not clear
without doing some more accurate analysis to determine more confidence in
tighter bounds on cost of attack and likely attack budgets.

But it certainly seems likely that my attack cost bounds are an order of
magnitude too low, and its equally possible my estimates of potential
available attack budgets are an order of magnitude too high. It doesn't
seem quite as likely the reverse is true (that my bounds aren't good
bounds).

It seems possible that we currently have enough security, but seems
likelier that we don't. It just isn't clear to me. Maybe someone has done
some more accurate analysis that could help here.

But before we talk about whether we should reduce our security to save
costs, we need to determine how much security we need and how much security
we have. Without good estimates with confident bounds, we simply can't make
an informed decision to reduce security.

> I don't think 99% of transactions need that level of security

Well you can't get security for the 1% of transactions that need it without
giving that security to all transactions on the chain. Also, the blockchain
security created by miners isn't really a per transaction thing anyway. An
attack would affect all bitcoins regardless of what transactions they do or
do not take part in.

On Sun, May 23, 2021 at 9:52 AM Karl via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> >> The turn-around time for that takes a population of both users and
> >> miners to cause. Increasing popularity of bitcoin has a far bigger
> >> impact here, and it is already raising fees and energy use at an
> >> established rate.
> >>
> >> If it becomes an issue, as bandwidth increases block size could be
> >> raised to lower fees.
> >>
> >
> > Which increases block rewards somewhat (at least to some level that
> matches
> > the overall security of the network) and you still have the same amount
> of
> > energy consumed.
>
> If you mean to implicitly propose that even if halved all the way with
> very large blocks, block rewards would just increase to the same
> level, meaning that any attempt to decrease them has no effect, I
> disagree.    I expect that if you raise the block size, eventually
> there is so much supply for transactions that there are no fees at all
> (nor security).  The numbers are all things the devs, miners, and
> users can together control.
>
> > How to prove this is not happening?
> > The best you can do is to have some number of authorities sign off on
> > whether or not they are doing this.
> > The problem is that authorities are bribeable.
>
> You could make the proof of work be a proof of environmental kindness
> by coding incentives for people to place and verify proof on the
> chain, and then rewarding people for acting on it as desired.  You
> could code the chain to pay people to investigate and prove miners'
> business practices, for example.  You could define the main chain as
> one where everyone consents the proofs are valid.  There are a lot of
> issues to resolve and it would be a very different chain.
>
> There is not a single solution here.  There are innumerable possible
> solutions, any one of which could be made to work with enough brains
> working on it.  To use one, we need to agree on what kinds of
> solutions are acceptable.
>
> > Alternately, other entities in the locality can use force to require the
> > polluting entity to clean up or suffer significant consequences.
> > This at least is better incentive-wise, as they others in the same
> locality
> > are the ones most affected, but the ability to enforce may be difficult
> due
> > to various political constructions; the miners could be in such deep
> cahoots
> > with the local government that the local government would willingly hurt
> > other local entities in the vicinity of the polluting entity.
>
> As bitcoin grows, if people ask some locality to enforce behavior,
> they may need to be willing to enforce it themselves, too, or they
> might outcompete the locality.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210524/8be26505/attachment-0001.html>

From billy.tetrud at gmail.com  Mon May 24 20:43:53 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Mon, 24 May 2021 10:43:53 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
Message-ID: <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>

>  proof of burn clearly solves this, since nothing is held online

Well.. the coins to be burned need to be online when they're burned. But
yes, only a small fraction of the total coins need to be online.

> your burn investment is always "at stake", any redaction can result in a
loss-of-burn, because burns can be tied, precisely, to block-heights

So you're saying that if say someone tries to mine a block on a shorter
chain, that requires them to send a transaction burning their coins, and
that transaction could also be spent on the longest chain, which means
their coins are burned even if the chain they tried to mine on doesn't win?
I'm fuzzy on how proof of burn works.

> proof of burn can be more secure than proof-of-stake

FYI, proof of stake can be done without the "nothing at stake" problem. You
can simply punish people who mint on shorter chains (by rewarding people
who publish proofs of this happening on the main chain). In quorum-based
PoS, you can punish people in the quorum that propose or sign multiple
blocks for the same height. The "nothing at stake" problem is a solved
problem at this point for PoS.



On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:

> > I don't see a way to get around the conflicting requirement that the
> keys for large amounts of coins should be kept offline but those are
> exactly the coins we need online to make the scheme secure.
>
> proof of burn clearly solves this, since nothing is held online
>
> >  how does proof of burn solve the "nothing at stake" problem in your
> view?
>
> definition of nothing at stake: in the event of a fork, whether the
> fork is accidental or a malicious, the optimal strategy for any miner
> is to mine on every chain, so that the miner gets their reward no
> matter which fork wins.   indeed in proof-of-stake, the proofs are
> published on the very chains mines, so the incentive is magnified.
>
> in proof-of-burn, your burn investment is always "at stake", any
> redaction can result in a loss-of-burn, because burns can be tied,
> precisely, to block-heights
>
> as a result, miners no longer have an incentive to mine all chains
>
> in this way proof of burn can be more secure than proof-of-stake, and
> even more secure than proof of work
>
>
>
>
>
>
>
> >
>
> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
> <bitcoin-dev at lists.linuxfoundation.org> wrote:
> >
> > Hi Billy,
> >
> > I was going to write a post which started by dismissing many of the weak
> arguments that are made against PoS made in this thread and elsewhere.
> > Although I don't agree with all your points you have done a decent job
> here so I'll focus on the second part: why I think Proof-of-Stake is
> inappropriate for a Bitcoin-like system.
> >
> > Proof of stake is not fit for purpose for a global settlement layer in a
> pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to
> be.
> > PoS necessarily gives responsibilities to the holders of coins that they
> do not want and cannot handle.
> > In Bitcoin, large unsophisticated coin holders can put their coins in
> cold storage without a second thought given to the health of the underlying
> ledger.
> > As much as hardcore Bitcoiners try to convince them to run their own
> node, most don't, and that's perfectly acceptable.
> > At no point do their personal decisions affect the underlying consensus
> -- it only affects their personal security assurance (not that of the
> system itself).
> > In PoS systems this clean separation of responsibilities does not exist.
> >
> > I think that the more rigorously studied PoS protocols will work fine
> within the security claims made in their papers.
> > People who believe that these protocols are destined for catastrophic
> consensus failure are certainly in for a surprise.
> > But the devil is in the detail.
> > Let's look at what the implications of using the leading proof of stake
> protocols would have on Bitcoin:
> >
> > ### Proof of SquareSpace (Cardano, Polkdadot)
> >
> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an
> inbuilt on-chain delegation system[5].
> > In these protocols, coin holders who do not want to run their node with
> their hot keys in it delegate it to a "Stake Pool".
> > I call the resulting system Proof-of-SquareSpace since most will choose
> a pool by looking around for one with a nice website and offering the
> largest share of the block reward.
> > On the surface this might sound no different than someone with an mining
> rig shopping around for a good mining pool but there are crucial
> differences:
> >
> > 1. The person making the decision is forced into it just because they
> own the currency -- someone with a mining rig has purchased it with the
> intent to make profit by participating in consensus.
> >
> > 2. When you join a mining pool your systems are very much still online.
> You are just partaking in a pool to reduce your profit variance. You still
> see every block that you help create and *you never help create a block
> without seeing it first*.
> >
> > 3. If by SquareSpace sybil attack you gain a dishonest majority and
> start censoring transactions how are the users meant to redelegate their
> stake to honest pools?
> > I guess they can just send a transaction delegating to another pool...oh
> wait I guess that might be censored too! This seems really really bad.
> > In Bitcoin, miners can just join a different pool at a whim. There is
> nothing the attacker can do to stop them. A temporary dishonest majority
> heals relatively well.
> >
> > There is another severe disadvantage to this on-chain delegation system:
> every UTXO must indicate which staking account this UTXO belongs to so the
> appropriate share of block rewards can be transferred there.
> > Being able to associate every UTXO to an account ruins one of the main
> privacy advantages of the UTXO model.
> > It also grows the size of the blockchain significantly.
> >
> > ### "Pure" proof of stake (Algorand)
> >
> > Algorand's[4] approach is to only allow online stake to participate in
> the protocol.
> > Theoretically, This means that keys holding funds have to be online in
> order for them to author blocks when they are chosen.
> > Of course in reality no one wants to keep their coin holding keys online
> so in Alogorand you can authorize a set of "participation keys"[1] that
> will be used to create blocks on your coin holding key's behalf.
> > Hopefully you've spotted the problem.
> > You can send your participation keys to any malicious party with a nice
> website (see random example [2]) offering you a good return.
> > Damn it's still Proof-of-SquareSpace!
> > The minor advantage is that at least the participation keys expire after
> a certain amount of time so eventually the SquareSpace attacker will lose
> their hold on consensus.
> > Importantly there is also less junk on the blockchain because the
> participation keys are delegated off-chain and so are not making as much of
> a mess.
> >
> > ### Conclusion
> >
> > I don't see a way to get around the conflicting requirement that the
> keys for large amounts of coins should be kept offline but those are
> exactly the coins we need online to make the scheme secure.
> > If we allow delegation then we open up a new social attack surface and
> it degenerates to Proof-of-SquareSpace.
> >
> > For a "digital gold" like system like Bitcoin we optimize for simplicity
> and desperately want to avoid extraneous responsibilities for the holder of
> the coin.
> > After all, gold is an inert element on the periodic table that doesn't
> confer responsibilities on the holder to maintain the quality of all the
> other bars of gold out there.
> > Bitcoin feels like this too and in many ways is more inert and
> beautifully boring than gold.
> > For Bitcoin to succeed I think we need to keep it that way and
> Proof-of-Stake makes everything a bit too exciting.
> >
> > I suppose in the end the market will decide what is real digital gold
> and whether these bad technical trade offs are worth being able to say it
> uses less electricity. It goes without saying that making bad technical
> decisions to appease the current political climate is an anathema to
> Bitcoin.
> >
> > Would be interested to know if you or others think differently on these
> points.
> >
> > [1]:
> https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
> > [2]: https://staking.staked.us/algorand-staking
> > [3]: https://eprint.iacr.org/2017/573.pdf
> > [4]:
> https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
> > [5]:
> https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
> >
> > Cheers,
> >
> > LL
> >
> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >>
> >> I think there is a lot of misinformation and bias against Proof of
> Stake. Yes there have been lots of shady coins that use insecure PoS
> mechanisms. Yes there have been massive issues with distribution of PoS
> coins (of course there have also been massive issues with PoW coins as
> well). However, I want to remind everyone that there is a difference
> between "proved to be impossible" and "have not achieved recognized success
> yet". Most of the arguments levied against PoS are out of date or rely on
> unproven assumptions or extrapolation from the analysis of a particular PoS
> system. I certainly don't think we should experiment with bitcoin by
> switching to PoS, but from my research, it seems very likely that there is
> a proof of stake consensus protocol we could build that has substantially
> higher security (cost / capital required to execute an attack) while at the
> same time costing far less resources (which do translate to fees on the
> network) *without* compromising any of the critical security properties
> bitcoin relies on. I think the critical piece of this is the disagreements
> around hardcoded checkpoints, which is a critical piece solving attacks
> that could be levied on a PoS chain, and how that does (or doesn't) affect
> the security model.
> >>
> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse
> when a 51% attack happens. While I agree, I think that line of thinking
> omits important facts:
> >> * The capital required to 51% attack a PoS chain can be made
> substantially greater than on a PoS chain.
> >> * The capital the attacker stands to lose can be substantially greater
> as well if the attack is successful.
> >> * The effectiveness of paying miners to raise the honest fraction of
> miners above 50% may be quite bad.
> >> * Allowing a 51% attack is already unacceptable. It should be
> considered whether what happens in the case of a 51% may not be
> significantly different. The currency would likely be critically damaged in
> a 51% attack regardless of consensus mechanism.
> >>
> >> > Proof-of-stake tends towards oligopolistic control
> >>
> >> People repeat this often, but the facts support this. There is no
> centralization pressure in any proof of stake mechanism that I'm aware of.
> IE if you have 10 times as much coin that you use to mint blocks, you
> should expect to earn 10x as much minting revenue - not more than 10x. By
> contrast, proof of work does in fact have clear centralization pressure -
> this is not disputed. Our goal in relation to that is to ensure that the
> centralization pressure remains insignifiant. Proof of work also clearly
> has a lot more barriers to entry than any proof of stake system does. Both
> of these mean the tendency towards oligopolistic control is worse for PoW.
> >>
> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
> >>
> >> I certainly agree. Bitcoin's energy usage at the moment is I think
> quite warranted. However, the question is: can we do substantially better.
> I think if we can, we probably should... eventually.
> >>
> >> > Proof of Stake is only resilient to ? of the network demonstrating a
> Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
> >>
> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of
> any proof that all PoS systems have a failure threshold of 1/3. I know that
> staking systems like Casper do in fact have that 1/3 requirement. However
> there are PoS designs that should exceed that up to nearly 50% as far as
> I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold
> in the way you would think. IE, if 100% of miners are currently honest and
> have a collective 100 exahashes/s hashpower, an attacker does not need to
> obtain 100 exahashes/s, but actually only needs to accumulate 50
> exahashes/s. This is because as the attacker accumulates hashpower, it
> drives honest miners out of the market as the difficulty increases to
> beyond what is economically sustainable. Also, its been shown that the best
> proof of work can do is require an attacker to obtain 33% of the hashpower
> because of the selfish mining attack discussed in depth in this paper:
> https://arxiv.org/abs/1311.0243. Together, both of these things reduce
> PoW's security by a factor of about 83% (1 - 50%*33%).
> >>
> >>  > Proof of Stake requires other trade-offs which are incompatible with
> Bitcoin's objective (to be a trustless digital cash) ? specifically the
> famous "security vs. liveness" guarantee
> >>
> >> Do you have a good source that talks about why you think proof of stake
> cannot be used for a trustless digital cash?
> >>
> >> > You cannot gain tokens without someone choosing to give up those
> coins - a form of permission.
> >>
> >> This is not a practical constraint. Just like in mining, some nodes may
> reject you, but there will likely be more that will accept you, some
> sellers may reject you, but most would accept your money as payment for
> bitcoins. I don't think requiring the "permission" of one of millions of
> people in the market can be reasonably considered a "permissioned currency".
> >>
> >> > 2. Proof of stake must have a trusted means of timestamping to
> regulate overproduction of blocks
> >>
> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone
> agreed to double their clock speeds. Both systems rely on an honest
> majority sticking to standard time.
> >>
> >>
> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >>>
> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
> >>>
> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org>
> wrote:
> >>>>
> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP
> itself. PoS, VDFs, and so on are interesting but I guess there are other
> threads going on these topics already where they would be relevant.
> >>>>
> >>>> Also, it's important to distinguish between oPoW and these other
> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
> the core game theory or security assumptions of Hashcash and actually
> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
> >>>>
> >>>> Cheers,
> >>>> Mike
> >>>>
> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >>>>>
> >>>>> 1. i never suggested vdf's to replace pow.
> >>>>>
> >>>>> 2. my suggestion was specifically *in the context of* a working
> >>>>> proof-of-burn protocol
> >>>>>
> >>>>> - vdfs used only for timing (not block height)
> >>>>> - blind-burned coins of a specific age used to replace proof of work
> >>>>> - the required "work" per block would simply be a competition to
> >>>>> acquire rewards, and so miners would have to burn coins, well in
> >>>>> advance, and hope that their burned coins got rewarded in some far
> >>>>> future
> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
> >>>>> value gained from proof of work... without some of the security
> >>>>> drawbacks
> >>>>> - the miner risks losing all of his burned coins (like all miners
> risk
> >>>>> losing their work in each block)
> >>>>> - new burns can't be used
> >>>>> - old burns age out (like ASICs do)
> >>>>> - other requirements on burns might be needed to properly mirror the
> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
> >>>>>
> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
> >>>>> might be more secure in the long run, and that if the entire space
> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
> >>>>> up, and a hard-fork could be initiated.
> >>>>>
> >>>>> 4. i would never suggest such a thing unless i believed it was
> >>>>> possible that consensus was possible.  so no, this is not an "alt
> >>>>> coin"
> >>>>>
> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
> wrote:
> >>>>> >
> >>>>> > Hi ZmnSCPxj,
> >>>>> >
> >>>>> > Please note that I am not suggesting VDFs as a means to save
> energy, but solely as a means to make the time between blocks more constant.
> >>>>> >
> >>>>> > Zac
> >>>>> >
> >>>>> >
> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
> wrote:
> >>>>> >>
> >>>>> >> Good morning Zac,
> >>>>> >>
> >>>>> >> > VDFs might enable more constant block times, for instance by
> having a two-step PoW:
> >>>>> >> >
> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being
> subject to difficulty adjustments similar to the as-is). As per the
> property of VDFs, miners are able show proof of work.
> >>>>> >> >
> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a
> block takes 1 minute on average, again subject to as-is difficulty
> adjustments.
> >>>>> >> >
> >>>>> >> > As a result, variation in block times will be greatly reduced.
> >>>>> >>
> >>>>> >> As I understand it, another weakness of VDFs is that they are not
> inherently progress-free (their sequential nature prevents that; they are
> inherently progress-requiring).
> >>>>> >>
> >>>>> >> Thus, a miner which focuses on improving the amount of energy
> that it can pump into the VDF circuitry (by overclocking and freezing the
> circuitry), could potentially get into a winner-takes-all situation,
> possibly leading to even *worse* competition and even *more* energy
> consumption.
> >>>>> >> After all, if you can start mining 0.1s faster than the
> competition, that is a 0.1s advantage where *only you* can mine *in the
> entire world*.
> >>>>> >>
> >>>>> >> Regards,
> >>>>> >> ZmnSCPxj
> >>>>> _______________________________________________
> >>>>> bitcoin-dev mailing list
> >>>>> bitcoin-dev at lists.linuxfoundation.org
> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >>>>
> >>>>
> >>>>
> >>>> --
> >>>> Michael Dubrovsky
> >>>> Founder; PoWx
> >>>> www.PoWx.org
> >>>
> >>>
> >>>
> >>> --
> >>> Michael Dubrovsky
> >>> Founder; PoWx
> >>> www.PoWx.org
> >>> _______________________________________________
> >>> bitcoin-dev mailing list
> >>> bitcoin-dev at lists.linuxfoundation.org
> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >>
> >> _______________________________________________
> >> bitcoin-dev mailing list
> >> bitcoin-dev at lists.linuxfoundation.org
> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >
> > _______________________________________________
> > bitcoin-dev mailing list
> > bitcoin-dev at lists.linuxfoundation.org
> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210524/4796a55c/attachment-0001.html>

From erik at q32.com  Mon May 24 21:49:23 2021
From: erik at q32.com (Erik Aronesty)
Date: Mon, 24 May 2021 17:49:23 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
Message-ID: <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>

> > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
> I'm fuzzy on how proof of burn works.

when you burn coins, you burn them to be used at a future particular
block height: so if i'm burning for block 553, i can only use them to
mine block 553.   if i have a choice between two chains, one longer
and one shorter, i can only choose one... deterministically, for that
burn: the chain with the height 553.   if we fix the "lead time" for
burned coins to be weeks or even months in advance, miners have a very
strong, long-term, investment in the stability of the chain.

therefore there is no "nothing at stake" problem.   it's
deterministic, so miners have no choice.  they can *only* choose the
transactions that go into the block.  they cannot choose which chain
to mine, and it's time-locked, so rollbacks and instability always
hurt miners the most.

the "punishment" systems of PoS are "weird at best", certainly
unproven.   i can imagine scenarios where large stakeholders can
collude to punish smaller stakeholders simply to drive them out of
business, for example.   and then you have to put checks in place to
prevent that, and more checks for those prevention system...

in PoB, there is no complexity.  simpler systems like this are
typically more secure.

PoB also solves problems caused by "energy dependence", which could
lead to state monopolies on mining (like the new Bitcoin Mining
Council).   these consortiums, if state sanctioned, could become a
source of censorship, for example.   Since PoB doesn't require you to
have a live, well-connected node, it's harder to censor & harder to
trace.

Eliminating this weakness seems to be in the best interests of
existing stakeholders




On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>
> >  proof of burn clearly solves this, since nothing is held online
>
> Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>
> > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>
> So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>
> > proof of burn can be more secure than proof-of-stake
>
> FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>
>
>
> On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>>
>> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>
>> proof of burn clearly solves this, since nothing is held online
>>
>> >  how does proof of burn solve the "nothing at stake" problem in your view?
>>
>> definition of nothing at stake: in the event of a fork, whether the
>> fork is accidental or a malicious, the optimal strategy for any miner
>> is to mine on every chain, so that the miner gets their reward no
>> matter which fork wins.   indeed in proof-of-stake, the proofs are
>> published on the very chains mines, so the incentive is magnified.
>>
>> in proof-of-burn, your burn investment is always "at stake", any
>> redaction can result in a loss-of-burn, because burns can be tied,
>> precisely, to block-heights
>>
>> as a result, miners no longer have an incentive to mine all chains
>>
>> in this way proof of burn can be more secure than proof-of-stake, and
>> even more secure than proof of work
>>
>>
>>
>>
>>
>>
>>
>> >
>>
>> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >
>> > Hi Billy,
>> >
>> > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>> > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>> >
>> > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>> > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>> > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>> > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>> > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>> > In PoS systems this clean separation of responsibilities does not exist.
>> >
>> > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>> > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>> > But the devil is in the detail.
>> > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>> >
>> > ### Proof of SquareSpace (Cardano, Polkdadot)
>> >
>> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>> > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>> > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>> > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>> >
>> > 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>> >
>> > 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>> >
>> > 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>> > I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>> > In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>> >
>> > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>> > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>> > It also grows the size of the blockchain significantly.
>> >
>> > ### "Pure" proof of stake (Algorand)
>> >
>> > Algorand's[4] approach is to only allow online stake to participate in the protocol.
>> > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>> > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>> > Hopefully you've spotted the problem.
>> > You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>> > Damn it's still Proof-of-SquareSpace!
>> > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>> > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>> >
>> > ### Conclusion
>> >
>> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>> > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>> >
>> > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>> > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>> > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>> > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>> >
>> > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>> >
>> > Would be interested to know if you or others think differently on these points.
>> >
>> > [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>> > [2]: https://staking.staked.us/algorand-staking
>> > [3]: https://eprint.iacr.org/2017/573.pdf
>> > [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>> > [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>> >
>> > Cheers,
>> >
>> > LL
>> >
>> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >>
>> >> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>> >>
>> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>> >> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>> >> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>> >> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>> >> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>> >>
>> >> > Proof-of-stake tends towards oligopolistic control
>> >>
>> >> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>> >>
>> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>> >>
>> >> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>> >>
>> >> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>> >>
>> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>> >>
>> >>  > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>> >>
>> >> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>> >>
>> >> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>> >>
>> >> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>> >>
>> >> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>> >>
>> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>> >>
>> >>
>> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >>>
>> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>> >>>
>> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>> >>>>
>> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>> >>>>
>> >>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>> >>>>
>> >>>> Cheers,
>> >>>> Mike
>> >>>>
>> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >>>>>
>> >>>>> 1. i never suggested vdf's to replace pow.
>> >>>>>
>> >>>>> 2. my suggestion was specifically *in the context of* a working
>> >>>>> proof-of-burn protocol
>> >>>>>
>> >>>>> - vdfs used only for timing (not block height)
>> >>>>> - blind-burned coins of a specific age used to replace proof of work
>> >>>>> - the required "work" per block would simply be a competition to
>> >>>>> acquire rewards, and so miners would have to burn coins, well in
>> >>>>> advance, and hope that their burned coins got rewarded in some far
>> >>>>> future
>> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
>> >>>>> value gained from proof of work... without some of the security
>> >>>>> drawbacks
>> >>>>> - the miner risks losing all of his burned coins (like all miners risk
>> >>>>> losing their work in each block)
>> >>>>> - new burns can't be used
>> >>>>> - old burns age out (like ASICs do)
>> >>>>> - other requirements on burns might be needed to properly mirror the
>> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>> >>>>>
>> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>> >>>>> might be more secure in the long run, and that if the entire space
>> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>> >>>>> up, and a hard-fork could be initiated.
>> >>>>>
>> >>>>> 4. i would never suggest such a thing unless i believed it was
>> >>>>> possible that consensus was possible.  so no, this is not an "alt
>> >>>>> coin"
>> >>>>>
>> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>> >>>>> >
>> >>>>> > Hi ZmnSCPxj,
>> >>>>> >
>> >>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>> >>>>> >
>> >>>>> > Zac
>> >>>>> >
>> >>>>> >
>> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>> >>>>> >>
>> >>>>> >> Good morning Zac,
>> >>>>> >>
>> >>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>> >>>>> >> >
>> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>> >>>>> >> >
>> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>> >>>>> >> >
>> >>>>> >> > As a result, variation in block times will be greatly reduced.
>> >>>>> >>
>> >>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>> >>>>> >>
>> >>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>> >>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>> >>>>> >>
>> >>>>> >> Regards,
>> >>>>> >> ZmnSCPxj
>> >>>>> _______________________________________________
>> >>>>> bitcoin-dev mailing list
>> >>>>> bitcoin-dev at lists.linuxfoundation.org
>> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >>>>
>> >>>>
>> >>>>
>> >>>> --
>> >>>> Michael Dubrovsky
>> >>>> Founder; PoWx
>> >>>> www.PoWx.org
>> >>>
>> >>>
>> >>>
>> >>> --
>> >>> Michael Dubrovsky
>> >>> Founder; PoWx
>> >>> www.PoWx.org
>> >>> _______________________________________________
>> >>> bitcoin-dev mailing list
>> >>> bitcoin-dev at lists.linuxfoundation.org
>> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >>
>> >> _______________________________________________
>> >> bitcoin-dev mailing list
>> >> bitcoin-dev at lists.linuxfoundation.org
>> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >
>> > _______________________________________________
>> > bitcoin-dev mailing list
>> > bitcoin-dev at lists.linuxfoundation.org
>> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From erik at q32.com  Mon May 24 21:55:14 2021
From: erik at q32.com (Erik Aronesty)
Date: Mon, 24 May 2021 17:55:14 -0400
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
 <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
 <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
Message-ID: <CAJowKg+MX=Tt5HBL4HXwTP1R191qqiQ23qJ2Ot0yr4M0hEcU1g@mail.gmail.com>

>  > I don't think 99% of transactions need that level of security

>  Well you can't get security for the 1% of transactions that need it without giving that security to all transactions on the chain. Also, the blockchain security created by miners isn't really a per transaction thing anyway. An attack would affect all bitcoins regardless of what transactions they do or do not take part in.

yes, and this is what lightning is for.   to secure the 99% of
transactions that *don't* need billions of dollars and years in lead
time of security.

at current prices, and even with the current known issues, lightning
is perfectly acceptable for small transactions.

From dnprock at gmail.com  Mon May 24 22:03:32 2021
From: dnprock at gmail.com (Phuoc Do)
Date: Mon, 24 May 2021 15:03:32 -0700
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
Message-ID: <CAFJMagD7MeNAh4HUzvg8AQ0thetEec8VZz8DGumSFExTzQFXsg@mail.gmail.com>

I think security and inflation are intertwined aspects of a monetary system
[1]. They are both necessary. Many Bitcoin articles discussed energy and
security. More energy translates to more security. The other dimension is
inflation. Bitcoin block reward is constant and reduced every 4 years. But
its price has increased exponentially. The price rise compensates for
reduced inflation.

I don't think a fee market is enough to sustain the system. Bitcoin, for
now, is heading for destruction when inflation stops. As a self-contained
system, this happens when the block reward (plus fee) decreases faster than
the price rise. The Fed has an inflation target of 2% per year. This is
conventional wisdom. The USD M2 money base historically grows at 7% per
year [2]. We didn't know why inflation is necessary. I think Bitcoin shows
us that inflation and security are related. Inflation ensures there'll be
security.

Without inflation, the system will collapse. Cutting block rewards will
reduce energy spend. But it likely will destroy the system. Instead, we
need to ask:

1. How much energy we should spend on mining?
2. How we can use renewable energy?

[1] https://bitflate.org/post/2021/05/21/inflation-and-security.html
[2] https://ycharts.com/indicators/us_m2_money_supply_yoy

On Sun, May 23, 2021 at 1:49 AM James Lu via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Background
> ===
> Reducing the block reward reduces the incentive to mine. It reduces the
> maximum energy price at which mining is profitable, reducing the energy use.
>
> Bitcoins have value because they are accepted by full node users, from
> individual node operators, to exchanges and custodians like Coinbase.
> Anything else and the Bitcoins don't exist and are worthless. Like all
> currencies, Bitcoin has value because others recognize that they have value.
>
> Idea
> ===
> Reduce the block reward by adding fewer coins to the UTXO set per block.
> This should be done gradually
>
> Consensus layer
> ===
> This is a soft fork, because it tightens the
>
> Some Possible Weaknesses
> ===
> - It will cost less than a nation-state of energy to reverse recent
> Bitcoin transactions.
> - Some miners may protest and lobby exchanges.
> - By pushing mining towards the cheapest energy sources, centralization
> increases towards Chinese miners.
> - The Bitcoin network may split if consensus is not built before flag day.
>
> However, given the current political headwinds and widespread public
> discussion around Bitcoin's energy use, it may be socially possible to
> ask individual users and major exchanges to install a version of Bitcoin
> with a reduced block reward.
>
> Alternatives
> ===
> Instead of outright rejecting transactions (and the blocks that contain
> them) that attempt to spend increased block rewards, treat them as no-ops.
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>


-- 
Phuoc Do
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210524/c6acfbca/attachment-0001.html>

From gmkarl at gmail.com  Tue May 25 00:55:34 2021
From: gmkarl at gmail.com (Karl)
Date: Mon, 24 May 2021 20:55:34 -0400
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
 <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
 <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
Message-ID: <CALL-=e5BKBBkw3EkeYhHgzvEBuRdOOS1QnXpwh5qF1J6TEK3Hw@mail.gmail.com>

If bitcoin were to ever consider changing their PoW algorithm a
little, it seems that would immediately make purchased ASIC mining
equipment partially or wholly unusable to compromise the chain (and
temporarily reduce energy usage without necessarily reducing
security).  One possible plan to deter a multibillionaire attack.

Also regarding the word "security" here, a 51% attack impacts some
parts of chain operations, but not others.

It seems to me bitcoin's biggest vulnerabilities are either covert
compromise of mining pool operations, or widespread compromise of
networked mining systems and client nodes.  Far easier than
outcompeting the mining network with hardware.

I don't see why it would necessarily be made public if a government
compromised their nation's mining farms.  Governments have skilled
operatives for things like that.  People would guess it happened, and
the government would cover up the guesses with more powerful stories.

From billy.tetrud at gmail.com  Tue May 25 01:52:51 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Mon, 24 May 2021 15:52:51 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
Message-ID: <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>

Is this <https://en.bitcoin.it/wiki/Proof_of_burn> the kind of proof of
burn you're talking about?

>   if i have a choice between two chains, one longer and one shorter, i
can only choose one... deterministically

What prevents you from attempting to mine block 553 on both chains?

> miners have a very strong, long-term, investment in the stability of the
chain.

Yes, but the same can be said of any coin, even ones that do have the
nothing at stake problem. This isn't sufficient tho because the chain is a
common good, and the tragedy of the commons holds for it.

> you burn them to be used at a future particular block height

This sounds exploitable. It seems like an attacker could simply focus all
their burns on a particular set of 6 blocks to double spend, minimizing
their cost of attack.

> i can imagine scenarios where large stakeholders can collude to punish
smaller stakeholders simply to drive them out of business, for example

Are you talking about a 51% attack? This is possible in any decentralized
cryptocurrency.


On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:

> > > your burn investment is always "at stake", any redaction can result in
> a loss-of-burn, because burns can be tied, precisely, to block-heights
> > I'm fuzzy on how proof of burn works.
>
> when you burn coins, you burn them to be used at a future particular
> block height: so if i'm burning for block 553, i can only use them to
> mine block 553.   if i have a choice between two chains, one longer
> and one shorter, i can only choose one... deterministically, for that
> burn: the chain with the height 553.   if we fix the "lead time" for
> burned coins to be weeks or even months in advance, miners have a very
> strong, long-term, investment in the stability of the chain.
>
> therefore there is no "nothing at stake" problem.   it's
> deterministic, so miners have no choice.  they can *only* choose the
> transactions that go into the block.  they cannot choose which chain
> to mine, and it's time-locked, so rollbacks and instability always
> hurt miners the most.
>
> the "punishment" systems of PoS are "weird at best", certainly
> unproven.   i can imagine scenarios where large stakeholders can
> collude to punish smaller stakeholders simply to drive them out of
> business, for example.   and then you have to put checks in place to
> prevent that, and more checks for those prevention system...
>
> in PoB, there is no complexity.  simpler systems like this are
> typically more secure.
>
> PoB also solves problems caused by "energy dependence", which could
> lead to state monopolies on mining (like the new Bitcoin Mining
> Council).   these consortiums, if state sanctioned, could become a
> source of censorship, for example.   Since PoB doesn't require you to
> have a live, well-connected node, it's harder to censor & harder to
> trace.
>
> Eliminating this weakness seems to be in the best interests of
> existing stakeholders
>
>
>
>
> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com>
> wrote:
> >
> > >  proof of burn clearly solves this, since nothing is held online
> >
> > Well.. the coins to be burned need to be online when they're burned. But
> yes, only a small fraction of the total coins need to be online.
> >
> > > your burn investment is always "at stake", any redaction can result in
> a loss-of-burn, because burns can be tied, precisely, to block-heights
> >
> > So you're saying that if say someone tries to mine a block on a shorter
> chain, that requires them to send a transaction burning their coins, and
> that transaction could also be spent on the longest chain, which means
> their coins are burned even if the chain they tried to mine on doesn't win?
> I'm fuzzy on how proof of burn works.
> >
> > > proof of burn can be more secure than proof-of-stake
> >
> > FYI, proof of stake can be done without the "nothing at stake" problem.
> You can simply punish people who mint on shorter chains (by rewarding
> people who publish proofs of this happening on the main chain). In
> quorum-based PoS, you can punish people in the quorum that propose or sign
> multiple blocks for the same height. The "nothing at stake" problem is a
> solved problem at this point for PoS.
> >
> >
> >
> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
> >>
> >> > I don't see a way to get around the conflicting requirement that the
> keys for large amounts of coins should be kept offline but those are
> exactly the coins we need online to make the scheme secure.
> >>
> >> proof of burn clearly solves this, since nothing is held online
> >>
> >> >  how does proof of burn solve the "nothing at stake" problem in your
> view?
> >>
> >> definition of nothing at stake: in the event of a fork, whether the
> >> fork is accidental or a malicious, the optimal strategy for any miner
> >> is to mine on every chain, so that the miner gets their reward no
> >> matter which fork wins.   indeed in proof-of-stake, the proofs are
> >> published on the very chains mines, so the incentive is magnified.
> >>
> >> in proof-of-burn, your burn investment is always "at stake", any
> >> redaction can result in a loss-of-burn, because burns can be tied,
> >> precisely, to block-heights
> >>
> >> as a result, miners no longer have an incentive to mine all chains
> >>
> >> in this way proof of burn can be more secure than proof-of-stake, and
> >> even more secure than proof of work
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >> >
> >>
> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >
> >> > Hi Billy,
> >> >
> >> > I was going to write a post which started by dismissing many of the
> weak arguments that are made against PoS made in this thread and elsewhere.
> >> > Although I don't agree with all your points you have done a decent
> job here so I'll focus on the second part: why I think Proof-of-Stake is
> inappropriate for a Bitcoin-like system.
> >> >
> >> > Proof of stake is not fit for purpose for a global settlement layer
> in a pure digital asset (i.e. "digital gold") which is what Bitcoin is
> trying to be.
> >> > PoS necessarily gives responsibilities to the holders of coins that
> they do not want and cannot handle.
> >> > In Bitcoin, large unsophisticated coin holders can put their coins in
> cold storage without a second thought given to the health of the underlying
> ledger.
> >> > As much as hardcore Bitcoiners try to convince them to run their own
> node, most don't, and that's perfectly acceptable.
> >> > At no point do their personal decisions affect the underlying
> consensus -- it only affects their personal security assurance (not that of
> the system itself).
> >> > In PoS systems this clean separation of responsibilities does not
> exist.
> >> >
> >> > I think that the more rigorously studied PoS protocols will work fine
> within the security claims made in their papers.
> >> > People who believe that these protocols are destined for catastrophic
> consensus failure are certainly in for a surprise.
> >> > But the devil is in the detail.
> >> > Let's look at what the implications of using the leading proof of
> stake protocols would have on Bitcoin:
> >> >
> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
> >> >
> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an
> inbuilt on-chain delegation system[5].
> >> > In these protocols, coin holders who do not want to run their node
> with their hot keys in it delegate it to a "Stake Pool".
> >> > I call the resulting system Proof-of-SquareSpace since most will
> choose a pool by looking around for one with a nice website and offering
> the largest share of the block reward.
> >> > On the surface this might sound no different than someone with an
> mining rig shopping around for a good mining pool but there are crucial
> differences:
> >> >
> >> > 1. The person making the decision is forced into it just because they
> own the currency -- someone with a mining rig has purchased it with the
> intent to make profit by participating in consensus.
> >> >
> >> > 2. When you join a mining pool your systems are very much still
> online. You are just partaking in a pool to reduce your profit variance.
> You still see every block that you help create and *you never help create a
> block without seeing it first*.
> >> >
> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority and
> start censoring transactions how are the users meant to redelegate their
> stake to honest pools?
> >> > I guess they can just send a transaction delegating to another
> pool...oh wait I guess that might be censored too! This seems really really
> bad.
> >> > In Bitcoin, miners can just join a different pool at a whim. There is
> nothing the attacker can do to stop them. A temporary dishonest majority
> heals relatively well.
> >> >
> >> > There is another severe disadvantage to this on-chain delegation
> system: every UTXO must indicate which staking account this UTXO belongs to
> so the appropriate share of block rewards can be transferred there.
> >> > Being able to associate every UTXO to an account ruins one of the
> main privacy advantages of the UTXO model.
> >> > It also grows the size of the blockchain significantly.
> >> >
> >> > ### "Pure" proof of stake (Algorand)
> >> >
> >> > Algorand's[4] approach is to only allow online stake to participate
> in the protocol.
> >> > Theoretically, This means that keys holding funds have to be online
> in order for them to author blocks when they are chosen.
> >> > Of course in reality no one wants to keep their coin holding keys
> online so in Alogorand you can authorize a set of "participation keys"[1]
> that will be used to create blocks on your coin holding key's behalf.
> >> > Hopefully you've spotted the problem.
> >> > You can send your participation keys to any malicious party with a
> nice website (see random example [2]) offering you a good return.
> >> > Damn it's still Proof-of-SquareSpace!
> >> > The minor advantage is that at least the participation keys expire
> after a certain amount of time so eventually the SquareSpace attacker will
> lose their hold on consensus.
> >> > Importantly there is also less junk on the blockchain because the
> participation keys are delegated off-chain and so are not making as much of
> a mess.
> >> >
> >> > ### Conclusion
> >> >
> >> > I don't see a way to get around the conflicting requirement that the
> keys for large amounts of coins should be kept offline but those are
> exactly the coins we need online to make the scheme secure.
> >> > If we allow delegation then we open up a new social attack surface
> and it degenerates to Proof-of-SquareSpace.
> >> >
> >> > For a "digital gold" like system like Bitcoin we optimize for
> simplicity and desperately want to avoid extraneous responsibilities for
> the holder of the coin.
> >> > After all, gold is an inert element on the periodic table that
> doesn't confer responsibilities on the holder to maintain the quality of
> all the other bars of gold out there.
> >> > Bitcoin feels like this too and in many ways is more inert and
> beautifully boring than gold.
> >> > For Bitcoin to succeed I think we need to keep it that way and
> Proof-of-Stake makes everything a bit too exciting.
> >> >
> >> > I suppose in the end the market will decide what is real digital gold
> and whether these bad technical trade offs are worth being able to say it
> uses less electricity. It goes without saying that making bad technical
> decisions to appease the current political climate is an anathema to
> Bitcoin.
> >> >
> >> > Would be interested to know if you or others think differently on
> these points.
> >> >
> >> > [1]:
> https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
> >> > [2]: https://staking.staked.us/algorand-staking
> >> > [3]: https://eprint.iacr.org/2017/573.pdf
> >> > [4]:
> https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
> >> > [5]:
> https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
> >> >
> >> > Cheers,
> >> >
> >> > LL
> >> >
> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >>
> >> >> I think there is a lot of misinformation and bias against Proof of
> Stake. Yes there have been lots of shady coins that use insecure PoS
> mechanisms. Yes there have been massive issues with distribution of PoS
> coins (of course there have also been massive issues with PoW coins as
> well). However, I want to remind everyone that there is a difference
> between "proved to be impossible" and "have not achieved recognized success
> yet". Most of the arguments levied against PoS are out of date or rely on
> unproven assumptions or extrapolation from the analysis of a particular PoS
> system. I certainly don't think we should experiment with bitcoin by
> switching to PoS, but from my research, it seems very likely that there is
> a proof of stake consensus protocol we could build that has substantially
> higher security (cost / capital required to execute an attack) while at the
> same time costing far less resources (which do translate to fees on the
> network) *without* compromising any of the critical security properties
> bitcoin relies on. I think the critical piece of this is the disagreements
> around hardcoded checkpoints, which is a critical piece solving attacks
> that could be levied on a PoS chain, and how that does (or doesn't) affect
> the security model.
> >> >>
> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is
> worse when a 51% attack happens. While I agree, I think that line of
> thinking omits important facts:
> >> >> * The capital required to 51% attack a PoS chain can be made
> substantially greater than on a PoS chain.
> >> >> * The capital the attacker stands to lose can be substantially
> greater as well if the attack is successful.
> >> >> * The effectiveness of paying miners to raise the honest fraction of
> miners above 50% may be quite bad.
> >> >> * Allowing a 51% attack is already unacceptable. It should be
> considered whether what happens in the case of a 51% may not be
> significantly different. The currency would likely be critically damaged in
> a 51% attack regardless of consensus mechanism.
> >> >>
> >> >> > Proof-of-stake tends towards oligopolistic control
> >> >>
> >> >> People repeat this often, but the facts support this. There is no
> centralization pressure in any proof of stake mechanism that I'm aware of.
> IE if you have 10 times as much coin that you use to mint blocks, you
> should expect to earn 10x as much minting revenue - not more than 10x. By
> contrast, proof of work does in fact have clear centralization pressure -
> this is not disputed. Our goal in relation to that is to ensure that the
> centralization pressure remains insignifiant. Proof of work also clearly
> has a lot more barriers to entry than any proof of stake system does. Both
> of these mean the tendency towards oligopolistic control is worse for PoW.
> >> >>
> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
> >> >>
> >> >> I certainly agree. Bitcoin's energy usage at the moment is I think
> quite warranted. However, the question is: can we do substantially better.
> I think if we can, we probably should... eventually.
> >> >>
> >> >> > Proof of Stake is only resilient to ? of the network demonstrating
> a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
> >> >>
> >> >> I see no mention of this in the pos.pdf you linked to. I'm not aware
> of any proof that all PoS systems have a failure threshold of 1/3. I know
> that staking systems like Casper do in fact have that 1/3 requirement.
> However there are PoS designs that should exceed that up to nearly 50% as
> far as I'm aware. Proof of work is not in fact resilient up to the 1/2
> threshold in the way you would think. IE, if 100% of miners are currently
> honest and have a collective 100 exahashes/s hashpower, an attacker does
> not need to obtain 100 exahashes/s, but actually only needs to accumulate
> 50 exahashes/s. This is because as the attacker accumulates hashpower, it
> drives honest miners out of the market as the difficulty increases to
> beyond what is economically sustainable. Also, its been shown that the best
> proof of work can do is require an attacker to obtain 33% of the hashpower
> because of the selfish mining attack discussed in depth in this paper:
> https://arxiv.org/abs/1311.0243. Together, both of these things reduce
> PoW's security by a factor of about 83% (1 - 50%*33%).
> >> >>
> >> >>  > Proof of Stake requires other trade-offs which are incompatible
> with Bitcoin's objective (to be a trustless digital cash) ? specifically
> the famous "security vs. liveness" guarantee
> >> >>
> >> >> Do you have a good source that talks about why you think proof of
> stake cannot be used for a trustless digital cash?
> >> >>
> >> >> > You cannot gain tokens without someone choosing to give up those
> coins - a form of permission.
> >> >>
> >> >> This is not a practical constraint. Just like in mining, some nodes
> may reject you, but there will likely be more that will accept you, some
> sellers may reject you, but most would accept your money as payment for
> bitcoins. I don't think requiring the "permission" of one of millions of
> people in the market can be reasonably considered a "permissioned currency".
> >> >>
> >> >> > 2. Proof of stake must have a trusted means of timestamping to
> regulate overproduction of blocks
> >> >>
> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone
> agreed to double their clock speeds. Both systems rely on an honest
> majority sticking to standard time.
> >> >>
> >> >>
> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >>>
> >> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
> >> >>>
> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org>
> wrote:
> >> >>>>
> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP
> itself. PoS, VDFs, and so on are interesting but I guess there are other
> threads going on these topics already where they would be relevant.
> >> >>>>
> >> >>>> Also, it's important to distinguish between oPoW and these other
> "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter
> the core game theory or security assumptions of Hashcash and actually
> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
> >> >>>>
> >> >>>> Cheers,
> >> >>>> Mike
> >> >>>>
> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >>>>>
> >> >>>>> 1. i never suggested vdf's to replace pow.
> >> >>>>>
> >> >>>>> 2. my suggestion was specifically *in the context of* a working
> >> >>>>> proof-of-burn protocol
> >> >>>>>
> >> >>>>> - vdfs used only for timing (not block height)
> >> >>>>> - blind-burned coins of a specific age used to replace proof of
> work
> >> >>>>> - the required "work" per block would simply be a competition to
> >> >>>>> acquire rewards, and so miners would have to burn coins, well in
> >> >>>>> advance, and hope that their burned coins got rewarded in some far
> >> >>>>> future
> >> >>>>> - the point of burned coins is to mimic, in every meaningful way,
> the
> >> >>>>> value gained from proof of work... without some of the security
> >> >>>>> drawbacks
> >> >>>>> - the miner risks losing all of his burned coins (like all miners
> risk
> >> >>>>> losing their work in each block)
> >> >>>>> - new burns can't be used
> >> >>>>> - old burns age out (like ASICs do)
> >> >>>>> - other requirements on burns might be needed to properly mirror
> the
> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine
> honestly.
> >> >>>>>
> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
> >> >>>>> might be more secure in the long run, and that if the entire space
> >> >>>>> agreed that such an endeavor was worthwhile, a test net could be
> spun
> >> >>>>> up, and a hard-fork could be initiated.
> >> >>>>>
> >> >>>>> 4. i would never suggest such a thing unless i believed it was
> >> >>>>> possible that consensus was possible.  so no, this is not an "alt
> >> >>>>> coin"
> >> >>>>>
> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com>
> wrote:
> >> >>>>> >
> >> >>>>> > Hi ZmnSCPxj,
> >> >>>>> >
> >> >>>>> > Please note that I am not suggesting VDFs as a means to save
> energy, but solely as a means to make the time between blocks more constant.
> >> >>>>> >
> >> >>>>> > Zac
> >> >>>>> >
> >> >>>>> >
> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com>
> wrote:
> >> >>>>> >>
> >> >>>>> >> Good morning Zac,
> >> >>>>> >>
> >> >>>>> >> > VDFs might enable more constant block times, for instance by
> having a two-step PoW:
> >> >>>>> >> >
> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being
> subject to difficulty adjustments similar to the as-is). As per the
> property of VDFs, miners are able show proof of work.
> >> >>>>> >> >
> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so
> finding a block takes 1 minute on average, again subject to as-is
> difficulty adjustments.
> >> >>>>> >> >
> >> >>>>> >> > As a result, variation in block times will be greatly
> reduced.
> >> >>>>> >>
> >> >>>>> >> As I understand it, another weakness of VDFs is that they are
> not inherently progress-free (their sequential nature prevents that; they
> are inherently progress-requiring).
> >> >>>>> >>
> >> >>>>> >> Thus, a miner which focuses on improving the amount of energy
> that it can pump into the VDF circuitry (by overclocking and freezing the
> circuitry), could potentially get into a winner-takes-all situation,
> possibly leading to even *worse* competition and even *more* energy
> consumption.
> >> >>>>> >> After all, if you can start mining 0.1s faster than the
> competition, that is a 0.1s advantage where *only you* can mine *in the
> entire world*.
> >> >>>>> >>
> >> >>>>> >> Regards,
> >> >>>>> >> ZmnSCPxj
> >> >>>>> _______________________________________________
> >> >>>>> bitcoin-dev mailing list
> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >> >>>>
> >> >>>>
> >> >>>>
> >> >>>> --
> >> >>>> Michael Dubrovsky
> >> >>>> Founder; PoWx
> >> >>>> www.PoWx.org
> >> >>>
> >> >>>
> >> >>>
> >> >>> --
> >> >>> Michael Dubrovsky
> >> >>> Founder; PoWx
> >> >>> www.PoWx.org
> >> >>> _______________________________________________
> >> >>> bitcoin-dev mailing list
> >> >>> bitcoin-dev at lists.linuxfoundation.org
> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >> >>
> >> >> _______________________________________________
> >> >> bitcoin-dev mailing list
> >> >> bitcoin-dev at lists.linuxfoundation.org
> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >> >
> >> > _______________________________________________
> >> > bitcoin-dev mailing list
> >> > bitcoin-dev at lists.linuxfoundation.org
> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210524/8f5565cc/attachment-0001.html>

From billy.tetrud at gmail.com  Tue May 25 08:01:07 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Mon, 24 May 2021 22:01:07 -1000
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CALL-=e5BKBBkw3EkeYhHgzvEBuRdOOS1QnXpwh5qF1J6TEK3Hw@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
 <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
 <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
 <CALL-=e5BKBBkw3EkeYhHgzvEBuRdOOS1QnXpwh5qF1J6TEK3Hw@mail.gmail.com>
Message-ID: <CAGpPWDbDg+N72ce8ird_A_=vY-DHP87E+WCH-d40MnWasbk-6g@mail.gmail.com>

>  It seems to me bitcoin's biggest vulnerabilities are either covert
compromise of mining pool operations, or widespread compromise of networked
mining systems and client node

Stratum v2 will solve the mining pool problem. Widespread compromise of
mining systems seems far fetched. That would involve compromising hundreds
of thousands or perhaps millions of systems in disparate areas with
disparate operating systems and security procedures, run by people who
probably understand computer security better than most (given their
involvement in bitcoin).

I think the biggest vulnerability bitcoin has is a sybil attack draining
the resources of public full nodes. We only have like 10,000 public full
nodes serving the whole network. It wouldn't take that much money to create
a sybil botnet of 100,000 or 1 million nodes that connect to the bitcoin
network and simply take up public node resources, denying service to most
people's full nodes.

> I don't see why it would necessarily be made public if a government
compromised their nation's mining farms. Governments have skilled
operatives for things like that.

Skilled operatives have their limits. It could be kept secret if spies were
hired as employees and then systematically infected all the machines in a
mining operation's machines. But spies aren't magic, no matter how skilled.
One mistake and the jig is up. It would be more likely to be a backroom
deal, which would be harder to keep secret, especially in large operations.
Propaganda has its limits too, sure you could convince some people things
are fine, but sophisticated people like miners? I doubt it.



On Mon, May 24, 2021 at 2:55 PM Karl <gmkarl at gmail.com> wrote:

> If bitcoin were to ever consider changing their PoW algorithm a
> little, it seems that would immediately make purchased ASIC mining
> equipment partially or wholly unusable to compromise the chain (and
> temporarily reduce energy usage without necessarily reducing
> security).  One possible plan to deter a multibillionaire attack.
>
> Also regarding the word "security" here, a 51% attack impacts some
> parts of chain operations, but not others.
>
> It seems to me bitcoin's biggest vulnerabilities are either covert
> compromise of mining pool operations, or widespread compromise of
> networked mining systems and client nodes.  Far easier than
> outcompeting the mining network with hardware.
>
> I don't see why it would necessarily be made public if a government
> compromised their nation's mining farms.  Governments have skilled
> operatives for things like that.  People would guess it happened, and
> the government would cover up the guesses with more powerful stories.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210524/e1b2cfe8/attachment.html>

From befreeandopen at protonmail.com  Tue May 25 08:22:42 2021
From: befreeandopen at protonmail.com (befreeandopen)
Date: Tue, 25 May 2021 08:22:42 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
Message-ID: <hjgDmymqc3B9O73lzCjV46c2i8Zx3RM9EGIdI4S29zmKQimwiwCnVPb6oSAbl8v2PO2e3135QJIeyJ3aqmhCSEJLRCSilf3FRgPzU6_Mbyg=@protonmail.com>

> FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.

This misleading statement. Nothing at stake problem is just about as solved for PoS as scaling. Of course you can always change the rules in a way that a certain specific attack is not doable, but you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere, or you have not solved it completely.

In case of punishment, it is the latter case - it does not solve nothing at stake problem, it only reduces some instances of it, but the core problem persists. It does because the minter (the one who stakes) is not forced to publish his block and can stake selfishly. This matters because such an attacker can stake selfishly on any prior history of the chain. Imagine there is a new block coming from what is called main chain. An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp. Usually she can perform this calculation for not just one block ahead, but two, three ... So she knows the time schedule for the chain she can built on the top. But not only she can do that on the top of the main chain, but on the top of the second block from the top on the main chain. Should she find that building on shorter chain gives her more blocks in the nearest future, she will avoid to prolong the longest chain - and this is where she avoids the punishment - and instead she creates two or more blocks on a historic block and thus she successfully executes nothing at stake attack.

This shows that while the punishment requires the attack to be slightly modified, and this modification does slightly lower the expected profit of it, it is still a viable attack that is profitable and is not at all prevented by punishment logic. On the downside of punishment logic you have the complexity of implementation of such code, which is non-trivial. So it is an open question whether the punishment mechanism is even worth implementing at all. If it is, the benefit is small and does not mitigate nothing at stake attack.

Another way to "prevent" nothing at stake attack is to have "rounds" or "epochs" for which minters are pre-selected, usually in random order and so it is obvious who can mine at which time upfront and no one else can. I am not sure if this is what you call quorum-based PoS. Anyway, this setup mitigates nothing at stake, but - as per my claim above - it introduces a problem elsewhere. Here it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system. In systems where anyone can come up with the next block, it is difficult to perform such DDOS because you need to perform it against everyone. In this setup, however, you have one target at the time. Moreover, when it is your turn to act, you can delay your block creation up to the end of the slot, creating a race condition in the consensus that is hard to solve. Again, this is not trivial to get right and is often vulnerable to attacks.

So while you can claim that the "naive nothing at stake attack" is solved today, in general, it is not solved and claiming it is very misleading. It is a natural problem to PoS that each system that exists today tries to tackle somehow and I am not aware of any system that would actually solve it without not introducing a problem elsewhere (this could include DoS, centralization, and other kinds). It is all about choosing your tradeoffs but there is no solution to nothing at stake I am aware of that would be without critical tradeoffs.

??????? Original Message ???????
On Monday, May 24, 2021 9:43 PM, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:

>> proof of burn clearly solves this, since nothing is held online
>
> Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>
>> your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>
> So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>
>> proof of burn can be more secure than proof-of-stake
>
> FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>
> On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>
>>> I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>
>> proof of burn clearly solves this, since nothing is held online
>>
>>> how does proof of burn solve the "nothing at stake" problem in your view?
>>
>> definition of nothing at stake: in the event of a fork, whether the
>> fork is accidental or a malicious, the optimal strategy for any miner
>> is to mine on every chain, so that the miner gets their reward no
>> matter which fork wins. indeed in proof-of-stake, the proofs are
>> published on the very chains mines, so the incentive is magnified.
>>
>> in proof-of-burn, your burn investment is always "at stake", any
>> redaction can result in a loss-of-burn, because burns can be tied,
>> precisely, to block-heights
>>
>> as a result, miners no longer have an incentive to mine all chains
>>
>> in this way proof of burn can be more secure than proof-of-stake, and
>> even more secure than proof of work
>>
>>>
>>
>> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>
>>> Hi Billy,
>>>
>>> I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>>> Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>>>
>>> Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>>> PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>>> In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>>> As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>>> At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>>> In PoS systems this clean separation of responsibilities does not exist.
>>>
>>> I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>>> People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>>> But the devil is in the detail.
>>> Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>>>
>>> ### Proof of SquareSpace (Cardano, Polkdadot)
>>>
>>> Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>>> In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>>> I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>>> On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>>>
>>> 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>>>
>>> 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>>>
>>> 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>>> I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>>> In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>>>
>>> There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>>> Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>>> It also grows the size of the blockchain significantly.
>>>
>>> ### "Pure" proof of stake (Algorand)
>>>
>>> Algorand's[4] approach is to only allow online stake to participate in the protocol.
>>> Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>>> Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>>> Hopefully you've spotted the problem.
>>> You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>>> Damn it's still Proof-of-SquareSpace!
>>> The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>>> Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>>>
>>> ### Conclusion
>>>
>>> I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>> If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>>>
>>> For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>>> After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>>> Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>>> For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>>>
>>> I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>>>
>>> Would be interested to know if you or others think differently on these points.
>>>
>>> [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>>> [2]: https://staking.staked.us/algorand-staking
>>> [3]: https://eprint.iacr.org/2017/573.pdf
>>> [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>>> [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>>
>>> Cheers,
>>>
>>> LL
>>>
>>> On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>
>>>> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>>>>
>>>> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>>>> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>>>> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>>>> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>>>> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>>>>
>>>> > Proof-of-stake tends towards oligopolistic control
>>>>
>>>> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>>>>
>>>> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>>>
>>>> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>>>>
>>>> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>>>
>>>> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>>>>
>>>> > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>>>>
>>>> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>>>>
>>>> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>>>>
>>>> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>>>>
>>>> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>>>>
>>>> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>>>>
>>>>
>>>> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>
>>>>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>>>
>>>>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>>>>>
>>>>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>>>>>
>>>>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>>>>
>>>>>> Cheers,
>>>>>> Mike
>>>>>>
>>>>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>>>
>>>>>>> 1. i never suggested vdf's to replace pow.
>>>>>>>
>>>>>>> 2. my suggestion was specifically *in the context of* a working
>>>>>>> proof-of-burn protocol
>>>>>>>
>>>>>>> - vdfs used only for timing (not block height)
>>>>>>> - blind-burned coins of a specific age used to replace proof of work
>>>>>>> - the required "work" per block would simply be a competition to
>>>>>>> acquire rewards, and so miners would have to burn coins, well in
>>>>>>> advance, and hope that their burned coins got rewarded in some far
>>>>>>> future
>>>>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>>>>> value gained from proof of work... without some of the security
>>>>>>> drawbacks
>>>>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>>>>> losing their work in each block)
>>>>>>> - new burns can't be used
>>>>>>> - old burns age out (like ASICs do)
>>>>>>> - other requirements on burns might be needed to properly mirror the
>>>>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>>>>
>>>>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>>>>> might be more secure in the long run, and that if the entire space
>>>>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>>>>> up, and a hard-fork could be initiated.
>>>>>>>
>>>>>>> 4. i would never suggest such a thing unless i believed it was
>>>>>>> possible that consensus was possible. so no, this is not an "alt
>>>>>>> coin"
>>>>>>>
>>>>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>>>>>> >
>>>>>>> > Hi ZmnSCPxj,
>>>>>>> >
>>>>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>>>>>> >
>>>>>>> > Zac
>>>>>>> >
>>>>>>> >
>>>>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>>>>>> >>
>>>>>>> >> Good morning Zac,
>>>>>>> >>
>>>>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>>>>>> >> >
>>>>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>>>>>> >> >
>>>>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>>>>>> >> >
>>>>>>> >> > As a result, variation in block times will be greatly reduced.
>>>>>>> >>
>>>>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>>>>>> >>
>>>>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>>>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>>>>> >>
>>>>>>> >> Regards,
>>>>>>> >> ZmnSCPxj
>>>>>>> _______________________________________________
>>>>>>> bitcoin-dev mailing list
>>>>>>> bitcoin-dev at lists.linuxfoundation.org
>>>>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Michael Dubrovsky
>>>>>> Founder; PoWx
>>>>>> www.PoWx.org
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Michael Dubrovsky
>>>>> Founder; PoWx
>>>>> www.PoWx.org
>>>>> _______________________________________________
>>>>> bitcoin-dev mailing list
>>>>> bitcoin-dev at lists.linuxfoundation.org
>>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>
>>>> _______________________________________________
>>>> bitcoin-dev mailing list
>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>>> _______________________________________________
>>> bitcoin-dev mailing list
>>> bitcoin-dev at lists.linuxfoundation.org
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/8ef07166/attachment-0001.html>

From jtimon at jtimon.cc  Tue May 25 08:35:56 2021
From: jtimon at jtimon.cc (=?UTF-8?B?Sm9yZ2UgVGltw7Nu?=)
Date: Tue, 25 May 2021 09:35:56 +0100
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
 <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
 <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
Message-ID: <CABm2gDp4NvCRgu6EF=xfBf3XLzKHSAEFdftPSxEDbhEiacSn1w@mail.gmail.com>

Your analysis is correct.
In perfect competition, profits tend to zero, which means the costs of
mining tend to equal the reward.
Since the reward is fees plus subsidy, reducing the subsidy should reduce
mining costs.

I think convincing other users we need such a softfork to reeuce the
subsidy is going to be hard though.
Even among developers, these proposals seem to be kind of taboo, because
people tene to perceive them as "attacking miners".
Sadly the notion that miners decide consensus rules is pretty extended even
among developers. The recent bip8(true) vs bip8(false) discussions are
anundant evidence that this is the case. Most devs perceive that not giving
miners veto power over proposals somehow means that then developers become
dictators who can unilaterally decide the rules.
They don't accept the fact that it's users who decide the consensus rules.
For them, if it's not miners who decide, then it must be devs. That's
because they see users as a bunch of uninformed imbeciles who can't
understand anything or decide anything. And yet this arrogant position is
coming from people who seemingly don't understand section 11 of the
whitepaper when it says "even with a hashrate majority, that doesn't allow
one to arbitrarily change the rules or forge signatures" which can be
summarized to "miners DO NOT decide the rules.

Given these deeps misunderstandings, most devs (and who knows how many
users) will consider a softfork to reduce mining subsidy "impossible, since
miners will oppose it".
This incredibly sad situation is where we're at.

I personally would be in favor of a softfork to reduce the subsidy. That
would hopefully pacify some of the people concerned with bitcoin's energy
consumption. Bitcoin ecologists should defend this and not "proof of stake"
and other technical nonsense.







On Mon, May 24, 2021, 21:32 Billy Tetrud via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Before we can decide on tradeoffs that reduce security in favor of less
> energy usage, or less inflation, or whatever goal you might have for
> reducing (or delaying) coinbase rewards, we need to decide as a community
> how much security bitcoin *needs*.
>
> Do we need to be secure against an attacker with a budget of $1
> billion/year for an attack? $10 billion/year? More?
>
> An upper limit would be the budget of the largest government: the US. The
> US federal budget is almost $5 trillion/year. But they certainly couldn't
> spend all that budget attacking bitcoin. About $3 trillion of that is
> mandatory spending, which couldn't be allocated to such an attack. About
> $1.5 trillion is discretionary, which includes the military budget. It
> seems like an upper limit on the amount that could be siphoned from that
> budget to attack bitcoin would be 5%. That would take massive political
> cooperation and wheeling and dealing. Likely spending that much would not
> be politically feasible, but it seems possible, since a 5% reduction in
> other activities is something other departments would likely be able to
> sustain with just a bit of downsizing. Or that money could simply come from
> more borrowing. 5% of $1.5 trillion is $75 billion. So that seems like a
> pretty solid upper limit on the amount the US could allocate to an attack
> in a year, in that it seems incredibly unlikely that more money than that
> could be allocated. Such an expenditure might be eventually seen as
> justified since the federal reserve has been inflating the supply of
> dollars by 17.5% on average every year, which would be $1 trillion next
> year (and more the next, etc). A similar story is told if you calculate the
> amount of seigniorage banks get access to by their ability to use
> fractional reserve to inflate the supply of M2 money.  It should be
> considered tho that this seigniorage doesn't give its beneficiaries that
> full value, but rather some fraction of that value - say 5% earned by being
> first to buy with that new money and earning interest on it. So 5% of a
> trillion is $50 billion. Still, over just two years, that's enough to pay
> for an attack of at least that size ($75 billion).
>
> The budget for the government of China is about $3.6 trillion, the second
> largest in the world. And since they're an authoritarian country, they can
> basically do whatever they want with that money. It still seems unlikely
> they would spend more than 5% of that budget on doing something like
> attacking bitcoin. However, consider that China's M2 money supply has been
> increasing at a rate of almost $3 trillion per year. Protecting the ability
> to do this is seems like something worth spending some (printed) money on.
> So perhaps at some point, spending 10 or 20% of their budget for a year or
> two to attack bitcoin might seem like a good idea to some mickey mouse in
> the government. That would be $720 billion/year.
>
> So given the amount of seigniorage taken in every year by these central
> banks, it would seem to justify large expenditures. I'm not sure how
> realistic it would be, politically speaking, to gather $720 billion in a
> single year to attack bitcoin. It seems far fetched, even if the
> seigniorage they're protecting seems to justify it.
>
> So is this the level of attack we want to be resilient to? Nearly a $1
> trillion attack? I don't know. But we should figure that out as a
> community. And keep in mind, the level of attack we need to defend against
> depends on the size of bitcoin. The more valuable bitcoins are, the more
> damaging, more lucrative, and more valuable an attack would be for
> attackers. Its seems reasonable to assume that this is a linear
> relationship - that if bitcoins are worth twice as much, we need twice as
> much security (ie we want to make attacking bitcoin twice as costly).
>
> The next step is figuring out a reasonable lower bound for how much it
> takes to attack bitcoin. There are many attacks that can be done on
> bitcoin, but the one relevant to the discussion here is a 51% attack.
> Bitcoin's PoW basically is attackable buy buying about 25% of the existing
> mining power (for reasons like the selfish economic attack
> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack> and
> the economic mining monopoly attack
> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#economic-mining-monopoly-attack>),
> which is about 40 exahashes/second.
>
> If you bought 400,000 WhatsMiner M30S+ rigs
> <https://www.buybitcoinworldwide.com/mining/hardware/> at current market
> price, you'd need $1 billion to buy them all (which doesn't include the
> cost of setting up all that equipment, powering it, building the network
> infrastructure for it, etc etc). Let's say all that infra doubles the price
> to $2 billion. Even then, you couldn't simply buy half a million mining
> rigs from the market. That many just aren't available. An attacker would
> have to spend year and years building up their mining operation before they
> could actually perform the attack. They'd basically have to mine at a
> slight (probably insignificant) loss for that time. Their demand would push
> up the price of these mining rigs for at least a year or two until supply
> comes up to meet it. So lets say this doubles the price of the mining rigs
> (it could very well do significantly more than that). That makes for $3
> billion to build up this malicious mining operation. China could seize a
> mining pool, but likely couldn't do it quietly. They'd have to seize the
> pool and immediately use it to attack before miners stop using the pool
> (which might take a week or two). Maybe this would save them half the cost?
>
> So, lower bound on cost of attack is $1.5 billion. Upper bound on US govt
> attack is $72 billion. Upper bound on China govt attack is $720 billion. So
> based on this back-of-the-napkin line of thinking, its not super clear that
> reducing bitcoin's security is "enough" yet. There is also the question of:
> does a $1 trillion currency need to be secure against a $720 billion
> attack? Probably not. But should it be secure against a $10 billion attack?
> Maybe.
>
> However, the security will go up with price. If bitcoin goes up by 10x, as
> it is wont to do, that's nearly 10x the security (nearly, since coinbase
> rewards 10x, but the real value of fees almost certainly wouldn't go up as
> much). So that brings us to $15 billion of security. Still not clear
> without doing some more accurate analysis to determine more confidence in
> tighter bounds on cost of attack and likely attack budgets.
>
> But it certainly seems likely that my attack cost bounds are an order of
> magnitude too low, and its equally possible my estimates of potential
> available attack budgets are an order of magnitude too high. It doesn't
> seem quite as likely the reverse is true (that my bounds aren't good
> bounds).
>
> It seems possible that we currently have enough security, but seems
> likelier that we don't. It just isn't clear to me. Maybe someone has done
> some more accurate analysis that could help here.
>
> But before we talk about whether we should reduce our security to save
> costs, we need to determine how much security we need and how much security
> we have. Without good estimates with confident bounds, we simply can't make
> an informed decision to reduce security.
>
> > I don't think 99% of transactions need that level of security
>
> Well you can't get security for the 1% of transactions that need it
> without giving that security to all transactions on the chain. Also, the
> blockchain security created by miners isn't really a per transaction thing
> anyway. An attack would affect all bitcoins regardless of what transactions
> they do or do not take part in.
>
> On Sun, May 23, 2021 at 9:52 AM Karl via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> >> The turn-around time for that takes a population of both users and
>> >> miners to cause. Increasing popularity of bitcoin has a far bigger
>> >> impact here, and it is already raising fees and energy use at an
>> >> established rate.
>> >>
>> >> If it becomes an issue, as bandwidth increases block size could be
>> >> raised to lower fees.
>> >>
>> >
>> > Which increases block rewards somewhat (at least to some level that
>> matches
>> > the overall security of the network) and you still have the same amount
>> of
>> > energy consumed.
>>
>> If you mean to implicitly propose that even if halved all the way with
>> very large blocks, block rewards would just increase to the same
>> level, meaning that any attempt to decrease them has no effect, I
>> disagree.    I expect that if you raise the block size, eventually
>> there is so much supply for transactions that there are no fees at all
>> (nor security).  The numbers are all things the devs, miners, and
>> users can together control.
>>
>> > How to prove this is not happening?
>> > The best you can do is to have some number of authorities sign off on
>> > whether or not they are doing this.
>> > The problem is that authorities are bribeable.
>>
>> You could make the proof of work be a proof of environmental kindness
>> by coding incentives for people to place and verify proof on the
>> chain, and then rewarding people for acting on it as desired.  You
>> could code the chain to pay people to investigate and prove miners'
>> business practices, for example.  You could define the main chain as
>> one where everyone consents the proofs are valid.  There are a lot of
>> issues to resolve and it would be a very different chain.
>>
>> There is not a single solution here.  There are innumerable possible
>> solutions, any one of which could be made to work with enough brains
>> working on it.  To use one, we need to agree on what kinds of
>> solutions are acceptable.
>>
>> > Alternately, other entities in the locality can use force to require the
>> > polluting entity to clean up or suffer significant consequences.
>> > This at least is better incentive-wise, as they others in the same
>> locality
>> > are the ones most affected, but the ability to enforce may be difficult
>> due
>> > to various political constructions; the miners could be in such deep
>> cahoots
>> > with the local government that the local government would willingly hurt
>> > other local entities in the vicinity of the polluting entity.
>>
>> As bitcoin grows, if people ask some locality to enforce behavior,
>> they may need to be willing to enforce it themselves, too, or they
>> might outcompete the locality.
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/66077f2b/attachment-0001.html>

From melvincarvalho at gmail.com  Tue May 25 08:53:40 2021
From: melvincarvalho at gmail.com (Melvin Carvalho)
Date: Tue, 25 May 2021 10:53:40 +0200
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
 <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
 <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
Message-ID: <CAKaEYhJLQ80fno_fUouOd+bxNEh9W60H9XubSRQufOYh8OsmXw@mail.gmail.com>

On Mon, 24 May 2021 at 22:32, Billy Tetrud via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Before we can decide on tradeoffs that reduce security in favor of less
> energy usage, or less inflation, or whatever goal you might have for
> reducing (or delaying) coinbase rewards, we need to decide as a community
> how much security bitcoin *needs*.
>
> Do we need to be secure against an attacker with a budget of $1
> billion/year for an attack? $10 billion/year? More?
>
> An upper limit would be the budget of the largest government: the US. The
> US federal budget is almost $5 trillion/year. But they certainly couldn't
> spend all that budget attacking bitcoin. About $3 trillion of that is
> mandatory spending, which couldn't be allocated to such an attack. About
> $1.5 trillion is discretionary, which includes the military budget. It
> seems like an upper limit on the amount that could be siphoned from that
> budget to attack bitcoin would be 5%. That would take massive political
> cooperation and wheeling and dealing. Likely spending that much would not
> be politically feasible, but it seems possible, since a 5% reduction in
> other activities is something other departments would likely be able to
> sustain with just a bit of downsizing. Or that money could simply come from
> more borrowing. 5% of $1.5 trillion is $75 billion. So that seems like a
> pretty solid upper limit on the amount the US could allocate to an attack
> in a year, in that it seems incredibly unlikely that more money than that
> could be allocated. Such an expenditure might be eventually seen as
> justified since the federal reserve has been inflating the supply of
> dollars by 17.5% on average every year, which would be $1 trillion next
> year (and more the next, etc). A similar story is told if you calculate the
> amount of seigniorage banks get access to by their ability to use
> fractional reserve to inflate the supply of M2 money.  It should be
> considered tho that this seigniorage doesn't give its beneficiaries that
> full value, but rather some fraction of that value - say 5% earned by being
> first to buy with that new money and earning interest on it. So 5% of a
> trillion is $50 billion. Still, over just two years, that's enough to pay
> for an attack of at least that size ($75 billion).
>
> The budget for the government of China is about $3.6 trillion, the second
> largest in the world. And since they're an authoritarian country, they can
> basically do whatever they want with that money. It still seems unlikely
> they would spend more than 5% of that budget on doing something like
> attacking bitcoin. However, consider that China's M2 money supply has been
> increasing at a rate of almost $3 trillion per year. Protecting the ability
> to do this is seems like something worth spending some (printed) money on.
> So perhaps at some point, spending 10 or 20% of their budget for a year or
> two to attack bitcoin might seem like a good idea to some mickey mouse in
> the government. That would be $720 billion/year.
>
> So given the amount of seigniorage taken in every year by these central
> banks, it would seem to justify large expenditures. I'm not sure how
> realistic it would be, politically speaking, to gather $720 billion in a
> single year to attack bitcoin. It seems far fetched, even if the
> seigniorage they're protecting seems to justify it.
>
> So is this the level of attack we want to be resilient to? Nearly a $1
> trillion attack? I don't know. But we should figure that out as a
> community. And keep in mind, the level of attack we need to defend against
> depends on the size of bitcoin. The more valuable bitcoins are, the more
> damaging, more lucrative, and more valuable an attack would be for
> attackers. Its seems reasonable to assume that this is a linear
> relationship - that if bitcoins are worth twice as much, we need twice as
> much security (ie we want to make attacking bitcoin twice as costly).
>
> The next step is figuring out a reasonable lower bound for how much it
> takes to attack bitcoin. There are many attacks that can be done on
> bitcoin, but the one relevant to the discussion here is a 51% attack.
> Bitcoin's PoW basically is attackable buy buying about 25% of the existing
> mining power (for reasons like the selfish economic attack
> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack> and
> the economic mining monopoly attack
> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#economic-mining-monopoly-attack>),
> which is about 40 exahashes/second.
>

Agree that it is valuable to find a reasonable lower bound to how much it
take to 'attack' bitcoin

Two observations:

1. The security model of bitcoin is dual and heterogeneous.  There is both
a block subsidy and a fee model.  These are not like for like.  One is
steady, and one fluctuates.  You might make the analogy with steady nuclear
power, and intermittent wind power.  That means that an attack is more
effective when fees are at their lowest.  We observe that fees tend to
build up during the week and are cleared during the weekend, right now.
Less of an issue right now, but in 3, 7, 11 years fees will make up a
larger proportion of the total block reward, so maybe something to factor in

2. From the point of view of bitcoin an 'attack' is simply making the chain
stronger (or longer) by increasing the accumulated proof of work.  From the
point of view of applications that rely on bitcoin blocks (layer2,
exchanges, markets etc.) a reorg could be seen as disruptive, requiring
more confirmations for larger transactions.  We might want to take a view
on what a planned 'attack' or regorg might look like.  Satoshi when he put
the first checkpoint in used 200 blocks as a guide.  Straw polling the
community on this question has lead me to believe that there is a wide
range of views on how large a reorg would constitute an attack

IMHO it's valuable to work out what the community feels an attack might
look like, and a lower bound to the cost. over time.  Bearing in mind
there's going to be a wide spectrum of opinion, on the topic

But, given that there's not been a successful attack in the last decade, we
probably have a decent amount of time to figure this out


>
> If you bought 400,000 WhatsMiner M30S+ rigs
> <https://www.buybitcoinworldwide.com/mining/hardware/> at current market
> price, you'd need $1 billion to buy them all (which doesn't include the
> cost of setting up all that equipment, powering it, building the network
> infrastructure for it, etc etc). Let's say all that infra doubles the price
> to $2 billion. Even then, you couldn't simply buy half a million mining
> rigs from the market. That many just aren't available. An attacker would
> have to spend year and years building up their mining operation before they
> could actually perform the attack. They'd basically have to mine at a
> slight (probably insignificant) loss for that time. Their demand would push
> up the price of these mining rigs for at least a year or two until supply
> comes up to meet it. So lets say this doubles the price of the mining rigs
> (it could very well do significantly more than that). That makes for $3
> billion to build up this malicious mining operation. China could seize a
> mining pool, but likely couldn't do it quietly. They'd have to seize the
> pool and immediately use it to attack before miners stop using the pool
> (which might take a week or two). Maybe this would save them half the cost?
>
> So, lower bound on cost of attack is $1.5 billion. Upper bound on US govt
> attack is $72 billion. Upper bound on China govt attack is $720 billion. So
> based on this back-of-the-napkin line of thinking, its not super clear that
> reducing bitcoin's security is "enough" yet. There is also the question of:
> does a $1 trillion currency need to be secure against a $720 billion
> attack? Probably not. But should it be secure against a $10 billion attack?
> Maybe.
>
> However, the security will go up with price. If bitcoin goes up by 10x, as
> it is wont to do, that's nearly 10x the security (nearly, since coinbase
> rewards 10x, but the real value of fees almost certainly wouldn't go up as
> much). So that brings us to $15 billion of security. Still not clear
> without doing some more accurate analysis to determine more confidence in
> tighter bounds on cost of attack and likely attack budgets.
>
> But it certainly seems likely that my attack cost bounds are an order of
> magnitude too low, and its equally possible my estimates of potential
> available attack budgets are an order of magnitude too high. It doesn't
> seem quite as likely the reverse is true (that my bounds aren't good
> bounds).
>
> It seems possible that we currently have enough security, but seems
> likelier that we don't. It just isn't clear to me. Maybe someone has done
> some more accurate analysis that could help here.
>
> But before we talk about whether we should reduce our security to save
> costs, we need to determine how much security we need and how much security
> we have. Without good estimates with confident bounds, we simply can't make
> an informed decision to reduce security.
>
> > I don't think 99% of transactions need that level of security
>
> Well you can't get security for the 1% of transactions that need it
> without giving that security to all transactions on the chain. Also, the
> blockchain security created by miners isn't really a per transaction thing
> anyway. An attack would affect all bitcoins regardless of what transactions
> they do or do not take part in.
>
> On Sun, May 23, 2021 at 9:52 AM Karl via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> >> The turn-around time for that takes a population of both users and
>> >> miners to cause. Increasing popularity of bitcoin has a far bigger
>> >> impact here, and it is already raising fees and energy use at an
>> >> established rate.
>> >>
>> >> If it becomes an issue, as bandwidth increases block size could be
>> >> raised to lower fees.
>> >>
>> >
>> > Which increases block rewards somewhat (at least to some level that
>> matches
>> > the overall security of the network) and you still have the same amount
>> of
>> > energy consumed.
>>
>> If you mean to implicitly propose that even if halved all the way with
>> very large blocks, block rewards would just increase to the same
>> level, meaning that any attempt to decrease them has no effect, I
>> disagree.    I expect that if you raise the block size, eventually
>> there is so much supply for transactions that there are no fees at all
>> (nor security).  The numbers are all things the devs, miners, and
>> users can together control.
>>
>> > How to prove this is not happening?
>> > The best you can do is to have some number of authorities sign off on
>> > whether or not they are doing this.
>> > The problem is that authorities are bribeable.
>>
>> You could make the proof of work be a proof of environmental kindness
>> by coding incentives for people to place and verify proof on the
>> chain, and then rewarding people for acting on it as desired.  You
>> could code the chain to pay people to investigate and prove miners'
>> business practices, for example.  You could define the main chain as
>> one where everyone consents the proofs are valid.  There are a lot of
>> issues to resolve and it would be a very different chain.
>>
>> There is not a single solution here.  There are innumerable possible
>> solutions, any one of which could be made to work with enough brains
>> working on it.  To use one, we need to agree on what kinds of
>> solutions are acceptable.
>>
>> > Alternately, other entities in the locality can use force to require the
>> > polluting entity to clean up or suffer significant consequences.
>> > This at least is better incentive-wise, as they others in the same
>> locality
>> > are the ones most affected, but the ability to enforce may be difficult
>> due
>> > to various political constructions; the miners could be in such deep
>> cahoots
>> > with the local government that the local government would willingly hurt
>> > other local entities in the vicinity of the polluting entity.
>>
>> As bitcoin grows, if people ask some locality to enforce behavior,
>> they may need to be willing to enforce it themselves, too, or they
>> might outcompete the locality.
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/51ca7794/attachment-0001.html>

From jtimon at jtimon.cc  Tue May 25 10:24:43 2021
From: jtimon at jtimon.cc (=?UTF-8?B?Sm9yZ2UgVGltw7Nu?=)
Date: Tue, 25 May 2021 11:24:43 +0100
Subject: [bitcoin-dev] Consensus protocol immutability is a feature
In-Reply-To: <132931587-8b83bea7167e21d9e00510989ca34463@pmq3v.m5r2.onet>
References: <132931587-8b83bea7167e21d9e00510989ca34463@pmq3v.m5r2.onet>
Message-ID: <CABm2gDpqH+or9VRv8165XQwNTHWxJxH9=ojDLxY7DmkqSjke_g@mail.gmail.com>

Sure, many things that were though only possible with hardforks initially
were later shown to be possible with softforks.

That doesn't mean hardforks should be taboo in my opinion though.


On Mon, May 24, 2021, 01:09 vjudeu via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> > Because the above block header format is hashed to generate the
> `prevBlockHash` for the *next* block, it is almost impossible to change the
> format without a hardfork.
>
> First, assume that everything should be validated as today to be
> backward-compatible. For that reason, removing SHA-256 is impossible. Then,
> notice that breaking SHA-256 would mean that there would be more and more
> leading zeroes in "prevBlockHash". Breaking SHA-256 fully would mean
> reaching all zeroes hash. So, the old client would see "prevBlockHash" with
> all zeroes.
>
> Soft-fork means that previously valid blocks could be invalid, so rules
> should be more strict. And that means we could have two headers, one for
> SHA-256 and one for SHA-3. Normally, it would mean that our 80-byte headers
> would take 160 bytes instead. But we could compress it a little bit if we
> share some data.
>
> > * `nVersion`: 4 bytes
>
> Version would be some higher number than today and validated as today. It
> could be shared for both headers.
>
> > * `prevBlockHash`: 32 bytes, SHA2 of previous block.
>
> Previous block hash in SHA-256 would have more and more leading zeroes, so
> we could reuse them and fill with SHA-3 truncated to N bits. In this way,
> after fully breaking SHA-256 it would be fully replaced by SHA-3. Until
> then, first N bits could refer to truncated SHA-3 and the rest to SHA-256.
> When passing that to old nodes, that bits could be zeroed, but all new
> nodes should see them and perform SHA-3 validation.
>
> Example:
>
> SHA-2 of some block:
> 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f
> SHA-3 of the same data:
> 95587d55da5108290c46bac70b622715ae380ef7a313febcc27aeb1c51a28d90
> 32 bytes stored for that block:
> 95587d550019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f
>
> Of course, we should perform SHA-3 on a different data than used for
> SHA-2, at least merkle root should be recalculated, but it is just an
> example showing how single 32-byte string could store data for both hash
> functions.
>
> > * `merkleTreeRoot`: 32 bytes, SHA2 of topmost Merkle tree node.
>
> If SHA-256 would be broken, then we could use single coinbase transaction
> to prevent doing transactions in the old way. That transaction would
> contain SHA-3 of the new merkle root, as you mentioned. New nodes could
> treat that transaction as some kind of annex to the block header, but still
> doing SHA-2 is needed for backward compatibility. For that reason, storing
> 32 bytes for SHA-2 and 32 bytes for SHA-3 is needed, unless we have some
> fast way to get hash with all zeroes, then we can save that 32 bytes.
>
> > * `nTime`: 4 bytes, miner-imagined time.
>
> Time should be the same in both headers, so there is no need to duplicate
> it.
>
> > * `nBits`: 4 bytes, encoded difficulty target
>
> Difficulty should be different for SHA-2 and SHA-3. Finally when SHA-256
> would be broken, we could reach 03000000 for SHA-256 and store only SHA-3
> difficulty.
>
> > * `nonce`: 4 bytes, random number with no other meaning.
>
> Nonce should be also different for SHA-2 and SHA-3. If SHA-256 would be
> fully broken, it could be set to zero for SHA-2 and stored only for SHA-3.
>
> On 2021-05-23 20:12:00 user ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
> > Good morning vjudeu,
> >
> > > > Perhaps the only things that cannot be usefully changed in a
> softfork is the block header format and how proof-of-work is computed from
> the block header.
> > >
> > > Why not? I can imagine a soft fork where the block header would
> contain SHA-256 and SHA-3 hashes in the same place. The SHA-256 would be
> calculated as-is, but the SHA-3 would be truncated only to cover zero bits
> in SHA-256 hashes. In this way, if SHA-256 would be totally broken, old
> nodes would see zero hashes in the previous block hash and the merkle tree
> hash, but the new nodes would see correct SHA-3 hashes in the same place.
> So, for example if we have 1d00ffff difficulty, the first 32-bits would be
> zeroes for all old nodes, but all new nodes would see SHA-3 truncated to
> 32-bits in the same place. The difficulty could tell us how many zero bits
> we should truncate our SHA-3 result to. Also, in the same way we could
> introduce SHA-4 in the future as a soft-fork if SHA-3 would be broken and
> we would see many zero bits in our mixed SHA-256 plus SHA-3 consensus.
> >
> > I do not think I follow.
> >
> > The block header has a Merkle tree root that is a SHA-256 of some Merkle
> tree node, is that what you refer to?
> > Do you mean the same Merkle tree node has to hash to some common value
> in both SHA-2 and SHA-3?
> >
> > Or do you refer to the `prevBlockHash`?
> > Do you mean the same `prevBlockHash` has to somehow be the same, for
> some number of bits, in both SHA-2 and SHA-3?
> >
> > More specifically:
> >
> > * `nVersion`: 4 bytes
> > * `prevBlockHash`: 32 bytes, SHA2 of previous block.
> > * `merkleTreeRoot`: 32 bytes, SHA2 of topmost Merkle tree node.
> > * `nTime`: 4 bytes, miner-imagined time.
> > * `nBits`: 4 bytes, encoded difficulty target
> > * `nonce`: 4 bytes, random number with no other meaning.
> >
> > What do you refer to?
> >
> > Because the above block header format is hashed to generate the
> `prevBlockHash` for the *next* block, it is almost impossible to change the
> format without a hardfork.
> >
> > Regaards,
> > ZmnSCPxj
> >
> > >
> > > On 2021-05-23 13:01:32 user ZmnSCPxj via bitcoin-dev
> bitcoin-dev at lists.linuxfoundation.org wrote:
> > >
> > > > Good morning Jorge, et al,
> > > >
> > > > > Hardforks can be useful too.
> > > > > But, yes, I agree softforks are preferable whenever possible.
> > > >
> > > > I think in principle the space of possible softforks is very much
> wider than can be trivially expected.
> > > > For instance, maaku7 once proposed a softfork that could potentially
> change the block discovery rate as a softfork.
> > > > Although this required exploiting a consensus bug that has since
> been closed.
> > > > The example of SegWit shows us that we can in fact create massive
> changes to the transaction and block formats with a softfork.
> > > > For example, it is possible to change the Merkle Tree to use SHA3
> instead, in a softfork, by requiring that miners no longer use the "normal"
> existing Merkle Tree, but instead to require miners to embed a commitment
> to the SHA3-Merkle-Tree on the coinbase of the "original" block format, and
> to build "empty" SHA2-Merkle-Trees containing only the coinbase.
> > > > To unupgraded nodes it looks as if there is a denial-of-service
> attack permanently, while upgraded nodes will seek blocks that conform to
> the SHA3-Merkle-Tree embedded in the coinbase.
> > > > (Do note that this definition of "softfork" is the "> 50% of miners
> is enough to pull everyone to the fork".
> > > > Some thinkers have a stricter definition of "softfork" as
> "non-upgraded nodes can still associate addresses to values in the UTXO set
> but might not be able to detect consensus rules violations in new address
> types", which fits SegWit and Taproot.)
> > > > (In addition, presumably the reason to switch to SHA3 is to avoid
> potential preimage attacks on SHA2, and the coinbase is still in a
> SHA2-Merkle-Tree, so... this is a bad example)
> > > > Perhaps the only things that cannot be usefully changed in a
> softfork is the block header format and how proof-of-work is computed from
> the block header.
> > > > But the flexibility of the coinbase allows us to hook new
> commitments to new Merkle Trees to it, which allows transactions to be
> annotated with additional information that is invisible to unupgraded nodes
> (similar to the `witness` field of SegWit transactions).
> > > >
> > > > Even if you do have a softfork, we should be reminded to look at the
> histories of SegWit and Taproot.
> > > > SegWit became controversial later on, which delayed its activation.
> > > > On the other hand, Taproot had no significant controversy and it was
> widely accepted as being a definite improvement to the network.
> > > > Yet its implementation and deployment still took a long time, and
> there was still controversy on how to properly implement the activation
> code.
> > > > Any hardforks would not only have to go through the hurdles that
> Taproot and SegWit had to go through, but will also have to pass through
> the much higher hurdle of being a hardfork.
> > > > Thus, anyone contemplating a hardfork, for any reason, must be
> prepared to work on it for several years before anyone even frowns and says
> "hmm maybe" instead of everyone just outright dismissing it with a simple
> "hardfork = hard pass".
> > > > As a simple estimate, I would assume that any hardfork would require
> twice the average amount of engeineering-manpower involved in SegWit and
> Taproot.
> > > > (this assumes that hardforks are only twice as hard as softforks ---
> this estimate may be wrong, and this might provide only a minimum rather
> than an expected average)
> > > > There are no quick solutions in this space.
> > > > Either we work with what we have and figure out how to get around
> issues with no real capability to fix them at the base layer, or we have
> insight on future problems and start working on future solutions today.
> > > > For example, I know at least one individual was maintaining an
> "emergency" branch to add some kind of post-quantum signature scheme to
> Bitcoin, in case of a quantum break.
> > > > Regards,
> > > > ZmnSCPxj
> > > >
> > > > bitcoin-dev mailing list
> > > > bitcoin-dev at lists.linuxfoundation.org
> > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >
> >
> >
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/82ae9a50/attachment.html>

From murch at murch.one  Tue May 25 14:27:06 2021
From: murch at murch.one (Murch)
Date: Tue, 25 May 2021 10:27:06 -0400
Subject: [bitcoin-dev] Improvement on Blockbuilding
Message-ID: <25ab1452-78a8-90f1-9b47-8de050d632d2@murch.one>

Hi Bitcoin Devs,

We are writing to share with you a suggested improvement to the current
bitcoin core block building algorithm. In short, currently Bitcoin Core
uses a straightforward greedy algorithm which evaluates each
transaction?s effective fee rate in the context of its unconfirmed
ancestors. This overlooks situations in which multiple descendant
transactions could be grouped with their shared ancestors to form a more
attractive transaction set for block inclusion.

For example, if we have 4 transactions A,B,C, and D, with fee rates and
weights as follows

Tx Fee Weight
A    5    1
B   10    1
C   15    1
D   14    1

And dependencies:
? B is a descendant of A
? C is a descendant of B
? D is a descendant of A
The current algorithm will consider {A,B,C} best which has an effective
fee rate of 10. Our suggested algorithm will also consider {A,B,C,D},
which has an effective fee rate of 11.

Experimental data shows that our suggested algorithm did better on more
than 94% of blocks (99% for times of high congestion). We have also
compared the results to CBC and SAT Linear Programming solvers. The LP
solvers did slightly better, at the price of longer running times. Greg
Maxwell has also studied LP solvers in the past, and his results suggest
that better running times are possible.

The full details are given in this document, and we are happy to hear
any comment, critic or suggestion!

Best,
Mark and Clara

Full details:
https://gist.github.com/Xekyo/5cb413fe9f26dbce57abfd344ebbfaf2#file-candidate-set-based-block-building-md

Research Code:
https://github.com/Xekyo/blockbuilding

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/6e8d2ba1/attachment.sig>

From erik at q32.com  Tue May 25 13:00:11 2021
From: erik at q32.com (Erik Aronesty)
Date: Tue, 25 May 2021 09:00:11 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
Message-ID: <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>

> > you burn them to be used at a future particular block height

> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.

could be right.   the original idea was to have burns decay over time,
like ASIC's.

anyway the point was not that "i had a magic formula"

the point was that proof of burn is almost always better than proof of
stake - simply because the "proof" is on-chain, not sitting on a node
somewhere waiting to be stolen.

On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>
> Is this the kind of proof of burn you're talking about?
>
> >   if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
>
> What prevents you from attempting to mine block 553 on both chains?
>
> > miners have a very strong, long-term, investment in the stability of the chain.
>
> Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
>
> > you burn them to be used at a future particular block height
>
> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>
> > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
>
> Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
>
>
> On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>>
>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>> > I'm fuzzy on how proof of burn works.
>>
>> when you burn coins, you burn them to be used at a future particular
>> block height: so if i'm burning for block 553, i can only use them to
>> mine block 553.   if i have a choice between two chains, one longer
>> and one shorter, i can only choose one... deterministically, for that
>> burn: the chain with the height 553.   if we fix the "lead time" for
>> burned coins to be weeks or even months in advance, miners have a very
>> strong, long-term, investment in the stability of the chain.
>>
>> therefore there is no "nothing at stake" problem.   it's
>> deterministic, so miners have no choice.  they can *only* choose the
>> transactions that go into the block.  they cannot choose which chain
>> to mine, and it's time-locked, so rollbacks and instability always
>> hurt miners the most.
>>
>> the "punishment" systems of PoS are "weird at best", certainly
>> unproven.   i can imagine scenarios where large stakeholders can
>> collude to punish smaller stakeholders simply to drive them out of
>> business, for example.   and then you have to put checks in place to
>> prevent that, and more checks for those prevention system...
>>
>> in PoB, there is no complexity.  simpler systems like this are
>> typically more secure.
>>
>> PoB also solves problems caused by "energy dependence", which could
>> lead to state monopolies on mining (like the new Bitcoin Mining
>> Council).   these consortiums, if state sanctioned, could become a
>> source of censorship, for example.   Since PoB doesn't require you to
>> have a live, well-connected node, it's harder to censor & harder to
>> trace.
>>
>> Eliminating this weakness seems to be in the best interests of
>> existing stakeholders
>>
>>
>>
>>
>> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>> >
>> > >  proof of burn clearly solves this, since nothing is held online
>> >
>> > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>> >
>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>> >
>> > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>> >
>> > > proof of burn can be more secure than proof-of-stake
>> >
>> > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>> >
>> >
>> >
>> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>> >>
>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>> >>
>> >> proof of burn clearly solves this, since nothing is held online
>> >>
>> >> >  how does proof of burn solve the "nothing at stake" problem in your view?
>> >>
>> >> definition of nothing at stake: in the event of a fork, whether the
>> >> fork is accidental or a malicious, the optimal strategy for any miner
>> >> is to mine on every chain, so that the miner gets their reward no
>> >> matter which fork wins.   indeed in proof-of-stake, the proofs are
>> >> published on the very chains mines, so the incentive is magnified.
>> >>
>> >> in proof-of-burn, your burn investment is always "at stake", any
>> >> redaction can result in a loss-of-burn, because burns can be tied,
>> >> precisely, to block-heights
>> >>
>> >> as a result, miners no longer have an incentive to mine all chains
>> >>
>> >> in this way proof of burn can be more secure than proof-of-stake, and
>> >> even more secure than proof of work
>> >>
>> >>
>> >>
>> >>
>> >>
>> >>
>> >>
>> >> >
>> >>
>> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >
>> >> > Hi Billy,
>> >> >
>> >> > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>> >> > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>> >> >
>> >> > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>> >> > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>> >> > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>> >> > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>> >> > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>> >> > In PoS systems this clean separation of responsibilities does not exist.
>> >> >
>> >> > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>> >> > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>> >> > But the devil is in the detail.
>> >> > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>> >> >
>> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>> >> >
>> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>> >> > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>> >> > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>> >> > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>> >> >
>> >> > 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>> >> >
>> >> > 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>> >> >
>> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>> >> > I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>> >> > In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>> >> >
>> >> > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>> >> > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>> >> > It also grows the size of the blockchain significantly.
>> >> >
>> >> > ### "Pure" proof of stake (Algorand)
>> >> >
>> >> > Algorand's[4] approach is to only allow online stake to participate in the protocol.
>> >> > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>> >> > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>> >> > Hopefully you've spotted the problem.
>> >> > You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>> >> > Damn it's still Proof-of-SquareSpace!
>> >> > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>> >> > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>> >> >
>> >> > ### Conclusion
>> >> >
>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>> >> > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>> >> >
>> >> > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>> >> > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>> >> > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>> >> > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>> >> >
>> >> > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>> >> >
>> >> > Would be interested to know if you or others think differently on these points.
>> >> >
>> >> > [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>> >> > [2]: https://staking.staked.us/algorand-staking
>> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>> >> > [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>> >> > [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>> >> >
>> >> > Cheers,
>> >> >
>> >> > LL
>> >> >
>> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >>
>> >> >> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>> >> >>
>> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>> >> >> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>> >> >> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>> >> >> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>> >> >> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>> >> >>
>> >> >> > Proof-of-stake tends towards oligopolistic control
>> >> >>
>> >> >> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>> >> >>
>> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>> >> >>
>> >> >> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>> >> >>
>> >> >> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>> >> >>
>> >> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>> >> >>
>> >> >>  > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>> >> >>
>> >> >> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>> >> >>
>> >> >> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>> >> >>
>> >> >> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>> >> >>
>> >> >> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>> >> >>
>> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>> >> >>
>> >> >>
>> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >>>
>> >> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>> >> >>>
>> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>> >> >>>>
>> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>> >> >>>>
>> >> >>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>> >> >>>>
>> >> >>>> Cheers,
>> >> >>>> Mike
>> >> >>>>
>> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >>>>>
>> >> >>>>> 1. i never suggested vdf's to replace pow.
>> >> >>>>>
>> >> >>>>> 2. my suggestion was specifically *in the context of* a working
>> >> >>>>> proof-of-burn protocol
>> >> >>>>>
>> >> >>>>> - vdfs used only for timing (not block height)
>> >> >>>>> - blind-burned coins of a specific age used to replace proof of work
>> >> >>>>> - the required "work" per block would simply be a competition to
>> >> >>>>> acquire rewards, and so miners would have to burn coins, well in
>> >> >>>>> advance, and hope that their burned coins got rewarded in some far
>> >> >>>>> future
>> >> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
>> >> >>>>> value gained from proof of work... without some of the security
>> >> >>>>> drawbacks
>> >> >>>>> - the miner risks losing all of his burned coins (like all miners risk
>> >> >>>>> losing their work in each block)
>> >> >>>>> - new burns can't be used
>> >> >>>>> - old burns age out (like ASICs do)
>> >> >>>>> - other requirements on burns might be needed to properly mirror the
>> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>> >> >>>>>
>> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>> >> >>>>> might be more secure in the long run, and that if the entire space
>> >> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>> >> >>>>> up, and a hard-fork could be initiated.
>> >> >>>>>
>> >> >>>>> 4. i would never suggest such a thing unless i believed it was
>> >> >>>>> possible that consensus was possible.  so no, this is not an "alt
>> >> >>>>> coin"
>> >> >>>>>
>> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>> >> >>>>> >
>> >> >>>>> > Hi ZmnSCPxj,
>> >> >>>>> >
>> >> >>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>> >> >>>>> >
>> >> >>>>> > Zac
>> >> >>>>> >
>> >> >>>>> >
>> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>> >> >>>>> >>
>> >> >>>>> >> Good morning Zac,
>> >> >>>>> >>
>> >> >>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>> >> >>>>> >> >
>> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>> >> >>>>> >> >
>> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>> >> >>>>> >> >
>> >> >>>>> >> > As a result, variation in block times will be greatly reduced.
>> >> >>>>> >>
>> >> >>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>> >> >>>>> >>
>> >> >>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>> >> >>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>> >> >>>>> >>
>> >> >>>>> >> Regards,
>> >> >>>>> >> ZmnSCPxj
>> >> >>>>> _______________________________________________
>> >> >>>>> bitcoin-dev mailing list
>> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >> >>>>
>> >> >>>>
>> >> >>>>
>> >> >>>> --
>> >> >>>> Michael Dubrovsky
>> >> >>>> Founder; PoWx
>> >> >>>> www.PoWx.org
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> --
>> >> >>> Michael Dubrovsky
>> >> >>> Founder; PoWx
>> >> >>> www.PoWx.org
>> >> >>> _______________________________________________
>> >> >>> bitcoin-dev mailing list
>> >> >>> bitcoin-dev at lists.linuxfoundation.org
>> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >> >>
>> >> >> _______________________________________________
>> >> >> bitcoin-dev mailing list
>> >> >> bitcoin-dev at lists.linuxfoundation.org
>> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >> >
>> >> > _______________________________________________
>> >> > bitcoin-dev mailing list
>> >> > bitcoin-dev at lists.linuxfoundation.org
>> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev

From billy.tetrud at gmail.com  Tue May 25 19:40:58 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Tue, 25 May 2021 09:40:58 -1000
Subject: [bitcoin-dev] Reducing block reward via soft fork
In-Reply-To: <CAKaEYhJLQ80fno_fUouOd+bxNEh9W60H9XubSRQufOYh8OsmXw@mail.gmail.com>
References: <CANQHGB1N4E9=cqrkxDiUH5hAHgzURAJv+S7Vkf8xWEMJ=+T_AQ@mail.gmail.com>
 <KVDgWlVOrIW9ahW8jA8W1eSK-w0OzVEjx585MpJiNL-SuX9x-td_VzNEtFSDNj-bwulh_nLExtNBl4WD6x2Ipjp9bQvT4Jo3NIqoyDxoBBM=@protonmail.com>
 <CALL-=e7hHYm96KJEFEiTgEaSjK0VTcNcGypLVekmaxYNN+egEA@mail.gmail.com>
 <G3RgofdarOhSiEJjyDNaN2Dv27WCpb_0CSOpya6acUnPbpPQ-oygklpP_e0rLdxglK5FCo5dq7Qkv6GinA3qCXiOM6GzEcNvcxxM7kbwFhY=@protonmail.com>
 <CALL-=e6deZdsA+LLWBXJwYDf9x2x4sRxC1s=8fb2wH1paXpMBA@mail.gmail.com>
 <CAGpPWDYJHP1WsJA9Rymb3GwMomCipVV7UV_eSVb_g-DbBkw32w@mail.gmail.com>
 <CAKaEYhJLQ80fno_fUouOd+bxNEh9W60H9XubSRQufOYh8OsmXw@mail.gmail.com>
Message-ID: <CAGpPWDbcdfyrXJ68kK1U81BfxWjRedFvYPLo8vaYy=QY64Wkwg@mail.gmail.com>

@Phuoc "Bitcoin, for now, is heading for destruction when inflation stops.
As a self-contained system, this happens when the block reward (plus fee)
decreases faster than the price rise."

Well, the block reward decreases less and less in comparison to fees every
halving. So it seems reasonably likely that will never happen because of
halvings, but might happen because of increased on-chain space. Block space
doesn't have a linear relationship with fees. I believe at any given point
in time, there should be an amount of on-chain space that will maximize
total fees collected per block, and either less space or more space will
reduce the total collected fees. I think at some point in the future, we
will have to find a way to modulate the blocksize in order to target a
particular band of security. I would be very surprised if fees couldn't
support enough security in the system by themselves in that future, at the
blocksize where maximum block reward occurs. Fees already contribute over
10% of the block rewards.

@Jorge "Sadly the notion that miners decide consensus rules is pretty
extended even among developers."

We don't currently have a good mechanism to decide by users in a verifiably
decentralized way. Polls are exploitable because of the Sybil problem (the
very problem bitcoin was invented to solve). I think one solution would be
to have the ability for users to sign an upgrade support petition with
their keys, proving how much coin supports the upgrade. The problem is
doing that now exposes people's public keys, which a lot of bitcoin has
been designed to keep safe until used to spend. It seems more recent things
(like in taproot) might be relaxing that protection, so I'm not sure what
the consensus on how important keeping public keys hidden is. But even if
keeping them hidden is important, we could create a new address that
encodes two public keys: one for spending and one for signing upgrade
petitions. That way people could expose the key for signing petitions
without exposing the public key for spending. Of course, that itself would
require a soft fork ; ) But there are real technical issues here. Saying
the devs are simply arrogantly dismissing the unwashed masses from upgrade
consensus gathering I don't think is something I've seen any evidence of.

@Melvin Its interesting that you point out that one kind of block reward is
steady and the other fluctuates. I think you're saying that fees fluctuate
and the coinbase rewards are steady. At first tho, I thought you might have
meant it the other way around ; ) On longer time scales (eg months rather
than days), fees have generally a more steady market-value than coinbase
rewards, since price fluctuates a lot, but people almost certainly set fees
somewhat based on the buying power of the fee rather than the absolute
bitcoin amount.

But I wouldn't think attacks are likely to be easier to perform at certain
times of the week that fees are lowest. Do miners actually mine less on
days when fees are lower? I wouldn't think they do. They already bought all
the hardware for mining, they might as well use it. It seems unlikely that
the cost of electricity and wear on the hardware would exceed the block
rewards even on low fee days. And looking to the future when there's no
significant coinbase subsidy, it seems rather likely that the daily/hourly
variance of the fee market will reduce, since there's an economic incentive
to delay transactions in order to pay a lower fee.

> how large a reorg would constitute an attack

Since the standard is 6 blocks, isn't 6 blocks sufficient for an attack to
be very disruptive? However, if an attack happens, the attacker likely has
>50% hashpower and can create much longer reorgs if they want, so I'm not
sure the length of the reorg is significant actually.




On Mon, May 24, 2021 at 10:53 PM Melvin Carvalho <melvincarvalho at gmail.com>
wrote:

>
>
> On Mon, 24 May 2021 at 22:32, Billy Tetrud via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
>
>> Before we can decide on tradeoffs that reduce security in favor of less
>> energy usage, or less inflation, or whatever goal you might have for
>> reducing (or delaying) coinbase rewards, we need to decide as a community
>> how much security bitcoin *needs*.
>>
>> Do we need to be secure against an attacker with a budget of $1
>> billion/year for an attack? $10 billion/year? More?
>>
>> An upper limit would be the budget of the largest government: the US. The
>> US federal budget is almost $5 trillion/year. But they certainly couldn't
>> spend all that budget attacking bitcoin. About $3 trillion of that is
>> mandatory spending, which couldn't be allocated to such an attack. About
>> $1.5 trillion is discretionary, which includes the military budget. It
>> seems like an upper limit on the amount that could be siphoned from that
>> budget to attack bitcoin would be 5%. That would take massive political
>> cooperation and wheeling and dealing. Likely spending that much would not
>> be politically feasible, but it seems possible, since a 5% reduction in
>> other activities is something other departments would likely be able to
>> sustain with just a bit of downsizing. Or that money could simply come from
>> more borrowing. 5% of $1.5 trillion is $75 billion. So that seems like a
>> pretty solid upper limit on the amount the US could allocate to an attack
>> in a year, in that it seems incredibly unlikely that more money than that
>> could be allocated. Such an expenditure might be eventually seen as
>> justified since the federal reserve has been inflating the supply of
>> dollars by 17.5% on average every year, which would be $1 trillion next
>> year (and more the next, etc). A similar story is told if you calculate the
>> amount of seigniorage banks get access to by their ability to use
>> fractional reserve to inflate the supply of M2 money.  It should be
>> considered tho that this seigniorage doesn't give its beneficiaries that
>> full value, but rather some fraction of that value - say 5% earned by being
>> first to buy with that new money and earning interest on it. So 5% of a
>> trillion is $50 billion. Still, over just two years, that's enough to pay
>> for an attack of at least that size ($75 billion).
>>
>> The budget for the government of China is about $3.6 trillion, the second
>> largest in the world. And since they're an authoritarian country, they can
>> basically do whatever they want with that money. It still seems unlikely
>> they would spend more than 5% of that budget on doing something like
>> attacking bitcoin. However, consider that China's M2 money supply has been
>> increasing at a rate of almost $3 trillion per year. Protecting the ability
>> to do this is seems like something worth spending some (printed) money on.
>> So perhaps at some point, spending 10 or 20% of their budget for a year or
>> two to attack bitcoin might seem like a good idea to some mickey mouse in
>> the government. That would be $720 billion/year.
>>
>> So given the amount of seigniorage taken in every year by these central
>> banks, it would seem to justify large expenditures. I'm not sure how
>> realistic it would be, politically speaking, to gather $720 billion in a
>> single year to attack bitcoin. It seems far fetched, even if the
>> seigniorage they're protecting seems to justify it.
>>
>> So is this the level of attack we want to be resilient to? Nearly a $1
>> trillion attack? I don't know. But we should figure that out as a
>> community. And keep in mind, the level of attack we need to defend against
>> depends on the size of bitcoin. The more valuable bitcoins are, the more
>> damaging, more lucrative, and more valuable an attack would be for
>> attackers. Its seems reasonable to assume that this is a linear
>> relationship - that if bitcoins are worth twice as much, we need twice as
>> much security (ie we want to make attacking bitcoin twice as costly).
>>
>> The next step is figuring out a reasonable lower bound for how much it
>> takes to attack bitcoin. There are many attacks that can be done on
>> bitcoin, but the one relevant to the discussion here is a 51% attack.
>> Bitcoin's PoW basically is attackable buy buying about 25% of the existing
>> mining power (for reasons like the selfish economic attack
>> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#the-selfish-economic-attack> and
>> the economic mining monopoly attack
>> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#economic-mining-monopoly-attack>),
>> which is about 40 exahashes/second.
>>
>
> Agree that it is valuable to find a reasonable lower bound to how much it
> take to 'attack' bitcoin
>
> Two observations:
>
> 1. The security model of bitcoin is dual and heterogeneous.  There is both
> a block subsidy and a fee model.  These are not like for like.  One is
> steady, and one fluctuates.  You might make the analogy with steady nuclear
> power, and intermittent wind power.  That means that an attack is more
> effective when fees are at their lowest.  We observe that fees tend to
> build up during the week and are cleared during the weekend, right now.
> Less of an issue right now, but in 3, 7, 11 years fees will make up a
> larger proportion of the total block reward, so maybe something to factor in
>
> 2. From the point of view of bitcoin an 'attack' is simply making the
> chain stronger (or longer) by increasing the accumulated proof of work.
> From the point of view of applications that rely on bitcoin blocks (layer2,
> exchanges, markets etc.) a reorg could be seen as disruptive, requiring
> more confirmations for larger transactions.  We might want to take a view
> on what a planned 'attack' or regorg might look like.  Satoshi when he put
> the first checkpoint in used 200 blocks as a guide.  Straw polling the
> community on this question has lead me to believe that there is a wide
> range of views on how large a reorg would constitute an attack
>
> IMHO it's valuable to work out what the community feels an attack might
> look like, and a lower bound to the cost. over time.  Bearing in mind
> there's going to be a wide spectrum of opinion, on the topic
>
> But, given that there's not been a successful attack in the last decade,
> we probably have a decent amount of time to figure this out
>
>
>>
>> If you bought 400,000 WhatsMiner M30S+ rigs
>> <https://www.buybitcoinworldwide.com/mining/hardware/> at current market
>> price, you'd need $1 billion to buy them all (which doesn't include the
>> cost of setting up all that equipment, powering it, building the network
>> infrastructure for it, etc etc). Let's say all that infra doubles the price
>> to $2 billion. Even then, you couldn't simply buy half a million mining
>> rigs from the market. That many just aren't available. An attacker would
>> have to spend year and years building up their mining operation before they
>> could actually perform the attack. They'd basically have to mine at a
>> slight (probably insignificant) loss for that time. Their demand would push
>> up the price of these mining rigs for at least a year or two until supply
>> comes up to meet it. So lets say this doubles the price of the mining rigs
>> (it could very well do significantly more than that). That makes for $3
>> billion to build up this malicious mining operation. China could seize a
>> mining pool, but likely couldn't do it quietly. They'd have to seize the
>> pool and immediately use it to attack before miners stop using the pool
>> (which might take a week or two). Maybe this would save them half the cost?
>>
>> So, lower bound on cost of attack is $1.5 billion. Upper bound on US govt
>> attack is $72 billion. Upper bound on China govt attack is $720 billion. So
>> based on this back-of-the-napkin line of thinking, its not super clear that
>> reducing bitcoin's security is "enough" yet. There is also the question of:
>> does a $1 trillion currency need to be secure against a $720 billion
>> attack? Probably not. But should it be secure against a $10 billion attack?
>> Maybe.
>>
>> However, the security will go up with price. If bitcoin goes up by 10x,
>> as it is wont to do, that's nearly 10x the security (nearly, since coinbase
>> rewards 10x, but the real value of fees almost certainly wouldn't go up as
>> much). So that brings us to $15 billion of security. Still not clear
>> without doing some more accurate analysis to determine more confidence in
>> tighter bounds on cost of attack and likely attack budgets.
>>
>> But it certainly seems likely that my attack cost bounds are an order of
>> magnitude too low, and its equally possible my estimates of potential
>> available attack budgets are an order of magnitude too high. It doesn't
>> seem quite as likely the reverse is true (that my bounds aren't good
>> bounds).
>>
>> It seems possible that we currently have enough security, but seems
>> likelier that we don't. It just isn't clear to me. Maybe someone has done
>> some more accurate analysis that could help here.
>>
>> But before we talk about whether we should reduce our security to save
>> costs, we need to determine how much security we need and how much security
>> we have. Without good estimates with confident bounds, we simply can't make
>> an informed decision to reduce security.
>>
>> > I don't think 99% of transactions need that level of security
>>
>> Well you can't get security for the 1% of transactions that need it
>> without giving that security to all transactions on the chain. Also, the
>> blockchain security created by miners isn't really a per transaction thing
>> anyway. An attack would affect all bitcoins regardless of what transactions
>> they do or do not take part in.
>>
>> On Sun, May 23, 2021 at 9:52 AM Karl via bitcoin-dev <
>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>
>>> >> The turn-around time for that takes a population of both users and
>>> >> miners to cause. Increasing popularity of bitcoin has a far bigger
>>> >> impact here, and it is already raising fees and energy use at an
>>> >> established rate.
>>> >>
>>> >> If it becomes an issue, as bandwidth increases block size could be
>>> >> raised to lower fees.
>>> >>
>>> >
>>> > Which increases block rewards somewhat (at least to some level that
>>> matches
>>> > the overall security of the network) and you still have the same
>>> amount of
>>> > energy consumed.
>>>
>>> If you mean to implicitly propose that even if halved all the way with
>>> very large blocks, block rewards would just increase to the same
>>> level, meaning that any attempt to decrease them has no effect, I
>>> disagree.    I expect that if you raise the block size, eventually
>>> there is so much supply for transactions that there are no fees at all
>>> (nor security).  The numbers are all things the devs, miners, and
>>> users can together control.
>>>
>>> > How to prove this is not happening?
>>> > The best you can do is to have some number of authorities sign off on
>>> > whether or not they are doing this.
>>> > The problem is that authorities are bribeable.
>>>
>>> You could make the proof of work be a proof of environmental kindness
>>> by coding incentives for people to place and verify proof on the
>>> chain, and then rewarding people for acting on it as desired.  You
>>> could code the chain to pay people to investigate and prove miners'
>>> business practices, for example.  You could define the main chain as
>>> one where everyone consents the proofs are valid.  There are a lot of
>>> issues to resolve and it would be a very different chain.
>>>
>>> There is not a single solution here.  There are innumerable possible
>>> solutions, any one of which could be made to work with enough brains
>>> working on it.  To use one, we need to agree on what kinds of
>>> solutions are acceptable.
>>>
>>> > Alternately, other entities in the locality can use force to require
>>> the
>>> > polluting entity to clean up or suffer significant consequences.
>>> > This at least is better incentive-wise, as they others in the same
>>> locality
>>> > are the ones most affected, but the ability to enforce may be
>>> difficult due
>>> > to various political constructions; the miners could be in such deep
>>> cahoots
>>> > with the local government that the local government would willingly
>>> hurt
>>> > other local entities in the vicinity of the polluting entity.
>>>
>>> As bitcoin grows, if people ask some locality to enforce behavior,
>>> they may need to be willing to enforce it themselves, too, or they
>>> might outcompete the locality.
>>> _______________________________________________
>>> bitcoin-dev mailing list
>>> bitcoin-dev at lists.linuxfoundation.org
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/b56ca218/attachment-0001.html>

From billy.tetrud at gmail.com  Tue May 25 20:01:51 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Tue, 25 May 2021 10:01:51 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKg+QM94g+JcC-E-NGD4J9-nXHWt5kBw14bXTAWaqZz=bYw@mail.gmail.com>
 <CALeFGL02d9NVp+yobrtc2g6k2nBjBj0Qb==3Ukkbi8C_zb5qMg@mail.gmail.com>
 <CAD5xwhi1G3Jj3FAAWQP3BXTK34ugDQY32hq-cQnt8Ny8JP4eGQ@mail.gmail.com>
 <CAJowKgJ1x5YKWS1S-sgdU3Tn+hPT64iiUCwG8qh-JS0xqS7ieA@mail.gmail.com>
 <30li5MRxkBhzLxLmzRnHkCdn8n3Feqegi-FLZ5VDyIX2uRJfq4kVtrsLxw6dUtsM1atYV25IfIfDaQp4s2Dn2vc8LvYkhbAsn0v_Fwjerpw=@protonmail.com>
 <CAJ4-pEBYJNuNMUCt5J5DbKU4RC9JXcO7gZdKh2Vq6PHCmddaeg@mail.gmail.com>
 <hASF-iYeGlsq3EhNWY0EWhk5S8R1Wwn534cWsrwLInd8K7f7bUDCAP4GgTj8_ZNsKtgv8y09GJovcS6KXhYRHODC5N_88fvCAF1Z-r2TUFg=@protonmail.com>
 <CAJ4-pECb9QSUDPax8SU+-KGwPgVju=YKax9eb-iRwAmZGcMcPg@mail.gmail.com>
 <CAJowKgJ3DOrtO+_XzoEnqQUQdge=zCopg2mvuy5F=RSeaVPJYQ@mail.gmail.com>
 <CAKy8i-17Snk7ZeTL_U8ULDm3S5fYRXf412p1NpS_6CTT4Fhm0A@mail.gmail.com>
 <CAKy8i-0efmC_AmAK6oLy1FooXd6WeSeOvRUOJ8Lb6BJoqduDTQ@mail.gmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
Message-ID: <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>

@befreeandopen " An attacker can calculate whether or not she can prolong
this chain or not and if so with what timestamp."

The scenario you describe would only be likely to happen at all if the
malicious actor has a very large fraction of the stake - probably quite
close to 50%. At that point, you're talking about a 51% attack, not the
nothing at stake problem. The nothing at stake problem is the problem where
anyone will mint on any chain. Its clear that if there's a substantial
punishment for minting on chains other than the one that eventually wins,
every minter without a significant fraction of the stake will be honest and
not attempt to mint on old blocks or support someone else's attempt to mint
on old blocks (until and if it becomes the heaviest chain). Because the
attacker would need probably >45% of the active stake (take a look at
the reasoning
here
<https://github.com/fresheneesz/ValidatedProofOfStake#security-the-minimum-cost-of-attack>
for a deeper analysis of that statement), I don't agree that punishment is
not a sufficient mitigation of the nothing at stake problem. To exploit the
nothing at stake problem, you basically need to 51% attack, at which point
you've exceeded the operating conditions of the system, so of course its
gonna have problems, just like a 51% attack would cause with PoW.

> I am not sure if this is what you call quorum-based PoS

Yes, pre-selected minters is exactly what I mean by that.

> it allows the attacker to know who to attack at which point with powerful
DDOS in order to hurt liveness of such system

Just like in bitcoin, associating keys with IP addresses isn't generally an
easy thing to do on the fly like that. If you know someone's IP address,
you can target them. But if you only know their address or public key, the
reverse isn't as easy. With a quorum-based PoS system, you can see their
public key and address, but finding out their IP to DOS would be a huge
challenge I think.

Note, tho, that quorum-based PoS generally also have punishments as part of
the protocol. The introduction of punishments do indeed handily solve the
nothing at stake problem. And you didn't mention a single problem that the
punishments introduce that weren't already there before punishments. There
are tradeoffs with introducing punishments (eg in some cases you might
punish honest actors), but they are minor in comparison to solving the
nothing at stake problem.

So I don't think it is at all misleading to claim that "nothing at stake"
is a solved problem. I do in fact mean that the solutions to that problem
don't introduce any other problems with anywhere near the same level of
significance.

On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:

> > > you burn them to be used at a future particular block height
>
> > This sounds exploitable. It seems like an attacker could simply focus
> all their burns on a particular set of 6 blocks to double spend, minimizing
> their cost of attack.
>
> could be right.   the original idea was to have burns decay over time,
> like ASIC's.
>
> anyway the point was not that "i had a magic formula"
>
> the point was that proof of burn is almost always better than proof of
> stake - simply because the "proof" is on-chain, not sitting on a node
> somewhere waiting to be stolen.
>
> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com>
> wrote:
> >
> > Is this the kind of proof of burn you're talking about?
> >
> > >   if i have a choice between two chains, one longer and one shorter, i
> can only choose one... deterministically
> >
> > What prevents you from attempting to mine block 553 on both chains?
> >
> > > miners have a very strong, long-term, investment in the stability of
> the chain.
> >
> > Yes, but the same can be said of any coin, even ones that do have the
> nothing at stake problem. This isn't sufficient tho because the chain is a
> common good, and the tragedy of the commons holds for it.
> >
> > > you burn them to be used at a future particular block height
> >
> > This sounds exploitable. It seems like an attacker could simply focus
> all their burns on a particular set of 6 blocks to double spend, minimizing
> their cost of attack.
> >
> > > i can imagine scenarios where large stakeholders can collude to punish
> smaller stakeholders simply to drive them out of business, for example
> >
> > Are you talking about a 51% attack? This is possible in any
> decentralized cryptocurrency.
> >
> >
> > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
> >>
> >> > > your burn investment is always "at stake", any redaction can result
> in a loss-of-burn, because burns can be tied, precisely, to block-heights
> >> > I'm fuzzy on how proof of burn works.
> >>
> >> when you burn coins, you burn them to be used at a future particular
> >> block height: so if i'm burning for block 553, i can only use them to
> >> mine block 553.   if i have a choice between two chains, one longer
> >> and one shorter, i can only choose one... deterministically, for that
> >> burn: the chain with the height 553.   if we fix the "lead time" for
> >> burned coins to be weeks or even months in advance, miners have a very
> >> strong, long-term, investment in the stability of the chain.
> >>
> >> therefore there is no "nothing at stake" problem.   it's
> >> deterministic, so miners have no choice.  they can *only* choose the
> >> transactions that go into the block.  they cannot choose which chain
> >> to mine, and it's time-locked, so rollbacks and instability always
> >> hurt miners the most.
> >>
> >> the "punishment" systems of PoS are "weird at best", certainly
> >> unproven.   i can imagine scenarios where large stakeholders can
> >> collude to punish smaller stakeholders simply to drive them out of
> >> business, for example.   and then you have to put checks in place to
> >> prevent that, and more checks for those prevention system...
> >>
> >> in PoB, there is no complexity.  simpler systems like this are
> >> typically more secure.
> >>
> >> PoB also solves problems caused by "energy dependence", which could
> >> lead to state monopolies on mining (like the new Bitcoin Mining
> >> Council).   these consortiums, if state sanctioned, could become a
> >> source of censorship, for example.   Since PoB doesn't require you to
> >> have a live, well-connected node, it's harder to censor & harder to
> >> trace.
> >>
> >> Eliminating this weakness seems to be in the best interests of
> >> existing stakeholders
> >>
> >>
> >>
> >>
> >> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com>
> wrote:
> >> >
> >> > >  proof of burn clearly solves this, since nothing is held online
> >> >
> >> > Well.. the coins to be burned need to be online when they're burned.
> But yes, only a small fraction of the total coins need to be online.
> >> >
> >> > > your burn investment is always "at stake", any redaction can result
> in a loss-of-burn, because burns can be tied, precisely, to block-heights
> >> >
> >> > So you're saying that if say someone tries to mine a block on a
> shorter chain, that requires them to send a transaction burning their
> coins, and that transaction could also be spent on the longest chain, which
> means their coins are burned even if the chain they tried to mine on
> doesn't win? I'm fuzzy on how proof of burn works.
> >> >
> >> > > proof of burn can be more secure than proof-of-stake
> >> >
> >> > FYI, proof of stake can be done without the "nothing at stake"
> problem. You can simply punish people who mint on shorter chains (by
> rewarding people who publish proofs of this happening on the main chain).
> In quorum-based PoS, you can punish people in the quorum that propose or
> sign multiple blocks for the same height. The "nothing at stake" problem is
> a solved problem at this point for PoS.
> >> >
> >> >
> >> >
> >> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
> >> >>
> >> >> > I don't see a way to get around the conflicting requirement that
> the keys for large amounts of coins should be kept offline but those are
> exactly the coins we need online to make the scheme secure.
> >> >>
> >> >> proof of burn clearly solves this, since nothing is held online
> >> >>
> >> >> >  how does proof of burn solve the "nothing at stake" problem in
> your view?
> >> >>
> >> >> definition of nothing at stake: in the event of a fork, whether the
> >> >> fork is accidental or a malicious, the optimal strategy for any miner
> >> >> is to mine on every chain, so that the miner gets their reward no
> >> >> matter which fork wins.   indeed in proof-of-stake, the proofs are
> >> >> published on the very chains mines, so the incentive is magnified.
> >> >>
> >> >> in proof-of-burn, your burn investment is always "at stake", any
> >> >> redaction can result in a loss-of-burn, because burns can be tied,
> >> >> precisely, to block-heights
> >> >>
> >> >> as a result, miners no longer have an incentive to mine all chains
> >> >>
> >> >> in this way proof of burn can be more secure than proof-of-stake, and
> >> >> even more secure than proof of work
> >> >>
> >> >>
> >> >>
> >> >>
> >> >>
> >> >>
> >> >>
> >> >> >
> >> >>
> >> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
> >> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >> >
> >> >> > Hi Billy,
> >> >> >
> >> >> > I was going to write a post which started by dismissing many of
> the weak arguments that are made against PoS made in this thread and
> elsewhere.
> >> >> > Although I don't agree with all your points you have done a decent
> job here so I'll focus on the second part: why I think Proof-of-Stake is
> inappropriate for a Bitcoin-like system.
> >> >> >
> >> >> > Proof of stake is not fit for purpose for a global settlement
> layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin
> is trying to be.
> >> >> > PoS necessarily gives responsibilities to the holders of coins
> that they do not want and cannot handle.
> >> >> > In Bitcoin, large unsophisticated coin holders can put their coins
> in cold storage without a second thought given to the health of the
> underlying ledger.
> >> >> > As much as hardcore Bitcoiners try to convince them to run their
> own node, most don't, and that's perfectly acceptable.
> >> >> > At no point do their personal decisions affect the underlying
> consensus -- it only affects their personal security assurance (not that of
> the system itself).
> >> >> > In PoS systems this clean separation of responsibilities does not
> exist.
> >> >> >
> >> >> > I think that the more rigorously studied PoS protocols will work
> fine within the security claims made in their papers.
> >> >> > People who believe that these protocols are destined for
> catastrophic consensus failure are certainly in for a surprise.
> >> >> > But the devil is in the detail.
> >> >> > Let's look at what the implications of using the leading proof of
> stake protocols would have on Bitcoin:
> >> >> >
> >> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
> >> >> >
> >> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with
> an inbuilt on-chain delegation system[5].
> >> >> > In these protocols, coin holders who do not want to run their node
> with their hot keys in it delegate it to a "Stake Pool".
> >> >> > I call the resulting system Proof-of-SquareSpace since most will
> choose a pool by looking around for one with a nice website and offering
> the largest share of the block reward.
> >> >> > On the surface this might sound no different than someone with an
> mining rig shopping around for a good mining pool but there are crucial
> differences:
> >> >> >
> >> >> > 1. The person making the decision is forced into it just because
> they own the currency -- someone with a mining rig has purchased it with
> the intent to make profit by participating in consensus.
> >> >> >
> >> >> > 2. When you join a mining pool your systems are very much still
> online. You are just partaking in a pool to reduce your profit variance.
> You still see every block that you help create and *you never help create a
> block without seeing it first*.
> >> >> >
> >> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority
> and start censoring transactions how are the users meant to redelegate
> their stake to honest pools?
> >> >> > I guess they can just send a transaction delegating to another
> pool...oh wait I guess that might be censored too! This seems really really
> bad.
> >> >> > In Bitcoin, miners can just join a different pool at a whim. There
> is nothing the attacker can do to stop them. A temporary dishonest majority
> heals relatively well.
> >> >> >
> >> >> > There is another severe disadvantage to this on-chain delegation
> system: every UTXO must indicate which staking account this UTXO belongs to
> so the appropriate share of block rewards can be transferred there.
> >> >> > Being able to associate every UTXO to an account ruins one of the
> main privacy advantages of the UTXO model.
> >> >> > It also grows the size of the blockchain significantly.
> >> >> >
> >> >> > ### "Pure" proof of stake (Algorand)
> >> >> >
> >> >> > Algorand's[4] approach is to only allow online stake to
> participate in the protocol.
> >> >> > Theoretically, This means that keys holding funds have to be
> online in order for them to author blocks when they are chosen.
> >> >> > Of course in reality no one wants to keep their coin holding keys
> online so in Alogorand you can authorize a set of "participation keys"[1]
> that will be used to create blocks on your coin holding key's behalf.
> >> >> > Hopefully you've spotted the problem.
> >> >> > You can send your participation keys to any malicious party with a
> nice website (see random example [2]) offering you a good return.
> >> >> > Damn it's still Proof-of-SquareSpace!
> >> >> > The minor advantage is that at least the participation keys expire
> after a certain amount of time so eventually the SquareSpace attacker will
> lose their hold on consensus.
> >> >> > Importantly there is also less junk on the blockchain because the
> participation keys are delegated off-chain and so are not making as much of
> a mess.
> >> >> >
> >> >> > ### Conclusion
> >> >> >
> >> >> > I don't see a way to get around the conflicting requirement that
> the keys for large amounts of coins should be kept offline but those are
> exactly the coins we need online to make the scheme secure.
> >> >> > If we allow delegation then we open up a new social attack surface
> and it degenerates to Proof-of-SquareSpace.
> >> >> >
> >> >> > For a "digital gold" like system like Bitcoin we optimize for
> simplicity and desperately want to avoid extraneous responsibilities for
> the holder of the coin.
> >> >> > After all, gold is an inert element on the periodic table that
> doesn't confer responsibilities on the holder to maintain the quality of
> all the other bars of gold out there.
> >> >> > Bitcoin feels like this too and in many ways is more inert and
> beautifully boring than gold.
> >> >> > For Bitcoin to succeed I think we need to keep it that way and
> Proof-of-Stake makes everything a bit too exciting.
> >> >> >
> >> >> > I suppose in the end the market will decide what is real digital
> gold and whether these bad technical trade offs are worth being able to say
> it uses less electricity. It goes without saying that making bad technical
> decisions to appease the current political climate is an anathema to
> Bitcoin.
> >> >> >
> >> >> > Would be interested to know if you or others think differently on
> these points.
> >> >> >
> >> >> > [1]:
> https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
> >> >> > [2]: https://staking.staked.us/algorand-staking
> >> >> > [3]: https://eprint.iacr.org/2017/573.pdf
> >> >> > [4]:
> https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
> >> >> > [5]:
> https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
> >> >> >
> >> >> > Cheers,
> >> >> >
> >> >> > LL
> >> >> >
> >> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >> >>
> >> >> >> I think there is a lot of misinformation and bias against Proof
> of Stake. Yes there have been lots of shady coins that use insecure PoS
> mechanisms. Yes there have been massive issues with distribution of PoS
> coins (of course there have also been massive issues with PoW coins as
> well). However, I want to remind everyone that there is a difference
> between "proved to be impossible" and "have not achieved recognized success
> yet". Most of the arguments levied against PoS are out of date or rely on
> unproven assumptions or extrapolation from the analysis of a particular PoS
> system. I certainly don't think we should experiment with bitcoin by
> switching to PoS, but from my research, it seems very likely that there is
> a proof of stake consensus protocol we could build that has substantially
> higher security (cost / capital required to execute an attack) while at the
> same time costing far less resources (which do translate to fees on the
> network) *without* compromising any of the critical security properties
> bitcoin relies on. I think the critical piece of this is the disagreements
> around hardcoded checkpoints, which is a critical piece solving attacks
> that could be levied on a PoS chain, and how that does (or doesn't) affect
> the security model.
> >> >> >>
> >> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is
> worse when a 51% attack happens. While I agree, I think that line of
> thinking omits important facts:
> >> >> >> * The capital required to 51% attack a PoS chain can be made
> substantially greater than on a PoS chain.
> >> >> >> * The capital the attacker stands to lose can be substantially
> greater as well if the attack is successful.
> >> >> >> * The effectiveness of paying miners to raise the honest fraction
> of miners above 50% may be quite bad.
> >> >> >> * Allowing a 51% attack is already unacceptable. It should be
> considered whether what happens in the case of a 51% may not be
> significantly different. The currency would likely be critically damaged in
> a 51% attack regardless of consensus mechanism.
> >> >> >>
> >> >> >> > Proof-of-stake tends towards oligopolistic control
> >> >> >>
> >> >> >> People repeat this often, but the facts support this. There is no
> centralization pressure in any proof of stake mechanism that I'm aware of.
> IE if you have 10 times as much coin that you use to mint blocks, you
> should expect to earn 10x as much minting revenue - not more than 10x. By
> contrast, proof of work does in fact have clear centralization pressure -
> this is not disputed. Our goal in relation to that is to ensure that the
> centralization pressure remains insignifiant. Proof of work also clearly
> has a lot more barriers to entry than any proof of stake system does. Both
> of these mean the tendency towards oligopolistic control is worse for PoW.
> >> >> >>
> >> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
> >> >> >>
> >> >> >> I certainly agree. Bitcoin's energy usage at the moment is I
> think quite warranted. However, the question is: can we do substantially
> better. I think if we can, we probably should... eventually.
> >> >> >>
> >> >> >> > Proof of Stake is only resilient to ? of the network
> demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to
> the ? threshold
> >> >> >>
> >> >> >> I see no mention of this in the pos.pdf you linked to. I'm not
> aware of any proof that all PoS systems have a failure threshold of 1/3. I
> know that staking systems like Casper do in fact have that 1/3 requirement.
> However there are PoS designs that should exceed that up to nearly 50% as
> far as I'm aware. Proof of work is not in fact resilient up to the 1/2
> threshold in the way you would think. IE, if 100% of miners are currently
> honest and have a collective 100 exahashes/s hashpower, an attacker does
> not need to obtain 100 exahashes/s, but actually only needs to accumulate
> 50 exahashes/s. This is because as the attacker accumulates hashpower, it
> drives honest miners out of the market as the difficulty increases to
> beyond what is economically sustainable. Also, its been shown that the best
> proof of work can do is require an attacker to obtain 33% of the hashpower
> because of the selfish mining attack discussed in depth in this paper:
> https://arxiv.org/abs/1311.0243. Together, both of these things reduce
> PoW's security by a factor of about 83% (1 - 50%*33%).
> >> >> >>
> >> >> >>  > Proof of Stake requires other trade-offs which are
> incompatible with Bitcoin's objective (to be a trustless digital cash) ?
> specifically the famous "security vs. liveness" guarantee
> >> >> >>
> >> >> >> Do you have a good source that talks about why you think proof of
> stake cannot be used for a trustless digital cash?
> >> >> >>
> >> >> >> > You cannot gain tokens without someone choosing to give up
> those coins - a form of permission.
> >> >> >>
> >> >> >> This is not a practical constraint. Just like in mining, some
> nodes may reject you, but there will likely be more that will accept you,
> some sellers may reject you, but most would accept your money as payment
> for bitcoins. I don't think requiring the "permission" of one of millions
> of people in the market can be reasonably considered a "permissioned
> currency".
> >> >> >>
> >> >> >> > 2. Proof of stake must have a trusted means of timestamping to
> regulate overproduction of blocks
> >> >> >>
> >> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone
> agreed to double their clock speeds. Both systems rely on an honest
> majority sticking to standard time.
> >> >> >>
> >> >> >>
> >> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev
> <bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >> >>>
> >> >> >>> Ah sorry, I didn't realize this was, in fact, a different
> thread! :)
> >> >> >>>
> >> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <
> mike at powx.org> wrote:
> >> >> >>>>
> >> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the
> BIP itself. PoS, VDFs, and so on are interesting but I guess there are
> other threads going on these topics already where they would be relevant.
> >> >> >>>>
> >> >> >>>> Also, it's important to distinguish between oPoW and these
> other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't
> alter the core game theory or security assumptions of Hashcash and actually
> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
> >> >> >>>>
> >> >> >>>> Cheers,
> >> >> >>>> Mike
> >> >> >>>>
> >> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> wrote:
> >> >> >>>>>
> >> >> >>>>> 1. i never suggested vdf's to replace pow.
> >> >> >>>>>
> >> >> >>>>> 2. my suggestion was specifically *in the context of* a working
> >> >> >>>>> proof-of-burn protocol
> >> >> >>>>>
> >> >> >>>>> - vdfs used only for timing (not block height)
> >> >> >>>>> - blind-burned coins of a specific age used to replace proof
> of work
> >> >> >>>>> - the required "work" per block would simply be a competition
> to
> >> >> >>>>> acquire rewards, and so miners would have to burn coins, well
> in
> >> >> >>>>> advance, and hope that their burned coins got rewarded in some
> far
> >> >> >>>>> future
> >> >> >>>>> - the point of burned coins is to mimic, in every meaningful
> way, the
> >> >> >>>>> value gained from proof of work... without some of the security
> >> >> >>>>> drawbacks
> >> >> >>>>> - the miner risks losing all of his burned coins (like all
> miners risk
> >> >> >>>>> losing their work in each block)
> >> >> >>>>> - new burns can't be used
> >> >> >>>>> - old burns age out (like ASICs do)
> >> >> >>>>> - other requirements on burns might be needed to properly
> mirror the
> >> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine
> honestly.
> >> >> >>>>>
> >> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf
> system"
> >> >> >>>>> might be more secure in the long run, and that if the entire
> space
> >> >> >>>>> agreed that such an endeavor was worthwhile, a test net could
> be spun
> >> >> >>>>> up, and a hard-fork could be initiated.
> >> >> >>>>>
> >> >> >>>>> 4. i would never suggest such a thing unless i believed it was
> >> >> >>>>> possible that consensus was possible.  so no, this is not an
> "alt
> >> >> >>>>> coin"
> >> >> >>>>>
> >> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <
> zachgrw at gmail.com> wrote:
> >> >> >>>>> >
> >> >> >>>>> > Hi ZmnSCPxj,
> >> >> >>>>> >
> >> >> >>>>> > Please note that I am not suggesting VDFs as a means to save
> energy, but solely as a means to make the time between blocks more constant.
> >> >> >>>>> >
> >> >> >>>>> > Zac
> >> >> >>>>> >
> >> >> >>>>> >
> >> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <
> ZmnSCPxj at protonmail.com> wrote:
> >> >> >>>>> >>
> >> >> >>>>> >> Good morning Zac,
> >> >> >>>>> >>
> >> >> >>>>> >> > VDFs might enable more constant block times, for instance
> by having a two-step PoW:
> >> >> >>>>> >> >
> >> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF
> being subject to difficulty adjustments similar to the as-is). As per the
> property of VDFs, miners are able show proof of work.
> >> >> >>>>> >> >
> >> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so
> finding a block takes 1 minute on average, again subject to as-is
> difficulty adjustments.
> >> >> >>>>> >> >
> >> >> >>>>> >> > As a result, variation in block times will be greatly
> reduced.
> >> >> >>>>> >>
> >> >> >>>>> >> As I understand it, another weakness of VDFs is that they
> are not inherently progress-free (their sequential nature prevents that;
> they are inherently progress-requiring).
> >> >> >>>>> >>
> >> >> >>>>> >> Thus, a miner which focuses on improving the amount of
> energy that it can pump into the VDF circuitry (by overclocking and
> freezing the circuitry), could potentially get into a winner-takes-all
> situation, possibly leading to even *worse* competition and even *more*
> energy consumption.
> >> >> >>>>> >> After all, if you can start mining 0.1s faster than the
> competition, that is a 0.1s advantage where *only you* can mine *in the
> entire world*.
> >> >> >>>>> >>
> >> >> >>>>> >> Regards,
> >> >> >>>>> >> ZmnSCPxj
> >> >> >>>>> _______________________________________________
> >> >> >>>>> bitcoin-dev mailing list
> >> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
> >> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >> >> >>>>
> >> >> >>>>
> >> >> >>>>
> >> >> >>>> --
> >> >> >>>> Michael Dubrovsky
> >> >> >>>> Founder; PoWx
> >> >> >>>> www.PoWx.org
> >> >> >>>
> >> >> >>>
> >> >> >>>
> >> >> >>> --
> >> >> >>> Michael Dubrovsky
> >> >> >>> Founder; PoWx
> >> >> >>> www.PoWx.org
> >> >> >>> _______________________________________________
> >> >> >>> bitcoin-dev mailing list
> >> >> >>> bitcoin-dev at lists.linuxfoundation.org
> >> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >> >> >>
> >> >> >> _______________________________________________
> >> >> >> bitcoin-dev mailing list
> >> >> >> bitcoin-dev at lists.linuxfoundation.org
> >> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >> >> >
> >> >> > _______________________________________________
> >> >> > bitcoin-dev mailing list
> >> >> > bitcoin-dev at lists.linuxfoundation.org
> >> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/f0981968/attachment-0001.html>

From befreeandopen at protonmail.com  Tue May 25 21:10:35 2021
From: befreeandopen at protonmail.com (befreeandopen)
Date: Tue, 25 May 2021 21:10:35 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
Message-ID: <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>

> @befreeandopen " An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp."
>
> The scenario you describe would only be likely to happen at all if the malicious actor has a very large fraction of the stake - probably quite close to 50%. At that point, you're talking about a 51% attack, not the nothing at stake problem. The nothing at stake problem is the problem where anyone will mint on any chain. Its clear that if there's a substantial punishment for minting on chains other than the one that eventually wins, every minter without a significant fraction of the stake will be honest and not attempt to mint on old blocks or support someone else's attempt to mint on old blocks (until and if it becomes the heaviest chain). Because the attacker would need probably >45% of the active stake (take a look at the [reasoning here](https://github.com/fresheneesz/ValidatedProofOfStake#security-the-minimum-cost-of-attack) for a deeper analysis of that statement), I don't agree that punishment is not a sufficient mitigation of the nothing at stake problem. To exploit the nothing at stake problem, you basically need to 51% attack, at which point you've exceeded the operating conditions of the system, so of course its gonna have problems, just like a 51% attack would cause with PoW.

This is not at all the case. The attacker benefits using the described technique at any size of the stake and significantly so with just 5% of the stake. By significantly, I do not mean that the attacker is able to completely take control the network (in short term), but rather that the attacker has significant advantage in the number of blocks she creates compared to what she "should be able to create". This means the attacker's stake increases significantly faster than of the honest nodes, which in long term is very serious in PoS system. If you believe close to 50% is needed for that, you need to redo your math. So no, you are wrong stating that "to exploit nothing at stake problem you basically need to 51% attack". It is rather the opposite - eventually, nothing at stake attack leads to ability to perform 51% attack.

>> I am not sure if this is what you call quorum-based PoS
>
> Yes, pre-selected minters is exactly what I mean by that.
>
>> it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system
>
> Just like in bitcoin, associating keys with IP addresses isn't generally an easy thing to do on the fly like that. If you know someone's IP address, you can target them. But if you only know their address or public key, the reverse isn't as easy. With a quorum-based PoS system, you can see their public key and address, but finding out their IP to DOS would be a huge challenge I think.

I do not dispute that the problem is not trivial, but the problem is not as hard as you think. The network graph analysis is a known technique and it is not trivial, but not very hard either. Introducing a large number of nodes to the system to achieve very good success rate of analysis of area of origin of blocks is doable and has been done in past. So again, I very much disagree with your conclusion that this is somehow secure. It is absolutely insecure.

> Note, tho, that quorum-based PoS generally also have punishments as part of the protocol. The introduction of punishments do indeed handily solve the nothing at stake problem. And you didn't mention a single problem that the punishments introduce that weren't already there before punishments. There are tradeoffs with introducing punishments (eg in some cases you might punish honest actors), but they are minor in comparison to solving the nothing at stake problem.

While I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message), it does introduce additional complexity which may introduce problem, but more importantly, while it slightly improves resistance against the nothing at stake attack, it solves absolutely nothing. Your claim is based on wrong claim of needed close to 50% stake, but that could not be farther from the truth. It is not true even in optimal conditions when all participants of the network stake or delegate their stake. These optimal conditions rarely, if ever, occur. And that's another thing that we have not mention in our debate, so please allow me to introduce another problem to PoS.

Consider what is needed for such optimal conditions to occur - all coins are always part of the stake, which means that they need to somehow automatically part of the staking process even when they are moved. But in many PoS systems you usually require some age (in terms of confirmations) of the coin before you allow it to be used for participation in staking process and that is for a good reason - to prevent various grinding attacks. In some systems the coin must be specifically registered before it can be staked, in others, simply waiting for enough confirmations enables you to stake with the coin. I am not sure if there is a system which does not have this cooling period for a coin that has been moved. Maybe it is possible though, but AFAIK it is not common and not battle tested feature.

Then if we admit that achieving the optimal condition is rather theoretical. Then if we do not have the optimal condition, it means that a staker with K% of the total available supply increases it's percentage over time to some amounts >K%. As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake (if there are any) and relative to all other stakers who make mistakes or who are not wealthy enough to afford not selling any position ever. But powerful attacker is exactly in such position and thus she will gain significance in such a system. The technique I have described, and that you mistakenly think is viable only with huge amounts of stake, only puts the attacker to even greater advantage. But even without the described attack (which exploits nothing at stake), the PoS system converges to a system more and more controlled by powerful entity, which we can assume is the attacker.

> So I don't think it is at all misleading to claim that "nothing at stake" is a solved problem. I do in fact mean that the solutions to that problem don't introduce any other problems with anywhere near the same level of significance.

It still stands as truly misleading claim. I disagree that introducing DDOS opportunity with medium level of difficulty for the attacker to implement it, in case of "quorum-based PoS" is not a problem anywhere near the same level of significance. Such an attack vector allows you to turn off the network if you spend some time and money. That is hardly acceptable.

Just because of the above we must reject PoS as being critically insecure until someone invents and demonstrates an actual way of solving these issues.

> On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:
>
>>> > you burn them to be used at a future particular block height
>>
>>> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>
>> could be right. the original idea was to have burns decay over time,
>> like ASIC's.
>>
>> anyway the point was not that "i had a magic formula"
>>
>> the point was that proof of burn is almost always better than proof of
>> stake - simply because the "proof" is on-chain, not sitting on a node
>> somewhere waiting to be stolen.
>>
>> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>
>>> Is this the kind of proof of burn you're talking about?
>>>
>>> > if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
>>>
>>> What prevents you from attempting to mine block 553 on both chains?
>>>
>>> > miners have a very strong, long-term, investment in the stability of the chain.
>>>
>>> Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
>>>
>>> > you burn them to be used at a future particular block height
>>>
>>> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>
>>> > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
>>>
>>> Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
>>>
>>>
>>> On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>>>>
>>>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>> > I'm fuzzy on how proof of burn works.
>>>>
>>>> when you burn coins, you burn them to be used at a future particular
>>>> block height: so if i'm burning for block 553, i can only use them to
>>>> mine block 553. if i have a choice between two chains, one longer
>>>> and one shorter, i can only choose one... deterministically, for that
>>>> burn: the chain with the height 553. if we fix the "lead time" for
>>>> burned coins to be weeks or even months in advance, miners have a very
>>>> strong, long-term, investment in the stability of the chain.
>>>>
>>>> therefore there is no "nothing at stake" problem. it's
>>>> deterministic, so miners have no choice. they can *only* choose the
>>>> transactions that go into the block. they cannot choose which chain
>>>> to mine, and it's time-locked, so rollbacks and instability always
>>>> hurt miners the most.
>>>>
>>>> the "punishment" systems of PoS are "weird at best", certainly
>>>> unproven. i can imagine scenarios where large stakeholders can
>>>> collude to punish smaller stakeholders simply to drive them out of
>>>> business, for example. and then you have to put checks in place to
>>>> prevent that, and more checks for those prevention system...
>>>>
>>>> in PoB, there is no complexity. simpler systems like this are
>>>> typically more secure.
>>>>
>>>> PoB also solves problems caused by "energy dependence", which could
>>>> lead to state monopolies on mining (like the new Bitcoin Mining
>>>> Council). these consortiums, if state sanctioned, could become a
>>>> source of censorship, for example. Since PoB doesn't require you to
>>>> have a live, well-connected node, it's harder to censor & harder to
>>>> trace.
>>>>
>>>> Eliminating this weakness seems to be in the best interests of
>>>> existing stakeholders
>>>>
>>>>
>>>>
>>>>
>>>> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>> >
>>>> > > proof of burn clearly solves this, since nothing is held online
>>>> >
>>>> > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>>>> >
>>>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>> >
>>>> > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>>>> >
>>>> > > proof of burn can be more secure than proof-of-stake
>>>> >
>>>> > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>>>> >
>>>> >
>>>> >
>>>> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>>>> >>
>>>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>> >>
>>>> >> proof of burn clearly solves this, since nothing is held online
>>>> >>
>>>> >> > how does proof of burn solve the "nothing at stake" problem in your view?
>>>> >>
>>>> >> definition of nothing at stake: in the event of a fork, whether the
>>>> >> fork is accidental or a malicious, the optimal strategy for any miner
>>>> >> is to mine on every chain, so that the miner gets their reward no
>>>> >> matter which fork wins. indeed in proof-of-stake, the proofs are
>>>> >> published on the very chains mines, so the incentive is magnified.
>>>> >>
>>>> >> in proof-of-burn, your burn investment is always "at stake", any
>>>> >> redaction can result in a loss-of-burn, because burns can be tied,
>>>> >> precisely, to block-heights
>>>> >>
>>>> >> as a result, miners no longer have an incentive to mine all chains
>>>> >>
>>>> >> in this way proof of burn can be more secure than proof-of-stake, and
>>>> >> even more secure than proof of work
>>>> >>
>>>> >>
>>>> >>
>>>> >>
>>>> >>
>>>> >>
>>>> >>
>>>> >> >
>>>> >>
>>>> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>>>> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >
>>>> >> > Hi Billy,
>>>> >> >
>>>> >> > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>>>> >> > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>>>> >> >
>>>> >> > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>>>> >> > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>>>> >> > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>>>> >> > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>>>> >> > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>>>> >> > In PoS systems this clean separation of responsibilities does not exist.
>>>> >> >
>>>> >> > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>>>> >> > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>>>> >> > But the devil is in the detail.
>>>> >> > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>>>> >> >
>>>> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>>>> >> >
>>>> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>>>> >> > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>>>> >> > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>>>> >> > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>>>> >> >
>>>> >> > 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>>>> >> >
>>>> >> > 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>>>> >> >
>>>> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>>>> >> > I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>>>> >> > In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>>>> >> >
>>>> >> > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>>>> >> > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>>>> >> > It also grows the size of the blockchain significantly.
>>>> >> >
>>>> >> > ### "Pure" proof of stake (Algorand)
>>>> >> >
>>>> >> > Algorand's[4] approach is to only allow online stake to participate in the protocol.
>>>> >> > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>>>> >> > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>>>> >> > Hopefully you've spotted the problem.
>>>> >> > You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>>>> >> > Damn it's still Proof-of-SquareSpace!
>>>> >> > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>>>> >> > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>>>> >> >
>>>> >> > ### Conclusion
>>>> >> >
>>>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>> >> > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>>>> >> >
>>>> >> > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>>>> >> > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>>>> >> > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>>>> >> > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>>>> >> >
>>>> >> > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>>>> >> >
>>>> >> > Would be interested to know if you or others think differently on these points.
>>>> >> >
>>>> >> > [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>>>> >> > [2]: https://staking.staked.us/algorand-staking
>>>> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>>>> >> > [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>>>> >> > [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>>> >> >
>>>> >> > Cheers,
>>>> >> >
>>>> >> > LL
>>>> >> >
>>>> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >>
>>>> >> >> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>>>> >> >>
>>>> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>>>> >> >> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>>>> >> >> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>>>> >> >> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>>>> >> >> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>>>> >> >>
>>>> >> >> > Proof-of-stake tends towards oligopolistic control
>>>> >> >>
>>>> >> >> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>>>> >> >>
>>>> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>>> >> >>
>>>> >> >> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>>>> >> >>
>>>> >> >> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>>> >> >>
>>>> >> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>>>> >> >>
>>>> >> >> > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>>>> >> >>
>>>> >> >> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>>>> >> >>
>>>> >> >> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>>>> >> >>
>>>> >> >> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>>>> >> >>
>>>> >> >> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>>>> >> >>
>>>> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>>>> >> >>
>>>> >> >>
>>>> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >>>
>>>> >> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>> >> >>>
>>>> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>>> >> >>>>
>>>> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>>> >> >>>>
>>>> >> >>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>> >> >>>>
>>>> >> >>>> Cheers,
>>>> >> >>>> Mike
>>>> >> >>>>
>>>> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >>>>>
>>>> >> >>>>> 1. i never suggested vdf's to replace pow.
>>>> >> >>>>>
>>>> >> >>>>> 2. my suggestion was specifically *in the context of* a working
>>>> >> >>>>> proof-of-burn protocol
>>>> >> >>>>>
>>>> >> >>>>> - vdfs used only for timing (not block height)
>>>> >> >>>>> - blind-burned coins of a specific age used to replace proof of work
>>>> >> >>>>> - the required "work" per block would simply be a competition to
>>>> >> >>>>> acquire rewards, and so miners would have to burn coins, well in
>>>> >> >>>>> advance, and hope that their burned coins got rewarded in some far
>>>> >> >>>>> future
>>>> >> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>> >> >>>>> value gained from proof of work... without some of the security
>>>> >> >>>>> drawbacks
>>>> >> >>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>> >> >>>>> losing their work in each block)
>>>> >> >>>>> - new burns can't be used
>>>> >> >>>>> - old burns age out (like ASICs do)
>>>> >> >>>>> - other requirements on burns might be needed to properly mirror the
>>>> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>> >> >>>>>
>>>> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>> >> >>>>> might be more secure in the long run, and that if the entire space
>>>> >> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>> >> >>>>> up, and a hard-fork could be initiated.
>>>> >> >>>>>
>>>> >> >>>>> 4. i would never suggest such a thing unless i believed it was
>>>> >> >>>>> possible that consensus was possible. so no, this is not an "alt
>>>> >> >>>>> coin"
>>>> >> >>>>>
>>>> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>>> >> >>>>> >
>>>> >> >>>>> > Hi ZmnSCPxj,
>>>> >> >>>>> >
>>>> >> >>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>>> >> >>>>> >
>>>> >> >>>>> > Zac
>>>> >> >>>>> >
>>>> >> >>>>> >
>>>> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>>> >> >>>>> >>
>>>> >> >>>>> >> Good morning Zac,
>>>> >> >>>>> >>
>>>> >> >>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>>> >> >>>>> >> >
>>>> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>>> >> >>>>> >> >
>>>> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>>> >> >>>>> >> >
>>>> >> >>>>> >> > As a result, variation in block times will be greatly reduced.
>>>> >> >>>>> >>
>>>> >> >>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>>> >> >>>>> >>
>>>> >> >>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>>> >> >>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>> >> >>>>> >>
>>>> >> >>>>> >> Regards,
>>>> >> >>>>> >> ZmnSCPxj
>>>> >> >>>>> _______________________________________________
>>>> >> >>>>> bitcoin-dev mailing list
>>>> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>> >> >>>>
>>>> >> >>>>
>>>> >> >>>>
>>>> >> >>>> --
>>>> >> >>>> Michael Dubrovsky
>>>> >> >>>> Founder; PoWx
>>>> >> >>>> www.PoWx.org
>>>> >> >>>
>>>> >> >>>
>>>> >> >>>
>>>> >> >>> --
>>>> >> >>> Michael Dubrovsky
>>>> >> >>> Founder; PoWx
>>>> >> >>> www.PoWx.org
>>>> >> >>> _______________________________________________
>>>> >> >>> bitcoin-dev mailing list
>>>> >> >>> bitcoin-dev at lists.linuxfoundation.org
>>>> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>> >> >>
>>>> >> >> _______________________________________________
>>>> >> >> bitcoin-dev mailing list
>>>> >> >> bitcoin-dev at lists.linuxfoundation.org
>>>> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>> >> >
>>>> >> > _______________________________________________
>>>> >> > bitcoin-dev mailing list
>>>> >> > bitcoin-dev at lists.linuxfoundation.org
>>>> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/53d90560/attachment-0001.html>

From billy.tetrud at gmail.com  Wed May 26 06:53:44 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Tue, 25 May 2021 20:53:44 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAGpPWDaiGdgrECZzvM67O6t-kVieL4uR4ydEkHr+gwUB7Ahykg@mail.gmail.com>
 <CAH5Bsr2WaOhSObNX-=61md6tF49auaH7wUB08qKv5baiFutxSw@mail.gmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
Message-ID: <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>

@befreeandopen I guess I misunderstood your selfish minting attack. Let me
make sure I understand it. You're saying it would go as follows?:

1. The malicious actor comes across an opportunity to mint the next 3
blocks. But they hold off and don't release their blocks just yet.
2. They receive a new block minted by someone else.
3. The malicious actor then chooses to release their other 2 blocks on on
the second from the top block if it gives them more blocks in the future
than minting on the top block. And instead lets the top block proceed if it
gives them more blocks in the future (also figuring in the 3 blocks they're
missing out on minting).
4. Profit!

The problem with this attack is that any self respecting PoS system
wouldn't have the information available for minters to know how blocks will
affect their future prospects of minting. Otherwise this would introduce
the problem of stake grinding. This can be done using collaborative
randomness (where numbers from many parties are combined to create a random
number that no individual party could predict). In fact, that's what the
Casper protocol does to decide quorums. In a non quorum case, you can do
something like record a hash of a number in the block header, and then have
a second step to release that number later. Rewards can be given can be
used to ensure minters act honestly here by minting messages that release
these numbers and not releasing their secret numbers too early.

Fun fact tho: there is an attack called the "selfish mining attack" for
proof of work, and it reduces the security of PoW by at least 1/3rd
<https://bitcoinmagazine.com/technical/selfish-mining-a-25-attack-against-the-bitcoin-network-1383578440>
.

>   the problem is not as hard as you think

I don't claim to know just how hard finding the IP address associated with
a bitcoin address is. However, the DOS risk can be solved more completely
by only allowing the owner of coins themselves to know whether they can
mint a block. Eg by determining whether someone can mint a block based on
their public key hidden behind hashes (as normal in addresses). Only when
someone does in fact mint a block do they reveal their hidden public key in
order to prove they are allowed to mint the block.

> I agree that introduction of punishment itself does not imply introducing
a problem elsewhere (which I did not claim if you reread my previous
message)

I'm glad we agree there. Perhaps I misunderstood what you meant by "you
should not omit to mention that by doing so, typically, you have introduced
another problem elsewhere."

> As long as the staker makes sure (which is not that hard) that she does
not miss a chance to create a block, her significance in the system will
always increase in time. It will increase relative to all normal users who
do not stake

Well, if you're in the closed system of the cryptocurrency, sure. But we
don't live in that closed system. Minters will earn some ROI from minting
just like any other financial activity. Others may find more success
spending their time doing things other than figuring out how to mint coins.
In that case, they'll be able to earn more coin that they could later
decide to use to mint blocks if they decide to.

> Just because of the above we must reject PoS as being critically insecure

I think the only thing we can conclude from this is that you have come up
with an insecure proof of stake protocol. I don't see how anything you've
brought up amounts to substantial evidence that all possible PoS protocols
are insecure.


On Tue, May 25, 2021 at 11:10 AM befreeandopen <befreeandopen at protonmail.com>
wrote:

>
> @befreeandopen " An attacker can calculate whether or not she can prolong
> this chain or not and if so with what timestamp."
>
> The scenario you describe would only be likely to happen at all if the
> malicious actor has a very large fraction of the stake - probably quite
> close to 50%. At that point, you're talking about a 51% attack, not the
> nothing at stake problem. The nothing at stake problem is the problem where
> anyone will mint on any chain. Its clear that if there's a substantial
> punishment for minting on chains other than the one that eventually wins,
> every minter without a significant fraction of the stake will be honest and
> not attempt to mint on old blocks or support someone else's attempt to mint
> on old blocks (until and if it becomes the heaviest chain). Because the
> attacker would need probably >45% of the active stake (take a look at the reasoning
> here
> <https://github.com/fresheneesz/ValidatedProofOfStake#security-the-minimum-cost-of-attack>
> for a deeper analysis of that statement), I don't agree that punishment is
> not a sufficient mitigation of the nothing at stake problem. To exploit the
> nothing at stake problem, you basically need to 51% attack, at which point
> you've exceeded the operating conditions of the system, so of course its
> gonna have problems, just like a 51% attack would cause with PoW.
>
>
> This is not at all the case. The attacker benefits using the described
> technique at any size of the stake and significantly so with just 5% of the
> stake. By significantly, I do not mean that the attacker is able to
> completely take control the network (in short term), but rather that the
> attacker has significant advantage in the number of blocks she creates
> compared to what she "should be able to create". This means the attacker's
> stake increases significantly faster than of the honest nodes, which in
> long term is very serious in PoS system. If you believe close to 50% is
> needed for that, you need to redo your math. So no, you are wrong stating
> that "to exploit nothing at stake problem you basically need to 51%
> attack". It is rather the opposite - eventually, nothing at stake attack
> leads to ability to perform 51% attack.
>
>
>
> > I am not sure if this is what you call quorum-based PoS
>
> Yes, pre-selected minters is exactly what I mean by that.
>
> > it allows the attacker to know who to attack at which point with
> powerful DDOS in order to hurt liveness of such system
>
> Just like in bitcoin, associating keys with IP addresses isn't generally
> an easy thing to do on the fly like that. If you know someone's IP address,
> you can target them. But if you only know their address or public key, the
> reverse isn't as easy. With a quorum-based PoS system, you can see their
> public key and address, but finding out their IP to DOS would be a huge
> challenge I think.
>
>
> I do not dispute that the problem is not trivial, but the problem is not
> as hard as you think. The network graph analysis is a known technique and
> it is not trivial, but not very hard either. Introducing a large number of
> nodes to the system to achieve very good success rate of analysis of area
> of origin of blocks is doable and has been done in past. So again, I very
> much disagree with your conclusion that this is somehow secure. It is
> absolutely insecure.
>
>
>
> Note, tho, that quorum-based PoS generally also have punishments as part
> of the protocol. The introduction of punishments do indeed handily solve
> the nothing at stake problem. And you didn't mention a single problem that
> the punishments introduce that weren't already there before punishments.
> There are tradeoffs with introducing punishments (eg in some cases you
> might punish honest actors), but they are minor in comparison to solving
> the nothing at stake problem.
>
>
> While I agree that introduction of punishment itself does not imply
> introducing a problem elsewhere (which I did not claim if you reread my
> previous message), it does introduce additional complexity which may
> introduce problem, but more importantly, while it slightly improves
> resistance against the nothing at stake attack, it solves absolutely
> nothing. Your claim is based on wrong claim of needed close to 50% stake,
> but that could not be farther from the truth. It is not true even in
> optimal conditions when all participants of the network stake or delegate
> their stake. These optimal conditions rarely, if ever, occur. And that's
> another thing that we have not mention in our debate, so please allow me to
> introduce another problem to PoS.
>
> Consider what is needed for such optimal conditions to occur - all coins
> are always part of the stake, which means that they need to somehow
> automatically part of the staking process even when they are moved. But in
> many PoS systems you usually require some age (in terms of confirmations)
> of the coin before you allow it to be used for participation in staking
> process and that is for a good reason - to prevent various grinding
> attacks. In some systems the coin must be specifically registered before it
> can be staked, in others, simply waiting for enough confirmations enables
> you to stake with the coin. I am not sure if there is a system which does
> not have this cooling period for a coin that has been moved. Maybe it is
> possible though, but AFAIK it is not common and not battle tested feature.
>
> Then if we admit that achieving the optimal condition is rather
> theoretical. Then if we do not have the optimal condition, it means that a
> staker with K% of the total available supply increases it's percentage over
> time to some amounts >K%. As long as the staker makes sure (which is not
> that hard) that she does not miss a chance to create a block, her
> significance in the system will always increase in time. It will increase
> relative to all normal users who do not stake (if there are any) and
> relative to all other stakers who make mistakes or who are not wealthy
> enough to afford not selling any position ever. But powerful attacker is
> exactly in such position and thus she will gain significance in such a
> system. The technique I have described, and that you mistakenly think is
> viable only with huge amounts of stake, only puts the attacker to even
> greater advantage. But even without the described attack (which exploits
> nothing at stake), the PoS system converges to a system more and more
> controlled by powerful entity, which we can assume is the attacker.
>
>
> So I don't think it is at all misleading to claim that "nothing at stake"
> is a solved problem. I do in fact mean that the solutions to that problem
> don't introduce any other problems with anywhere near the same level of
> significance.
>
>
> It still stands as truly misleading claim. I disagree that introducing
> DDOS opportunity with medium level of difficulty for the attacker to
> implement it, in case of "quorum-based PoS" is not a problem anywhere near
> the same level of significance. Such an attack vector allows you to turn
> off the network if you spend some time and money. That is hardly acceptable.
>
> Just because of the above we must reject PoS as being critically insecure
> until someone invents and demonstrates an actual way of solving these
> issues.
>
>
>
> On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:
>
>> > > you burn them to be used at a future particular block height
>>
>> > This sounds exploitable. It seems like an attacker could simply focus
>> all their burns on a particular set of 6 blocks to double spend, minimizing
>> their cost of attack.
>>
>> could be right.   the original idea was to have burns decay over time,
>> like ASIC's.
>>
>> anyway the point was not that "i had a magic formula"
>>
>> the point was that proof of burn is almost always better than proof of
>> stake - simply because the "proof" is on-chain, not sitting on a node
>> somewhere waiting to be stolen.
>>
>> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com>
>> wrote:
>> >
>> > Is this the kind of proof of burn you're talking about?
>> >
>> > >   if i have a choice between two chains, one longer and one shorter,
>> i can only choose one... deterministically
>> >
>> > What prevents you from attempting to mine block 553 on both chains?
>> >
>> > > miners have a very strong, long-term, investment in the stability of
>> the chain.
>> >
>> > Yes, but the same can be said of any coin, even ones that do have the
>> nothing at stake problem. This isn't sufficient tho because the chain is a
>> common good, and the tragedy of the commons holds for it.
>> >
>> > > you burn them to be used at a future particular block height
>> >
>> > This sounds exploitable. It seems like an attacker could simply focus
>> all their burns on a particular set of 6 blocks to double spend, minimizing
>> their cost of attack.
>> >
>> > > i can imagine scenarios where large stakeholders can collude to
>> punish smaller stakeholders simply to drive them out of business, for
>> example
>> >
>> > Are you talking about a 51% attack? This is possible in any
>> decentralized cryptocurrency.
>> >
>> >
>> > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>> >>
>> >> > > your burn investment is always "at stake", any redaction can
>> result in a loss-of-burn, because burns can be tied, precisely, to
>> block-heights
>> >> > I'm fuzzy on how proof of burn works.
>> >>
>> >> when you burn coins, you burn them to be used at a future particular
>> >> block height: so if i'm burning for block 553, i can only use them to
>> >> mine block 553.   if i have a choice between two chains, one longer
>> >> and one shorter, i can only choose one... deterministically, for that
>> >> burn: the chain with the height 553.   if we fix the "lead time" for
>> >> burned coins to be weeks or even months in advance, miners have a very
>> >> strong, long-term, investment in the stability of the chain.
>> >>
>> >> therefore there is no "nothing at stake" problem.   it's
>> >> deterministic, so miners have no choice.  they can *only* choose the
>> >> transactions that go into the block.  they cannot choose which chain
>> >> to mine, and it's time-locked, so rollbacks and instability always
>> >> hurt miners the most.
>> >>
>> >> the "punishment" systems of PoS are "weird at best", certainly
>> >> unproven.   i can imagine scenarios where large stakeholders can
>> >> collude to punish smaller stakeholders simply to drive them out of
>> >> business, for example.   and then you have to put checks in place to
>> >> prevent that, and more checks for those prevention system...
>> >>
>> >> in PoB, there is no complexity.  simpler systems like this are
>> >> typically more secure.
>> >>
>> >> PoB also solves problems caused by "energy dependence", which could
>> >> lead to state monopolies on mining (like the new Bitcoin Mining
>> >> Council).   these consortiums, if state sanctioned, could become a
>> >> source of censorship, for example.   Since PoB doesn't require you to
>> >> have a live, well-connected node, it's harder to censor & harder to
>> >> trace.
>> >>
>> >> Eliminating this weakness seems to be in the best interests of
>> >> existing stakeholders
>> >>
>> >>
>> >>
>> >>
>> >> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com>
>> wrote:
>> >> >
>> >> > >  proof of burn clearly solves this, since nothing is held online
>> >> >
>> >> > Well.. the coins to be burned need to be online when they're burned.
>> But yes, only a small fraction of the total coins need to be online.
>> >> >
>> >> > > your burn investment is always "at stake", any redaction can
>> result in a loss-of-burn, because burns can be tied, precisely, to
>> block-heights
>> >> >
>> >> > So you're saying that if say someone tries to mine a block on a
>> shorter chain, that requires them to send a transaction burning their
>> coins, and that transaction could also be spent on the longest chain, which
>> means their coins are burned even if the chain they tried to mine on
>> doesn't win? I'm fuzzy on how proof of burn works.
>> >> >
>> >> > > proof of burn can be more secure than proof-of-stake
>> >> >
>> >> > FYI, proof of stake can be done without the "nothing at stake"
>> problem. You can simply punish people who mint on shorter chains (by
>> rewarding people who publish proofs of this happening on the main chain).
>> In quorum-based PoS, you can punish people in the quorum that propose or
>> sign multiple blocks for the same height. The "nothing at stake" problem is
>> a solved problem at this point for PoS.
>> >> >
>> >> >
>> >> >
>> >> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>> >> >>
>> >> >> > I don't see a way to get around the conflicting requirement that
>> the keys for large amounts of coins should be kept offline but those are
>> exactly the coins we need online to make the scheme secure.
>> >> >>
>> >> >> proof of burn clearly solves this, since nothing is held online
>> >> >>
>> >> >> >  how does proof of burn solve the "nothing at stake" problem in
>> your view?
>> >> >>
>> >> >> definition of nothing at stake: in the event of a fork, whether the
>> >> >> fork is accidental or a malicious, the optimal strategy for any
>> miner
>> >> >> is to mine on every chain, so that the miner gets their reward no
>> >> >> matter which fork wins.   indeed in proof-of-stake, the proofs are
>> >> >> published on the very chains mines, so the incentive is magnified.
>> >> >>
>> >> >> in proof-of-burn, your burn investment is always "at stake", any
>> >> >> redaction can result in a loss-of-burn, because burns can be tied,
>> >> >> precisely, to block-heights
>> >> >>
>> >> >> as a result, miners no longer have an incentive to mine all chains
>> >> >>
>> >> >> in this way proof of burn can be more secure than proof-of-stake,
>> and
>> >> >> even more secure than proof of work
>> >> >>
>> >> >>
>> >> >>
>> >> >>
>> >> >>
>> >> >>
>> >> >>
>> >> >> >
>> >> >>
>> >> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>> >> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >> >
>> >> >> > Hi Billy,
>> >> >> >
>> >> >> > I was going to write a post which started by dismissing many of
>> the weak arguments that are made against PoS made in this thread and
>> elsewhere.
>> >> >> > Although I don't agree with all your points you have done a
>> decent job here so I'll focus on the second part: why I think
>> Proof-of-Stake is inappropriate for a Bitcoin-like system.
>> >> >> >
>> >> >> > Proof of stake is not fit for purpose for a global settlement
>> layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin
>> is trying to be.
>> >> >> > PoS necessarily gives responsibilities to the holders of coins
>> that they do not want and cannot handle.
>> >> >> > In Bitcoin, large unsophisticated coin holders can put their
>> coins in cold storage without a second thought given to the health of the
>> underlying ledger.
>> >> >> > As much as hardcore Bitcoiners try to convince them to run their
>> own node, most don't, and that's perfectly acceptable.
>> >> >> > At no point do their personal decisions affect the underlying
>> consensus -- it only affects their personal security assurance (not that of
>> the system itself).
>> >> >> > In PoS systems this clean separation of responsibilities does not
>> exist.
>> >> >> >
>> >> >> > I think that the more rigorously studied PoS protocols will work
>> fine within the security claims made in their papers.
>> >> >> > People who believe that these protocols are destined for
>> catastrophic consensus failure are certainly in for a surprise.
>> >> >> > But the devil is in the detail.
>> >> >> > Let's look at what the implications of using the leading proof of
>> stake protocols would have on Bitcoin:
>> >> >> >
>> >> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>> >> >> >
>> >> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with
>> an inbuilt on-chain delegation system[5].
>> >> >> > In these protocols, coin holders who do not want to run their
>> node with their hot keys in it delegate it to a "Stake Pool".
>> >> >> > I call the resulting system Proof-of-SquareSpace since most will
>> choose a pool by looking around for one with a nice website and offering
>> the largest share of the block reward.
>> >> >> > On the surface this might sound no different than someone with an
>> mining rig shopping around for a good mining pool but there are crucial
>> differences:
>> >> >> >
>> >> >> > 1. The person making the decision is forced into it just because
>> they own the currency -- someone with a mining rig has purchased it with
>> the intent to make profit by participating in consensus.
>> >> >> >
>> >> >> > 2. When you join a mining pool your systems are very much still
>> online. You are just partaking in a pool to reduce your profit variance.
>> You still see every block that you help create and *you never help create a
>> block without seeing it first*.
>> >> >> >
>> >> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority
>> and start censoring transactions how are the users meant to redelegate
>> their stake to honest pools?
>> >> >> > I guess they can just send a transaction delegating to another
>> pool...oh wait I guess that might be censored too! This seems really really
>> bad.
>> >> >> > In Bitcoin, miners can just join a different pool at a whim.
>> There is nothing the attacker can do to stop them. A temporary dishonest
>> majority heals relatively well.
>> >> >> >
>> >> >> > There is another severe disadvantage to this on-chain delegation
>> system: every UTXO must indicate which staking account this UTXO belongs to
>> so the appropriate share of block rewards can be transferred there.
>> >> >> > Being able to associate every UTXO to an account ruins one of the
>> main privacy advantages of the UTXO model.
>> >> >> > It also grows the size of the blockchain significantly.
>> >> >> >
>> >> >> > ### "Pure" proof of stake (Algorand)
>> >> >> >
>> >> >> > Algorand's[4] approach is to only allow online stake to
>> participate in the protocol.
>> >> >> > Theoretically, This means that keys holding funds have to be
>> online in order for them to author blocks when they are chosen.
>> >> >> > Of course in reality no one wants to keep their coin holding keys
>> online so in Alogorand you can authorize a set of "participation keys"[1]
>> that will be used to create blocks on your coin holding key's behalf.
>> >> >> > Hopefully you've spotted the problem.
>> >> >> > You can send your participation keys to any malicious party with
>> a nice website (see random example [2]) offering you a good return.
>> >> >> > Damn it's still Proof-of-SquareSpace!
>> >> >> > The minor advantage is that at least the participation keys
>> expire after a certain amount of time so eventually the SquareSpace
>> attacker will lose their hold on consensus.
>> >> >> > Importantly there is also less junk on the blockchain because the
>> participation keys are delegated off-chain and so are not making as much of
>> a mess.
>> >> >> >
>> >> >> > ### Conclusion
>> >> >> >
>> >> >> > I don't see a way to get around the conflicting requirement that
>> the keys for large amounts of coins should be kept offline but those are
>> exactly the coins we need online to make the scheme secure.
>> >> >> > If we allow delegation then we open up a new social attack
>> surface and it degenerates to Proof-of-SquareSpace.
>> >> >> >
>> >> >> > For a "digital gold" like system like Bitcoin we optimize for
>> simplicity and desperately want to avoid extraneous responsibilities for
>> the holder of the coin.
>> >> >> > After all, gold is an inert element on the periodic table that
>> doesn't confer responsibilities on the holder to maintain the quality of
>> all the other bars of gold out there.
>> >> >> > Bitcoin feels like this too and in many ways is more inert and
>> beautifully boring than gold.
>> >> >> > For Bitcoin to succeed I think we need to keep it that way and
>> Proof-of-Stake makes everything a bit too exciting.
>> >> >> >
>> >> >> > I suppose in the end the market will decide what is real digital
>> gold and whether these bad technical trade offs are worth being able to say
>> it uses less electricity. It goes without saying that making bad technical
>> decisions to appease the current political climate is an anathema to
>> Bitcoin.
>> >> >> >
>> >> >> > Would be interested to know if you or others think differently on
>> these points.
>> >> >> >
>> >> >> > [1]:
>> https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>> >> >> > [2]: https://staking.staked.us/algorand-staking
>> >> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>> >> >> > [4]:
>> https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>> >> >> > [5]:
>> https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>> >> >> >
>> >> >> > Cheers,
>> >> >> >
>> >> >> > LL
>> >> >> >
>> >> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >> >>
>> >> >> >> I think there is a lot of misinformation and bias against Proof
>> of Stake. Yes there have been lots of shady coins that use insecure PoS
>> mechanisms. Yes there have been massive issues with distribution of PoS
>> coins (of course there have also been massive issues with PoW coins as
>> well). However, I want to remind everyone that there is a difference
>> between "proved to be impossible" and "have not achieved recognized success
>> yet". Most of the arguments levied against PoS are out of date or rely on
>> unproven assumptions or extrapolation from the analysis of a particular PoS
>> system. I certainly don't think we should experiment with bitcoin by
>> switching to PoS, but from my research, it seems very likely that there is
>> a proof of stake consensus protocol we could build that has substantially
>> higher security (cost / capital required to execute an attack) while at the
>> same time costing far less resources (which do translate to fees on the
>> network) *without* compromising any of the critical security properties
>> bitcoin relies on. I think the critical piece of this is the disagreements
>> around hardcoded checkpoints, which is a critical piece solving attacks
>> that could be levied on a PoS chain, and how that does (or doesn't) affect
>> the security model.
>> >> >> >>
>> >> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is
>> worse when a 51% attack happens. While I agree, I think that line of
>> thinking omits important facts:
>> >> >> >> * The capital required to 51% attack a PoS chain can be made
>> substantially greater than on a PoS chain.
>> >> >> >> * The capital the attacker stands to lose can be substantially
>> greater as well if the attack is successful.
>> >> >> >> * The effectiveness of paying miners to raise the honest
>> fraction of miners above 50% may be quite bad.
>> >> >> >> * Allowing a 51% attack is already unacceptable. It should be
>> considered whether what happens in the case of a 51% may not be
>> significantly different. The currency would likely be critically damaged in
>> a 51% attack regardless of consensus mechanism.
>> >> >> >>
>> >> >> >> > Proof-of-stake tends towards oligopolistic control
>> >> >> >>
>> >> >> >> People repeat this often, but the facts support this. There is
>> no centralization pressure in any proof of stake mechanism that I'm aware
>> of. IE if you have 10 times as much coin that you use to mint blocks, you
>> should expect to earn 10x as much minting revenue - not more than 10x. By
>> contrast, proof of work does in fact have clear centralization pressure -
>> this is not disputed. Our goal in relation to that is to ensure that the
>> centralization pressure remains insignifiant. Proof of work also clearly
>> has a lot more barriers to entry than any proof of stake system does. Both
>> of these mean the tendency towards oligopolistic control is worse for PoW.
>> >> >> >>
>> >> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>> >> >> >>
>> >> >> >> I certainly agree. Bitcoin's energy usage at the moment is I
>> think quite warranted. However, the question is: can we do substantially
>> better. I think if we can, we probably should... eventually.
>> >> >> >>
>> >> >> >> > Proof of Stake is only resilient to ? of the network
>> demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to
>> the ? threshold
>> >> >> >>
>> >> >> >> I see no mention of this in the pos.pdf you linked to. I'm not
>> aware of any proof that all PoS systems have a failure threshold of 1/3. I
>> know that staking systems like Casper do in fact have that 1/3 requirement.
>> However there are PoS designs that should exceed that up to nearly 50% as
>> far as I'm aware. Proof of work is not in fact resilient up to the 1/2
>> threshold in the way you would think. IE, if 100% of miners are currently
>> honest and have a collective 100 exahashes/s hashpower, an attacker does
>> not need to obtain 100 exahashes/s, but actually only needs to accumulate
>> 50 exahashes/s. This is because as the attacker accumulates hashpower, it
>> drives honest miners out of the market as the difficulty increases to
>> beyond what is economically sustainable. Also, its been shown that the best
>> proof of work can do is require an attacker to obtain 33% of the hashpower
>> because of the selfish mining attack discussed in depth in this paper:
>> https://arxiv.org/abs/1311.0243. Together, both of these things reduce
>> PoW's security by a factor of about 83% (1 - 50%*33%).
>> >> >> >>
>> >> >> >>  > Proof of Stake requires other trade-offs which are
>> incompatible with Bitcoin's objective (to be a trustless digital cash) ?
>> specifically the famous "security vs. liveness" guarantee
>> >> >> >>
>> >> >> >> Do you have a good source that talks about why you think proof
>> of stake cannot be used for a trustless digital cash?
>> >> >> >>
>> >> >> >> > You cannot gain tokens without someone choosing to give up
>> those coins - a form of permission.
>> >> >> >>
>> >> >> >> This is not a practical constraint. Just like in mining, some
>> nodes may reject you, but there will likely be more that will accept you,
>> some sellers may reject you, but most would accept your money as payment
>> for bitcoins. I don't think requiring the "permission" of one of millions
>> of people in the market can be reasonably considered a "permissioned
>> currency".
>> >> >> >>
>> >> >> >> > 2. Proof of stake must have a trusted means of timestamping to
>> regulate overproduction of blocks
>> >> >> >>
>> >> >> >> Both PoW and PoS could mine/mint blocks twice as fast if
>> everyone agreed to double their clock speeds. Both systems rely on an
>> honest majority sticking to standard time.
>> >> >> >>
>> >> >> >>
>> >> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via
>> bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >> >>>
>> >> >> >>> Ah sorry, I didn't realize this was, in fact, a different
>> thread! :)
>> >> >> >>>
>> >> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <
>> mike at powx.org> wrote:
>> >> >> >>>>
>> >> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the
>> BIP itself. PoS, VDFs, and so on are interesting but I guess there are
>> other threads going on these topics already where they would be relevant.
>> >> >> >>>>
>> >> >> >>>> Also, it's important to distinguish between oPoW and these
>> other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't
>> alter the core game theory or security assumptions of Hashcash and actually
>> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>> >> >> >>>>
>> >> >> >>>> Cheers,
>> >> >> >>>> Mike
>> >> >> >>>>
>> >> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <
>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>> >> >> >>>>>
>> >> >> >>>>> 1. i never suggested vdf's to replace pow.
>> >> >> >>>>>
>> >> >> >>>>> 2. my suggestion was specifically *in the context of* a
>> working
>> >> >> >>>>> proof-of-burn protocol
>> >> >> >>>>>
>> >> >> >>>>> - vdfs used only for timing (not block height)
>> >> >> >>>>> - blind-burned coins of a specific age used to replace proof
>> of work
>> >> >> >>>>> - the required "work" per block would simply be a competition
>> to
>> >> >> >>>>> acquire rewards, and so miners would have to burn coins, well
>> in
>> >> >> >>>>> advance, and hope that their burned coins got rewarded in
>> some far
>> >> >> >>>>> future
>> >> >> >>>>> - the point of burned coins is to mimic, in every meaningful
>> way, the
>> >> >> >>>>> value gained from proof of work... without some of the
>> security
>> >> >> >>>>> drawbacks
>> >> >> >>>>> - the miner risks losing all of his burned coins (like all
>> miners risk
>> >> >> >>>>> losing their work in each block)
>> >> >> >>>>> - new burns can't be used
>> >> >> >>>>> - old burns age out (like ASICs do)
>> >> >> >>>>> - other requirements on burns might be needed to properly
>> mirror the
>> >> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine
>> honestly.
>> >> >> >>>>>
>> >> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf
>> system"
>> >> >> >>>>> might be more secure in the long run, and that if the entire
>> space
>> >> >> >>>>> agreed that such an endeavor was worthwhile, a test net could
>> be spun
>> >> >> >>>>> up, and a hard-fork could be initiated.
>> >> >> >>>>>
>> >> >> >>>>> 4. i would never suggest such a thing unless i believed it was
>> >> >> >>>>> possible that consensus was possible.  so no, this is not an
>> "alt
>> >> >> >>>>> coin"
>> >> >> >>>>>
>> >> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <
>> zachgrw at gmail.com> wrote:
>> >> >> >>>>> >
>> >> >> >>>>> > Hi ZmnSCPxj,
>> >> >> >>>>> >
>> >> >> >>>>> > Please note that I am not suggesting VDFs as a means to
>> save energy, but solely as a means to make the time between blocks more
>> constant.
>> >> >> >>>>> >
>> >> >> >>>>> > Zac
>> >> >> >>>>> >
>> >> >> >>>>> >
>> >> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <
>> ZmnSCPxj at protonmail.com> wrote:
>> >> >> >>>>> >>
>> >> >> >>>>> >> Good morning Zac,
>> >> >> >>>>> >>
>> >> >> >>>>> >> > VDFs might enable more constant block times, for
>> instance by having a two-step PoW:
>> >> >> >>>>> >> >
>> >> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF
>> being subject to difficulty adjustments similar to the as-is). As per the
>> property of VDFs, miners are able show proof of work.
>> >> >> >>>>> >> >
>> >> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so
>> finding a block takes 1 minute on average, again subject to as-is
>> difficulty adjustments.
>> >> >> >>>>> >> >
>> >> >> >>>>> >> > As a result, variation in block times will be greatly
>> reduced.
>> >> >> >>>>> >>
>> >> >> >>>>> >> As I understand it, another weakness of VDFs is that they
>> are not inherently progress-free (their sequential nature prevents that;
>> they are inherently progress-requiring).
>> >> >> >>>>> >>
>> >> >> >>>>> >> Thus, a miner which focuses on improving the amount of
>> energy that it can pump into the VDF circuitry (by overclocking and
>> freezing the circuitry), could potentially get into a winner-takes-all
>> situation, possibly leading to even *worse* competition and even *more*
>> energy consumption.
>> >> >> >>>>> >> After all, if you can start mining 0.1s faster than the
>> competition, that is a 0.1s advantage where *only you* can mine *in the
>> entire world*.
>> >> >> >>>>> >>
>> >> >> >>>>> >> Regards,
>> >> >> >>>>> >> ZmnSCPxj
>> >> >> >>>>> _______________________________________________
>> >> >> >>>>> bitcoin-dev mailing list
>> >> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>> >> >> >>>>>
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >> >> >>>>
>> >> >> >>>>
>> >> >> >>>>
>> >> >> >>>> --
>> >> >> >>>> Michael Dubrovsky
>> >> >> >>>> Founder; PoWx
>> >> >> >>>> www.PoWx.org
>> >> >> >>>
>> >> >> >>>
>> >> >> >>>
>> >> >> >>> --
>> >> >> >>> Michael Dubrovsky
>> >> >> >>> Founder; PoWx
>> >> >> >>> www.PoWx.org
>> >> >> >>> _______________________________________________
>> >> >> >>> bitcoin-dev mailing list
>> >> >> >>> bitcoin-dev at lists.linuxfoundation.org
>> >> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >> >> >>
>> >> >> >> _______________________________________________
>> >> >> >> bitcoin-dev mailing list
>> >> >> >> bitcoin-dev at lists.linuxfoundation.org
>> >> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>> >> >> >
>> >> >> > _______________________________________________
>> >> >> > bitcoin-dev mailing list
>> >> >> > bitcoin-dev at lists.linuxfoundation.org
>> >> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210525/92b5d4d1/attachment-0001.html>

From befreeandopen at protonmail.com  Wed May 26 13:11:44 2021
From: befreeandopen at protonmail.com (befreeandopen)
Date: Wed, 26 May 2021 13:11:44 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
Message-ID: <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>

> @befreeandopen I guess I misunderstood your selfish minting attack. Let me make sure I understand it. You're saying it would go as follows?:
>
> 1. The malicious actor comes across an opportunity to mint the next 3 blocks. But they hold off and don't release their blocks just yet.
> 2. They receive a new block minted by someone else.
> 3. The malicious actor then chooses to release their other 2 blocks on on the second from the top block if it gives them more blocks in the future than minting on the top block. And instead lets the top block proceed if it gives them more blocks in the future (also figuring in the 3 blocks they're missing out on minting).
> 4. Profit!
>
> The problem with this attack is that any self respecting PoS system wouldn't have the information available for minters to know how blocks will affect their future prospects of minting. Otherwise this would introduce the problem of stake grinding. This can be done using collaborative randomness (where numbers from many parties are combined to create a random number that no individual party could predict). In fact, that's what the Casper protocol does to decide quorums. In a non quorum case, you can do something like record a hash of a number in the block header, and then have a second step to release that number later. Rewards can be given can be used to ensure minters act honestly here by minting messages that release these numbers and not releasing their secret numbers too early.

Yes, you misunderstood it. First, let me say that the above thoughts of yours are incorrect, at least for non-quorum case. Since the transition in the blockchain system from S1 to S2 is only by adding new block, and since stakers always need to be able to decide whether or not they can add the next block, it follows that if a staker creates a new block locally, she can decide whether the new state allows her to add another block on top. As you mentioned, this COULD introduce problem of staking, that you are incorrect in that it is a necessity. Usual prevention of the grinding problem in this case is that an "old enough" source of randomness applies for the current block production process. Of course this, as it is typical for PoS, introduces other problems, but let's discard those.

I will try to explain in detail what you misunderstood before. You start with a chain ending with blocks A-B-C, C being the top, the common feature of PoS system (non-quorum), roughly speaking, is that if N is the total amount of coins that participate in the staking process to create a new block on top of C (let's call that D), then a participant having K*N amount of stake has chance K to be the one who will create the next stake. In other words, the power of stakers is supposed to be linear in the system - you own 10 coins gives you 10x the chance of finding block over someone who has 1 coin.

What i was claiming is that using the technique I have described, this linearity is violated. Why? Well, it works for honest stakers among the competition of honest stakers - they really do have the chance of K to find the next block. However, the attacker, using nothing at stake, checks her ability to build block D (at some timestamp). If she is successful, she does not propagate D immediately, but instead she also checks whether she can build on top of B and on top of A. Since with every new timestamp, usually, there is a new chance to build the block, it is not uncommon that she finds she is indeed able to build such block C' on top of B. Here it is likely t(C') > t(C) as the attacker has relatively low stake. Note that in order to produce such C', she not only could have tried the current timestamp t(D), but also all previous timestamps up to t(B) (usually that's the consensus rule, but it may depend on a specific consensus). So her chance to produce such C' is greater than her previous chance of producing C (which chance was limited by other stakers in the system and the discovery of block C by one of them). Now suppose that she found such C' and now she continues by trying to prolong this chain by finding D'. And again here, it is quite likely that her chance to find such D' is greater than was her chance of finding D because again there are likely multiple timestamps she could try. This all was possible just because nothing at stake allows you to just try if you can produce a block in certain state of block chain or not. Now if she actually was able to find D', she discards D and only publishes chain A-B-C'-D', which can not be punished despite the fact that she indeed produced two different forks. She can not be punished because this production was local and only the final result of A-B-C'-D' was published, in which case she gained an extra block over the honest strategy which would only give her block D.

> Fun fact tho: there is an attack called the "selfish mining attack" for proof of work, and it reduces the security of PoW by [at least 1/3rd](https://bitcoinmagazine.com/technical/selfish-mining-a-25-attack-against-the-bitcoin-network-1383578440).

How is that relevant to our discussion? This is known research that has nothing to do with PoS except that it is often worse on PoS.

>> the problem is not as hard as you think
>
> I don't claim to know just how hard finding the IP address associated with a bitcoin address is. However, the DOS risk can be solved more completely by only allowing the owner of coins themselves to know whether they can mint a block. Eg by determining whether someone can mint a block based on their public key hidden behind hashes (as normal in addresses). Only when someone does in fact mint a block do they reveal their hidden public key in order to prove they are allowed to mint the block.

This is true, but you are mixing quorum and non-quorum systems. My objection here was towards such system where I specifically said that the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system. So in such system, I claimed, the known producer is the only target at any given point of time. This of course does not apply to any other type of system where future producers are not known. No need to dispute, again, something that was not claimed.

>> I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message)
>
> I'm glad we agree there. Perhaps I misunderstood what you meant by "you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere."

Perhaps you should quote the full sentence and not just a part of it:

"Of course you can always change the rules in a way that a certain specific attack is not doable, but you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere, or you have not solved it completely."

You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)
In case of the punishment it was meant to be the not solve it completely part.
Also "typically" does not imply always.
But this parsing of English sentences for you seems very off topic here. My point is, in context of Bitcoin, reject such unsupported claims that PoS is a reasonable alternative to PoW, let's stick to that.

>> As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake
>
> Well, if you're in the closed system of the cryptocurrency, sure. But we don't live in that closed system. Minters will earn some ROI from minting just like any other financial activity. Others may find more success spending their time doing things other than figuring out how to mint coins. In that case, they'll be able to earn more coin that they could later decide to use to mint blocks if they decide to.

This only supports the point I was making. Since the optimal scenario with all existing coins participating is just theoretical, the attacker's position will ever so improve. It seems we are in agreement here, great.

>> Just because of the above we must reject PoS as being critically insecure
>
> I think the only thing we can conclude from this is that you have come up with an insecure proof of stake protocol. I don't see how anything you've brought up amounts to substantial evidence that all possible PoS protocols are insecure.

I have not come up with anything. I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure. It is up to you to show that you know how to solve every problem that people throw at you. So far we have just demonstrated that your claim that nothing at stake is solved was unjustified. You have not described a system that would solve it (and not introduce critical DDOS attack vector as it is in quorum based systems - per the prior definition of such systems).

Of course the list of problems of PoS systems do not end with just nothing at stake, but it is good enough example that by itself prevents its adoption in decentralized consensus. No need to go to other hard problems without solving nothing at stake.

> On Tue, May 25, 2021 at 11:10 AM befreeandopen <befreeandopen at protonmail.com> wrote:
>
>>> @befreeandopen " An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp."
>>>
>>> The scenario you describe would only be likely to happen at all if the malicious actor has a very large fraction of the stake - probably quite close to 50%. At that point, you're talking about a 51% attack, not the nothing at stake problem. The nothing at stake problem is the problem where anyone will mint on any chain. Its clear that if there's a substantial punishment for minting on chains other than the one that eventually wins, every minter without a significant fraction of the stake will be honest and not attempt to mint on old blocks or support someone else's attempt to mint on old blocks (until and if it becomes the heaviest chain). Because the attacker would need probably >45% of the active stake (take a look at the [reasoning here](https://github.com/fresheneesz/ValidatedProofOfStake#security-the-minimum-cost-of-attack) for a deeper analysis of that statement), I don't agree that punishment is not a sufficient mitigation of the nothing at stake problem. To exploit the nothing at stake problem, you basically need to 51% attack, at which point you've exceeded the operating conditions of the system, so of course its gonna have problems, just like a 51% attack would cause with PoW.
>>
>> This is not at all the case. The attacker benefits using the described technique at any size of the stake and significantly so with just 5% of the stake. By significantly, I do not mean that the attacker is able to completely take control the network (in short term), but rather that the attacker has significant advantage in the number of blocks she creates compared to what she "should be able to create". This means the attacker's stake increases significantly faster than of the honest nodes, which in long term is very serious in PoS system. If you believe close to 50% is needed for that, you need to redo your math. So no, you are wrong stating that "to exploit nothing at stake problem you basically need to 51% attack". It is rather the opposite - eventually, nothing at stake attack leads to ability to perform 51% attack.
>>
>>>> I am not sure if this is what you call quorum-based PoS
>>>
>>> Yes, pre-selected minters is exactly what I mean by that.
>>>
>>>> it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system
>>>
>>> Just like in bitcoin, associating keys with IP addresses isn't generally an easy thing to do on the fly like that. If you know someone's IP address, you can target them. But if you only know their address or public key, the reverse isn't as easy. With a quorum-based PoS system, you can see their public key and address, but finding out their IP to DOS would be a huge challenge I think.
>>
>> I do not dispute that the problem is not trivial, but the problem is not as hard as you think. The network graph analysis is a known technique and it is not trivial, but not very hard either. Introducing a large number of nodes to the system to achieve very good success rate of analysis of area of origin of blocks is doable and has been done in past. So again, I very much disagree with your conclusion that this is somehow secure. It is absolutely insecure.
>>
>>> Note, tho, that quorum-based PoS generally also have punishments as part of the protocol. The introduction of punishments do indeed handily solve the nothing at stake problem. And you didn't mention a single problem that the punishments introduce that weren't already there before punishments. There are tradeoffs with introducing punishments (eg in some cases you might punish honest actors), but they are minor in comparison to solving the nothing at stake problem.
>>
>> While I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message), it does introduce additional complexity which may introduce problem, but more importantly, while it slightly improves resistance against the nothing at stake attack, it solves absolutely nothing. Your claim is based on wrong claim of needed close to 50% stake, but that could not be farther from the truth. It is not true even in optimal conditions when all participants of the network stake or delegate their stake. These optimal conditions rarely, if ever, occur. And that's another thing that we have not mention in our debate, so please allow me to introduce another problem to PoS.
>>
>> Consider what is needed for such optimal conditions to occur - all coins are always part of the stake, which means that they need to somehow automatically part of the staking process even when they are moved. But in many PoS systems you usually require some age (in terms of confirmations) of the coin before you allow it to be used for participation in staking process and that is for a good reason - to prevent various grinding attacks. In some systems the coin must be specifically registered before it can be staked, in others, simply waiting for enough confirmations enables you to stake with the coin. I am not sure if there is a system which does not have this cooling period for a coin that has been moved. Maybe it is possible though, but AFAIK it is not common and not battle tested feature.
>>
>> Then if we admit that achieving the optimal condition is rather theoretical. Then if we do not have the optimal condition, it means that a staker with K% of the total available supply increases it's percentage over time to some amounts >K%. As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake (if there are any) and relative to all other stakers who make mistakes or who are not wealthy enough to afford not selling any position ever. But powerful attacker is exactly in such position and thus she will gain significance in such a system. The technique I have described, and that you mistakenly think is viable only with huge amounts of stake, only puts the attacker to even greater advantage. But even without the described attack (which exploits nothing at stake), the PoS system converges to a system more and more controlled by powerful entity, which we can assume is the attacker.
>>
>>> So I don't think it is at all misleading to claim that "nothing at stake" is a solved problem. I do in fact mean that the solutions to that problem don't introduce any other problems with anywhere near the same level of significance.
>>
>> It still stands as truly misleading claim. I disagree that introducing DDOS opportunity with medium level of difficulty for the attacker to implement it, in case of "quorum-based PoS" is not a problem anywhere near the same level of significance. Such an attack vector allows you to turn off the network if you spend some time and money. That is hardly acceptable.
>>
>> Just because of the above we must reject PoS as being critically insecure until someone invents and demonstrates an actual way of solving these issues.
>>
>>> On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:
>>>
>>>>> > you burn them to be used at a future particular block height
>>>>
>>>>> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>>
>>>> could be right. the original idea was to have burns decay over time,
>>>> like ASIC's.
>>>>
>>>> anyway the point was not that "i had a magic formula"
>>>>
>>>> the point was that proof of burn is almost always better than proof of
>>>> stake - simply because the "proof" is on-chain, not sitting on a node
>>>> somewhere waiting to be stolen.
>>>>
>>>> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>>>
>>>>> Is this the kind of proof of burn you're talking about?
>>>>>
>>>>> > if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
>>>>>
>>>>> What prevents you from attempting to mine block 553 on both chains?
>>>>>
>>>>> > miners have a very strong, long-term, investment in the stability of the chain.
>>>>>
>>>>> Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
>>>>>
>>>>> > you burn them to be used at a future particular block height
>>>>>
>>>>> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>>>
>>>>> > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
>>>>>
>>>>> Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
>>>>>
>>>>>
>>>>> On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>>>>>>
>>>>>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>>>> > I'm fuzzy on how proof of burn works.
>>>>>>
>>>>>> when you burn coins, you burn them to be used at a future particular
>>>>>> block height: so if i'm burning for block 553, i can only use them to
>>>>>> mine block 553. if i have a choice between two chains, one longer
>>>>>> and one shorter, i can only choose one... deterministically, for that
>>>>>> burn: the chain with the height 553. if we fix the "lead time" for
>>>>>> burned coins to be weeks or even months in advance, miners have a very
>>>>>> strong, long-term, investment in the stability of the chain.
>>>>>>
>>>>>> therefore there is no "nothing at stake" problem. it's
>>>>>> deterministic, so miners have no choice. they can *only* choose the
>>>>>> transactions that go into the block. they cannot choose which chain
>>>>>> to mine, and it's time-locked, so rollbacks and instability always
>>>>>> hurt miners the most.
>>>>>>
>>>>>> the "punishment" systems of PoS are "weird at best", certainly
>>>>>> unproven. i can imagine scenarios where large stakeholders can
>>>>>> collude to punish smaller stakeholders simply to drive them out of
>>>>>> business, for example. and then you have to put checks in place to
>>>>>> prevent that, and more checks for those prevention system...
>>>>>>
>>>>>> in PoB, there is no complexity. simpler systems like this are
>>>>>> typically more secure.
>>>>>>
>>>>>> PoB also solves problems caused by "energy dependence", which could
>>>>>> lead to state monopolies on mining (like the new Bitcoin Mining
>>>>>> Council). these consortiums, if state sanctioned, could become a
>>>>>> source of censorship, for example. Since PoB doesn't require you to
>>>>>> have a live, well-connected node, it's harder to censor & harder to
>>>>>> trace.
>>>>>>
>>>>>> Eliminating this weakness seems to be in the best interests of
>>>>>> existing stakeholders
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>>>> >
>>>>>> > > proof of burn clearly solves this, since nothing is held online
>>>>>> >
>>>>>> > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>>>>>> >
>>>>>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>>>> >
>>>>>> > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>>>>>> >
>>>>>> > > proof of burn can be more secure than proof-of-stake
>>>>>> >
>>>>>> > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>>>>>> >
>>>>>> >
>>>>>> >
>>>>>> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>>>>>> >>
>>>>>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>>>> >>
>>>>>> >> proof of burn clearly solves this, since nothing is held online
>>>>>> >>
>>>>>> >> > how does proof of burn solve the "nothing at stake" problem in your view?
>>>>>> >>
>>>>>> >> definition of nothing at stake: in the event of a fork, whether the
>>>>>> >> fork is accidental or a malicious, the optimal strategy for any miner
>>>>>> >> is to mine on every chain, so that the miner gets their reward no
>>>>>> >> matter which fork wins. indeed in proof-of-stake, the proofs are
>>>>>> >> published on the very chains mines, so the incentive is magnified.
>>>>>> >>
>>>>>> >> in proof-of-burn, your burn investment is always "at stake", any
>>>>>> >> redaction can result in a loss-of-burn, because burns can be tied,
>>>>>> >> precisely, to block-heights
>>>>>> >>
>>>>>> >> as a result, miners no longer have an incentive to mine all chains
>>>>>> >>
>>>>>> >> in this way proof of burn can be more secure than proof-of-stake, and
>>>>>> >> even more secure than proof of work
>>>>>> >>
>>>>>> >>
>>>>>> >>
>>>>>> >>
>>>>>> >>
>>>>>> >>
>>>>>> >>
>>>>>> >> >
>>>>>> >>
>>>>>> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>>>>>> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>> >> >
>>>>>> >> > Hi Billy,
>>>>>> >> >
>>>>>> >> > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>>>>>> >> > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>>>>>> >> >
>>>>>> >> > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>>>>>> >> > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>>>>>> >> > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>>>>>> >> > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>>>>>> >> > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>>>>>> >> > In PoS systems this clean separation of responsibilities does not exist.
>>>>>> >> >
>>>>>> >> > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>>>>>> >> > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>>>>>> >> > But the devil is in the detail.
>>>>>> >> > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>>>>>> >> >
>>>>>> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>>>>>> >> >
>>>>>> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>>>>>> >> > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>>>>>> >> > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>>>>>> >> > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>>>>>> >> >
>>>>>> >> > 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>>>>>> >> >
>>>>>> >> > 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>>>>>> >> >
>>>>>> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>>>>>> >> > I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>>>>>> >> > In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>>>>>> >> >
>>>>>> >> > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>>>>>> >> > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>>>>>> >> > It also grows the size of the blockchain significantly.
>>>>>> >> >
>>>>>> >> > ### "Pure" proof of stake (Algorand)
>>>>>> >> >
>>>>>> >> > Algorand's[4] approach is to only allow online stake to participate in the protocol.
>>>>>> >> > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>>>>>> >> > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>>>>>> >> > Hopefully you've spotted the problem.
>>>>>> >> > You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>>>>>> >> > Damn it's still Proof-of-SquareSpace!
>>>>>> >> > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>>>>>> >> > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>>>>>> >> >
>>>>>> >> > ### Conclusion
>>>>>> >> >
>>>>>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>>>> >> > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>>>>>> >> >
>>>>>> >> > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>>>>>> >> > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>>>>>> >> > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>>>>>> >> > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>>>>>> >> >
>>>>>> >> > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>>>>>> >> >
>>>>>> >> > Would be interested to know if you or others think differently on these points.
>>>>>> >> >
>>>>>> >> > [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>>>>>> >> > [2]: https://staking.staked.us/algorand-staking
>>>>>> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>>>>>> >> > [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>>>>>> >> > [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>>>>> >> >
>>>>>> >> > Cheers,
>>>>>> >> >
>>>>>> >> > LL
>>>>>> >> >
>>>>>> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>> >> >>
>>>>>> >> >> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>>>>>> >> >>
>>>>>> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>>>>>> >> >> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>>>>>> >> >> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>>>>>> >> >> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>>>>>> >> >> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>>>>>> >> >>
>>>>>> >> >> > Proof-of-stake tends towards oligopolistic control
>>>>>> >> >>
>>>>>> >> >> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>>>>>> >> >>
>>>>>> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>>>>> >> >>
>>>>>> >> >> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>>>>>> >> >>
>>>>>> >> >> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>>>>> >> >>
>>>>>> >> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>>>>>> >> >>
>>>>>> >> >> > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>>>>>> >> >>
>>>>>> >> >> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>>>>>> >> >>
>>>>>> >> >> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>>>>>> >> >>
>>>>>> >> >> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>>>>>> >> >>
>>>>>> >> >> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>>>>>> >> >>
>>>>>> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>>>>>> >> >>
>>>>>> >> >>
>>>>>> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>> >> >>>
>>>>>> >> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>>>> >> >>>
>>>>>> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>>>>> >> >>>>
>>>>>> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>>>>> >> >>>>
>>>>>> >> >>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>>>> >> >>>>
>>>>>> >> >>>> Cheers,
>>>>>> >> >>>> Mike
>>>>>> >> >>>>
>>>>>> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>> >> >>>>>
>>>>>> >> >>>>> 1. i never suggested vdf's to replace pow.
>>>>>> >> >>>>>
>>>>>> >> >>>>> 2. my suggestion was specifically *in the context of* a working
>>>>>> >> >>>>> proof-of-burn protocol
>>>>>> >> >>>>>
>>>>>> >> >>>>> - vdfs used only for timing (not block height)
>>>>>> >> >>>>> - blind-burned coins of a specific age used to replace proof of work
>>>>>> >> >>>>> - the required "work" per block would simply be a competition to
>>>>>> >> >>>>> acquire rewards, and so miners would have to burn coins, well in
>>>>>> >> >>>>> advance, and hope that their burned coins got rewarded in some far
>>>>>> >> >>>>> future
>>>>>> >> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>>>> >> >>>>> value gained from proof of work... without some of the security
>>>>>> >> >>>>> drawbacks
>>>>>> >> >>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>>>> >> >>>>> losing their work in each block)
>>>>>> >> >>>>> - new burns can't be used
>>>>>> >> >>>>> - old burns age out (like ASICs do)
>>>>>> >> >>>>> - other requirements on burns might be needed to properly mirror the
>>>>>> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>>> >> >>>>>
>>>>>> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>>>> >> >>>>> might be more secure in the long run, and that if the entire space
>>>>>> >> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>>>> >> >>>>> up, and a hard-fork could be initiated.
>>>>>> >> >>>>>
>>>>>> >> >>>>> 4. i would never suggest such a thing unless i believed it was
>>>>>> >> >>>>> possible that consensus was possible. so no, this is not an "alt
>>>>>> >> >>>>> coin"
>>>>>> >> >>>>>
>>>>>> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>>>>> >> >>>>> >
>>>>>> >> >>>>> > Hi ZmnSCPxj,
>>>>>> >> >>>>> >
>>>>>> >> >>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>>>>> >> >>>>> >
>>>>>> >> >>>>> > Zac
>>>>>> >> >>>>> >
>>>>>> >> >>>>> >
>>>>>> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>>>>> >> >>>>> >>
>>>>>> >> >>>>> >> Good morning Zac,
>>>>>> >> >>>>> >>
>>>>>> >> >>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>>>>> >> >>>>> >> >
>>>>>> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>>>>> >> >>>>> >> >
>>>>>> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>>>>> >> >>>>> >> >
>>>>>> >> >>>>> >> > As a result, variation in block times will be greatly reduced.
>>>>>> >> >>>>> >>
>>>>>> >> >>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>>>>> >> >>>>> >>
>>>>>> >> >>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>>>>> >> >>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>>>> >> >>>>> >>
>>>>>> >> >>>>> >> Regards,
>>>>>> >> >>>>> >> ZmnSCPxj
>>>>>> >> >>>>> _______________________________________________
>>>>>> >> >>>>> bitcoin-dev mailing list
>>>>>> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>>>>>> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>> >> >>>>
>>>>>> >> >>>>
>>>>>> >> >>>>
>>>>>> >> >>>> --
>>>>>> >> >>>> Michael Dubrovsky
>>>>>> >> >>>> Founder; PoWx
>>>>>> >> >>>> www.PoWx.org
>>>>>> >> >>>
>>>>>> >> >>>
>>>>>> >> >>>
>>>>>> >> >>> --
>>>>>> >> >>> Michael Dubrovsky
>>>>>> >> >>> Founder; PoWx
>>>>>> >> >>> www.PoWx.org
>>>>>> >> >>> _______________________________________________
>>>>>> >> >>> bitcoin-dev mailing list
>>>>>> >> >>> bitcoin-dev at lists.linuxfoundation.org
>>>>>> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>> >> >>
>>>>>> >> >> _______________________________________________
>>>>>> >> >> bitcoin-dev mailing list
>>>>>> >> >> bitcoin-dev at lists.linuxfoundation.org
>>>>>> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>> >> >
>>>>>> >> > _______________________________________________
>>>>>> >> > bitcoin-dev mailing list
>>>>>> >> > bitcoin-dev at lists.linuxfoundation.org
>>>>>> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210526/62455f29/attachment-0001.html>

From prayank at tutanota.de  Wed May 26 14:47:43 2021
From: prayank at tutanota.de (Prayank)
Date: Wed, 26 May 2021 16:47:43 +0200 (CEST)
Subject: [bitcoin-dev] Wallet fingerprinting and other privacy issues in
	Bitcoin Core
Message-ID: <Mad8JLB--3-2@tutanota.de>

Hello World,

There are other privacy issues in Core (node and wallet) but recently I came across one which can be used to identify if someone is using Bitcoin Core with just the bitcoin address and couple of transactions. I think people have already given up and don't expect privacy in Core wallet especially developers. However, below information may help some users who are not aware of this specific issue and developers who are using Bitcoin Core wallet in their project.

Issue is explained here:?https://github.com/bitcoin/bitcoin/issues/22018

Even if there exists another wallet with similar behavior, it can affect privacy in some cases. Example: Alice is spying on Bob and collecting as much information as possible. She looks at social media accounts for Bob and thinks he might be using one of the wallets mentioned in PoC. She can confirm if Bob is using Bitcoin Core wallet by sending 2 small amounts to one of the address in different transactions. One transaction should have really low fee rate that it doesn't get confirmed.?

I found this issue while reviewing PR:?https://github.com/bitcoin/bitcoin/pull/18418

It was also discussed in a 'Core Review PR club' meeting recently:?https://bitcoincore.reviews/18418

Also there are 2 things that helps identify wallet using address: 1. Can't spend unconfirmed UTXO 2.?OUTPUT_GROUP_MAX_ENTRIES

OUTPUT_GROUP_MAX_ENTRIES was 10 earlier and 100 after PR #18418 got merged. This will help in confirming if someone is using latest Bitcoin Core once it is available in next release. Example: Alice is using Bitcoin Core v0.21.0 and Bob is using Bitcoin Core v0.22.0 Carol is the attacker and other two are victims. Carol sends small amounts to same address in 11 transactions to both and confirms Bob is using latest Bitcoin Core wallet while Alice is using an older version.

I will try to fix both 1 and 2 which can take few days and maybe never get merged. IMO 1 can be fixed by locking all UTXOs associated with a scriptpubkey until all are confirmed. UTXO locks are stored in memory only so will have to change that first. 2 can be fixed by using an approach similar to Electrum (All or None)

-- 
 Prayank
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210526/77bb4f78/attachment.html>

From erik at q32.com  Wed May 26 22:07:02 2021
From: erik at q32.com (Erik Aronesty)
Date: Wed, 26 May 2021 18:07:02 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
 <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
Message-ID: <CAJowKgKgGynQ9NYe_7xEai0tcBW4b=tQnNpv9vndx1hLCowfWg@mail.gmail.com>

note: the "nothing at stake" problem you propose is not broken for
proof-of-burn, because the attacker

a) has no idea which past transactions are burns
b) has no way to use his mining power, even 5%, to maliciously improve
his odds of being selected

On Wed, May 26, 2021 at 9:12 AM befreeandopen
<befreeandopen at protonmail.com> wrote:
>
>
>
> @befreeandopen I guess I misunderstood your selfish minting attack. Let me make sure I understand it. You're saying it would go as follows?:
>
> 1. The malicious actor comes across an opportunity to mint the next 3 blocks. But they hold off and don't release their blocks just yet.
> 2. They receive a new block minted by someone else.
> 3. The malicious actor then chooses to release their other 2 blocks on on the second from the top block if it gives them more blocks in the future than minting on the top block. And instead lets the top block proceed if it gives them more blocks in the future (also figuring in the 3 blocks they're missing out on minting).
> 4. Profit!
>
> The problem with this attack is that any self respecting PoS system wouldn't have the information available for minters to know how blocks will affect their future prospects of minting. Otherwise this would introduce the problem of stake grinding. This can be done using collaborative randomness (where numbers from many parties are combined to create a random number that no individual party could predict). In fact, that's what the Casper protocol does to decide quorums. In a non quorum case, you can do something like record a hash of a number in the block header, and then have a second step to release that number later. Rewards can be given can be used to ensure minters act honestly here by minting messages that release these numbers and not releasing their secret numbers too early.
>
>
> Yes, you misunderstood it. First, let me say that the above thoughts of yours are incorrect, at least for non-quorum case. Since the transition in the blockchain system from S1 to S2 is only by adding new block, and since stakers always need to be able to decide whether or not they can add the next block, it follows that if a staker creates a new block locally, she can decide whether the new state allows her to add another block on top. As you mentioned, this COULD introduce problem of staking, that you are incorrect in that it is a necessity. Usual prevention of the grinding problem in this case is that an "old enough" source of randomness applies for the current block production process. Of course this, as it is typical for PoS, introduces other problems, but let's discard those.
>
> I will try to explain in detail what you misunderstood before. You start with a chain ending with blocks A-B-C, C being the top, the common feature of PoS system (non-quorum), roughly speaking, is that if N is the total amount of coins that participate in the staking process to create a new block on top of C (let's call that D), then a participant having K*N amount of stake has chance K to be the one who will create the next stake. In other words, the power of stakers is supposed to be linear in the system - you own 10 coins gives you 10x the chance of finding block over someone who has 1 coin.
>
> What i was claiming is that using the technique I have described, this linearity is violated. Why? Well, it works for honest stakers among the competition of honest stakers - they really do have the chance of K to find the next block. However, the attacker, using nothing at stake, checks her ability to build block D (at some timestamp). If she is successful, she does not propagate D immediately, but instead she also checks whether she can build on top of B and on top of A. Since with every new timestamp, usually, there is a new chance to build the block, it is not uncommon that she finds she is indeed able to build such block C' on top of B. Here it is likely t(C') > t(C) as the attacker has relatively low stake. Note that in order to produce such C', she not only could have tried the current timestamp t(D), but also all previous timestamps up to t(B) (usually that's the consensus rule, but it may depend on a specific consensus). So her chance to produce such C' is greater than her previous chance of producing C (which chance was limited by other stakers in the system and the discovery of block C by one of them). Now suppose that she found such C' and now she continues by trying to prolong this chain by finding D'. And again here, it is quite likely that her chance to find such D' is greater than was her chance of finding D because again there are likely multiple timestamps she could try. This all was possible just because nothing at stake allows you to just try if you can produce a block in certain state of block chain or not. Now if she actually was able to find D', she discards D and only publishes chain A-B-C'-D', which can not be punished despite the fact that she indeed produced two different forks. She can not be punished because this production was local and only the final result of A-B-C'-D' was published, in which case she gained an extra block over the honest strategy which would only give her block D.
>
>
>
> Fun fact tho: there is an attack called the "selfish mining attack" for proof of work, and it reduces the security of PoW by at least 1/3rd.
>
>
> How is that relevant to our discussion? This is known research that has nothing to do with PoS except that it is often worse on PoS.
>
>
>
> >   the problem is not as hard as you think
>
> I don't claim to know just how hard finding the IP address associated with a bitcoin address is. However, the DOS risk can be solved more completely by only allowing the owner of coins themselves to know whether they can mint a block. Eg by determining whether someone can mint a block based on their public key hidden behind hashes (as normal in addresses). Only when someone does in fact mint a block do they reveal their hidden public key in order to prove they are allowed to mint the block.
>
>
> This is true, but you are mixing quorum and non-quorum systems. My objection here was towards such system where I specifically said that the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system. So in such system, I claimed, the known producer is the only target at any given point of time. This of course does not apply to any other type of system where future producers are not known. No need to dispute, again, something that was not claimed.
>
>
>
>
> > I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message)
>
> I'm glad we agree there. Perhaps I misunderstood what you meant by "you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere."
>
>
> Perhaps you should quote the full sentence and not just a part of it:
>
> "Of course you can always change the rules in a way that a certain specific attack is not doable, but you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere, or you have not solved it completely."
>
> You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)
> In case of the punishment it was meant to be the not solve it completely part.
> Also "typically" does not imply always.
> But this parsing of English sentences for you seems very off topic here. My point is, in context of Bitcoin, reject such unsupported claims that PoS is a reasonable alternative to PoW, let's stick to that.
>
>
>
> > As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake
>
> Well, if you're in the closed system of the cryptocurrency, sure. But we don't live in that closed system. Minters will earn some ROI from minting just like any other financial activity. Others may find more success spending their time doing things other than figuring out how to mint coins. In that case, they'll be able to earn more coin that they could later decide to use to mint blocks if they decide to.
>
>
> This only supports the point I was making. Since the optimal scenario with all existing coins participating is just theoretical, the attacker's position will ever so improve. It seems we are in agreement here, great.
>
>
>
>
> > Just because of the above we must reject PoS as being critically insecure
>
> I think the only thing we can conclude from this is that you have come up with an insecure proof of stake protocol. I don't see how anything you've brought up amounts to substantial evidence that all possible PoS protocols are insecure.
>
>
> I have not come up with anything. I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure. It is up to you to show that you know how to solve every problem that people throw at you. So far we have just demonstrated that your claim that nothing at stake is solved was unjustified. You have not described a system that would solve it (and not introduce critical DDOS attack vector as it is in quorum based systems - per the prior definition of such systems).
>
> Of course the list of problems of PoS systems do not end with just nothing at stake, but it is good enough example that by itself prevents its adoption in decentralized consensus. No need to go to other hard problems without solving nothing at stake.
>
>
>
>
>
> On Tue, May 25, 2021 at 11:10 AM befreeandopen <befreeandopen at protonmail.com> wrote:
>>
>>
>> @befreeandopen " An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp."
>>
>> The scenario you describe would only be likely to happen at all if the malicious actor has a very large fraction of the stake - probably quite close to 50%. At that point, you're talking about a 51% attack, not the nothing at stake problem. The nothing at stake problem is the problem where anyone will mint on any chain. Its clear that if there's a substantial punishment for minting on chains other than the one that eventually wins, every minter without a significant fraction of the stake will be honest and not attempt to mint on old blocks or support someone else's attempt to mint on old blocks (until and if it becomes the heaviest chain). Because the attacker would need probably >45% of the active stake (take a look at the reasoning here for a deeper analysis of that statement), I don't agree that punishment is not a sufficient mitigation of the nothing at stake problem. To exploit the nothing at stake problem, you basically need to 51% attack, at which point you've exceeded the operating conditions of the system, so of course its gonna have problems, just like a 51% attack would cause with PoW.
>>
>>
>> This is not at all the case. The attacker benefits using the described technique at any size of the stake and significantly so with just 5% of the stake. By significantly, I do not mean that the attacker is able to completely take control the network (in short term), but rather that the attacker has significant advantage in the number of blocks she creates compared to what she "should be able to create". This means the attacker's stake increases significantly faster than of the honest nodes, which in long term is very serious in PoS system. If you believe close to 50% is needed for that, you need to redo your math. So no, you are wrong stating that "to exploit nothing at stake problem you basically need to 51% attack". It is rather the opposite - eventually, nothing at stake attack leads to ability to perform 51% attack.
>>
>>
>>
>> > I am not sure if this is what you call quorum-based PoS
>>
>> Yes, pre-selected minters is exactly what I mean by that.
>>
>> > it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system
>>
>> Just like in bitcoin, associating keys with IP addresses isn't generally an easy thing to do on the fly like that. If you know someone's IP address, you can target them. But if you only know their address or public key, the reverse isn't as easy. With a quorum-based PoS system, you can see their public key and address, but finding out their IP to DOS would be a huge challenge I think.
>>
>>
>> I do not dispute that the problem is not trivial, but the problem is not as hard as you think. The network graph analysis is a known technique and it is not trivial, but not very hard either. Introducing a large number of nodes to the system to achieve very good success rate of analysis of area of origin of blocks is doable and has been done in past. So again, I very much disagree with your conclusion that this is somehow secure. It is absolutely insecure.
>>
>>
>>
>> Note, tho, that quorum-based PoS generally also have punishments as part of the protocol. The introduction of punishments do indeed handily solve the nothing at stake problem. And you didn't mention a single problem that the punishments introduce that weren't already there before punishments. There are tradeoffs with introducing punishments (eg in some cases you might punish honest actors), but they are minor in comparison to solving the nothing at stake problem.
>>
>>
>> While I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message), it does introduce additional complexity which may introduce problem, but more importantly, while it slightly improves resistance against the nothing at stake attack, it solves absolutely nothing. Your claim is based on wrong claim of needed close to 50% stake, but that could not be farther from the truth. It is not true even in optimal conditions when all participants of the network stake or delegate their stake. These optimal conditions rarely, if ever, occur. And that's another thing that we have not mention in our debate, so please allow me to introduce another problem to PoS.
>>
>> Consider what is needed for such optimal conditions to occur - all coins are always part of the stake, which means that they need to somehow automatically part of the staking process even when they are moved. But in many PoS systems you usually require some age (in terms of confirmations) of the coin before you allow it to be used for participation in staking process and that is for a good reason - to prevent various grinding attacks. In some systems the coin must be specifically registered before it can be staked, in others, simply waiting for enough confirmations enables you to stake with the coin. I am not sure if there is a system which does not have this cooling period for a coin that has been moved. Maybe it is possible though, but AFAIK it is not common and not battle tested feature.
>>
>> Then if we admit that achieving the optimal condition is rather theoretical. Then if we do not have the optimal condition, it means that a staker with K% of the total available supply increases it's percentage over time to some amounts >K%. As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake (if there are any) and relative to all other stakers who make mistakes or who are not wealthy enough to afford not selling any position ever. But powerful attacker is exactly in such position and thus she will gain significance in such a system. The technique I have described, and that you mistakenly think is viable only with huge amounts of stake, only puts the attacker to even greater advantage. But even without the described attack (which exploits nothing at stake), the PoS system converges to a system more and more controlled by powerful entity, which we can assume is the attacker.
>>
>>
>> So I don't think it is at all misleading to claim that "nothing at stake" is a solved problem. I do in fact mean that the solutions to that problem don't introduce any other problems with anywhere near the same level of significance.
>>
>>
>> It still stands as truly misleading claim. I disagree that introducing DDOS opportunity with medium level of difficulty for the attacker to implement it, in case of "quorum-based PoS" is not a problem anywhere near the same level of significance. Such an attack vector allows you to turn off the network if you spend some time and money. That is hardly acceptable.
>>
>> Just because of the above we must reject PoS as being critically insecure until someone invents and demonstrates an actual way of solving these issues.
>>
>>
>>
>> On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:
>>>
>>> > > you burn them to be used at a future particular block height
>>>
>>> > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>
>>> could be right.   the original idea was to have burns decay over time,
>>> like ASIC's.
>>>
>>> anyway the point was not that "i had a magic formula"
>>>
>>> the point was that proof of burn is almost always better than proof of
>>> stake - simply because the "proof" is on-chain, not sitting on a node
>>> somewhere waiting to be stolen.
>>>
>>> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>> >
>>> > Is this the kind of proof of burn you're talking about?
>>> >
>>> > >   if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
>>> >
>>> > What prevents you from attempting to mine block 553 on both chains?
>>> >
>>> > > miners have a very strong, long-term, investment in the stability of the chain.
>>> >
>>> > Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
>>> >
>>> > > you burn them to be used at a future particular block height
>>> >
>>> > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>> >
>>> > > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
>>> >
>>> > Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
>>> >
>>> >
>>> > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>>> >>
>>> >> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>> >> > I'm fuzzy on how proof of burn works.
>>> >>
>>> >> when you burn coins, you burn them to be used at a future particular
>>> >> block height: so if i'm burning for block 553, i can only use them to
>>> >> mine block 553.   if i have a choice between two chains, one longer
>>> >> and one shorter, i can only choose one... deterministically, for that
>>> >> burn: the chain with the height 553.   if we fix the "lead time" for
>>> >> burned coins to be weeks or even months in advance, miners have a very
>>> >> strong, long-term, investment in the stability of the chain.
>>> >>
>>> >> therefore there is no "nothing at stake" problem.   it's
>>> >> deterministic, so miners have no choice.  they can *only* choose the
>>> >> transactions that go into the block.  they cannot choose which chain
>>> >> to mine, and it's time-locked, so rollbacks and instability always
>>> >> hurt miners the most.
>>> >>
>>> >> the "punishment" systems of PoS are "weird at best", certainly
>>> >> unproven.   i can imagine scenarios where large stakeholders can
>>> >> collude to punish smaller stakeholders simply to drive them out of
>>> >> business, for example.   and then you have to put checks in place to
>>> >> prevent that, and more checks for those prevention system...
>>> >>
>>> >> in PoB, there is no complexity.  simpler systems like this are
>>> >> typically more secure.
>>> >>
>>> >> PoB also solves problems caused by "energy dependence", which could
>>> >> lead to state monopolies on mining (like the new Bitcoin Mining
>>> >> Council).   these consortiums, if state sanctioned, could become a
>>> >> source of censorship, for example.   Since PoB doesn't require you to
>>> >> have a live, well-connected node, it's harder to censor & harder to
>>> >> trace.
>>> >>
>>> >> Eliminating this weakness seems to be in the best interests of
>>> >> existing stakeholders
>>> >>
>>> >>
>>> >>
>>> >>
>>> >> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>> >> >
>>> >> > >  proof of burn clearly solves this, since nothing is held online
>>> >> >
>>> >> > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>>> >> >
>>> >> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>> >> >
>>> >> > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>>> >> >
>>> >> > > proof of burn can be more secure than proof-of-stake
>>> >> >
>>> >> > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>>> >> >
>>> >> >
>>> >> >
>>> >> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>>> >> >>
>>> >> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>> >> >>
>>> >> >> proof of burn clearly solves this, since nothing is held online
>>> >> >>
>>> >> >> >  how does proof of burn solve the "nothing at stake" problem in your view?
>>> >> >>
>>> >> >> definition of nothing at stake: in the event of a fork, whether the
>>> >> >> fork is accidental or a malicious, the optimal strategy for any miner
>>> >> >> is to mine on every chain, so that the miner gets their reward no
>>> >> >> matter which fork wins.   indeed in proof-of-stake, the proofs are
>>> >> >> published on the very chains mines, so the incentive is magnified.
>>> >> >>
>>> >> >> in proof-of-burn, your burn investment is always "at stake", any
>>> >> >> redaction can result in a loss-of-burn, because burns can be tied,
>>> >> >> precisely, to block-heights
>>> >> >>
>>> >> >> as a result, miners no longer have an incentive to mine all chains
>>> >> >>
>>> >> >> in this way proof of burn can be more secure than proof-of-stake, and
>>> >> >> even more secure than proof of work
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >> >
>>> >> >>
>>> >> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>>> >> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >
>>> >> >> > Hi Billy,
>>> >> >> >
>>> >> >> > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>>> >> >> > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>>> >> >> >
>>> >> >> > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>>> >> >> > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>>> >> >> > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>>> >> >> > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>>> >> >> > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>>> >> >> > In PoS systems this clean separation of responsibilities does not exist.
>>> >> >> >
>>> >> >> > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>>> >> >> > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>>> >> >> > But the devil is in the detail.
>>> >> >> > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>>> >> >> >
>>> >> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>>> >> >> >
>>> >> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>>> >> >> > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>>> >> >> > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>>> >> >> > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>>> >> >> >
>>> >> >> > 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>>> >> >> >
>>> >> >> > 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>>> >> >> >
>>> >> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>>> >> >> > I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>>> >> >> > In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>>> >> >> >
>>> >> >> > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>>> >> >> > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>>> >> >> > It also grows the size of the blockchain significantly.
>>> >> >> >
>>> >> >> > ### "Pure" proof of stake (Algorand)
>>> >> >> >
>>> >> >> > Algorand's[4] approach is to only allow online stake to participate in the protocol.
>>> >> >> > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>>> >> >> > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>>> >> >> > Hopefully you've spotted the problem.
>>> >> >> > You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>>> >> >> > Damn it's still Proof-of-SquareSpace!
>>> >> >> > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>>> >> >> > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>>> >> >> >
>>> >> >> > ### Conclusion
>>> >> >> >
>>> >> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>> >> >> > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>>> >> >> >
>>> >> >> > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>>> >> >> > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>>> >> >> > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>>> >> >> > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>>> >> >> >
>>> >> >> > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>>> >> >> >
>>> >> >> > Would be interested to know if you or others think differently on these points.
>>> >> >> >
>>> >> >> > [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>>> >> >> > [2]: https://staking.staked.us/algorand-staking
>>> >> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>>> >> >> > [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>>> >> >> > [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>> >> >> >
>>> >> >> > Cheers,
>>> >> >> >
>>> >> >> > LL
>>> >> >> >
>>> >> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >>
>>> >> >> >> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>>> >> >> >>
>>> >> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>>> >> >> >> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>>> >> >> >> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>>> >> >> >> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>>> >> >> >> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>>> >> >> >>
>>> >> >> >> > Proof-of-stake tends towards oligopolistic control
>>> >> >> >>
>>> >> >> >> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>>> >> >> >>
>>> >> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>> >> >> >>
>>> >> >> >> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>>> >> >> >>
>>> >> >> >> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>> >> >> >>
>>> >> >> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>>> >> >> >>
>>> >> >> >>  > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>>> >> >> >>
>>> >> >> >> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>>> >> >> >>
>>> >> >> >> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>>> >> >> >>
>>> >> >> >> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>>> >> >> >>
>>> >> >> >> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>>> >> >> >>
>>> >> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>>> >> >> >>
>>> >> >> >>
>>> >> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >>>
>>> >> >> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>> >> >> >>>
>>> >> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>> >> >> >>>>
>>> >> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>> >> >> >>>>
>>> >> >> >>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>> >> >> >>>>
>>> >> >> >>>> Cheers,
>>> >> >> >>>> Mike
>>> >> >> >>>>
>>> >> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >>>>>
>>> >> >> >>>>> 1. i never suggested vdf's to replace pow.
>>> >> >> >>>>>
>>> >> >> >>>>> 2. my suggestion was specifically *in the context of* a working
>>> >> >> >>>>> proof-of-burn protocol
>>> >> >> >>>>>
>>> >> >> >>>>> - vdfs used only for timing (not block height)
>>> >> >> >>>>> - blind-burned coins of a specific age used to replace proof of work
>>> >> >> >>>>> - the required "work" per block would simply be a competition to
>>> >> >> >>>>> acquire rewards, and so miners would have to burn coins, well in
>>> >> >> >>>>> advance, and hope that their burned coins got rewarded in some far
>>> >> >> >>>>> future
>>> >> >> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>> >> >> >>>>> value gained from proof of work... without some of the security
>>> >> >> >>>>> drawbacks
>>> >> >> >>>>> - the miner risks losing all of his burned coins (like all miners risk
>>> >> >> >>>>> losing their work in each block)
>>> >> >> >>>>> - new burns can't be used
>>> >> >> >>>>> - old burns age out (like ASICs do)
>>> >> >> >>>>> - other requirements on burns might be needed to properly mirror the
>>> >> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>> >> >> >>>>>
>>> >> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>> >> >> >>>>> might be more secure in the long run, and that if the entire space
>>> >> >> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>> >> >> >>>>> up, and a hard-fork could be initiated.
>>> >> >> >>>>>
>>> >> >> >>>>> 4. i would never suggest such a thing unless i believed it was
>>> >> >> >>>>> possible that consensus was possible.  so no, this is not an "alt
>>> >> >> >>>>> coin"
>>> >> >> >>>>>
>>> >> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>> >> >> >>>>> >
>>> >> >> >>>>> > Hi ZmnSCPxj,
>>> >> >> >>>>> >
>>> >> >> >>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>> >> >> >>>>> >
>>> >> >> >>>>> > Zac
>>> >> >> >>>>> >
>>> >> >> >>>>> >
>>> >> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> Good morning Zac,
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>> >> >> >>>>> >> >
>>> >> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>> >> >> >>>>> >> >
>>> >> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>> >> >> >>>>> >> >
>>> >> >> >>>>> >> > As a result, variation in block times will be greatly reduced.
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>> >> >> >>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> Regards,
>>> >> >> >>>>> >> ZmnSCPxj
>>> >> >> >>>>> _______________________________________________
>>> >> >> >>>>> bitcoin-dev mailing list
>>> >> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>>> >> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>> >> >> >>>>
>>> >> >> >>>>
>>> >> >> >>>>
>>> >> >> >>>> --
>>> >> >> >>>> Michael Dubrovsky
>>> >> >> >>>> Founder; PoWx
>>> >> >> >>>> www.PoWx.org
>>> >> >> >>>
>>> >> >> >>>
>>> >> >> >>>
>>> >> >> >>> --
>>> >> >> >>> Michael Dubrovsky
>>> >> >> >>> Founder; PoWx
>>> >> >> >>> www.PoWx.org
>>> >> >> >>> _______________________________________________
>>> >> >> >>> bitcoin-dev mailing list
>>> >> >> >>> bitcoin-dev at lists.linuxfoundation.org
>>> >> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>> >> >> >>
>>> >> >> >> _______________________________________________
>>> >> >> >> bitcoin-dev mailing list
>>> >> >> >> bitcoin-dev at lists.linuxfoundation.org
>>> >> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>> >> >> >
>>> >> >> > _______________________________________________
>>> >> >> > bitcoin-dev mailing list
>>> >> >> > bitcoin-dev at lists.linuxfoundation.org
>>> >> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
>>
>


From billy.tetrud at gmail.com  Thu May 27 10:08:57 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Thu, 27 May 2021 00:08:57 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
 <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
Message-ID: <CAGpPWDZhxd_dGyFX1E5cPf_00LwyF_DqosvJm4QOr9X9TCyioQ@mail.gmail.com>

>  using nothing at stake

I see from the way you're using this term now that you mean something
completely different by it than I usually understand the phrase. You seem
to mean it as that minters can check whether they can mint a block without
any cost. By contrast, I generally understand the phrase to mean the
problem where there is no cost to broadcasting blocks on many different
chains.

> she gained an extra block over the honest strategy which would only give
her block D

I think I see what you're saying now. It actually sounds quite similar to
the selfish mining attack in proof of work. However I do acknowledge that
the ability to secretly mint on both your secret chain(s) and the public
chain makes it worse in PoS. How much worse is something that should be
quantified. This is also a solvable problem. Designing a secure system can
be kind of like whack a mole. You fix the weakest link in the chain, and
there is inevitably now a new weakest link that is stronger than the link
you fixed. Bitcoin is no different, as development continues, more security
improvements are implemented.

In this case, there's a number of possible solutions, some of which can be
combined. Eg you can program all honest clients to mint selfishly. You'd
likely need to lengthen the number of blocks that constitute a finalized
transaction, but you can probably reduce the block time to compensate, so
finalization doesn't actually take longer. You could also require many
additional signatures on each block from outside validators.

> How is that relevant to our discussion?

It is relevant because the benefits of proof of stake must be compared to
an alternative, and the alternative of reference here is clearly PoW. I'm
pointing out that the vulnerability you're describing in the type of PoS
you're talking about also exists in what its being compared against. To
know whether PoS or PoW is better on this particular aspect, you need to
compare the levels of advantage that can be obtained in each, and how this
affects the cost of attacking the system. Its not as straight forward as
saying "PoS is bad because it has this vulnerability" when the system you
compare it to also has a very similar vulnerability. You need to quantify
the difference at that point.

> the list of producers for next epoch is known up front and you confirmed
that this is what you meant with "quorum" system

Known by public key, not by IP address.

> (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)

I agree that claiming that Y is a solved problem would be misleading if the
solution creates problems that are of greater significance than the
original problem. I would also agree that if the solution creates
significant problems that are substantially less significant than the
problem it solves, it would be misleading to say its a "solved problem" -
saying "partially solved" would be more accurate there.

However, I do not agree that it is at all misleading to say "nothing at
stake is a solved problem" just because solving that specific problem
doesn't solve all the problems with proof of stake. Its unreasonable to
expect that when someone claims problem X is solved, that it also implies
all problems related to X are solved.

I maintain that nothing at stake is a solved problem. There are solutions
that do not create other problems of anywhere near the same level of
significance.

> Since the optimal scenario with all existing coins participating is just
theoretical, the attacker's position will ever so improve. It seems we are
in agreement here, great

I don't believe we're in agreement there. I don't know how what you said
refutes my point.

> I'm afraid you've not realized the burden of proof is on your side if you
vouch for a design that is not believed and trusted to be secure.

You were the one that claimed proof of stake cannot be made secure. The
burden of proof is on you to support your own claims.

> You have not described a system that would solve it

I would be curious to hear a full critique from you about this protocol
<https://github.com/fresheneesz/ValidatedProofOfStake>.

On Wed, May 26, 2021 at 3:12 AM befreeandopen <befreeandopen at protonmail.com>
wrote:

>
>
> @befreeandopen I guess I misunderstood your selfish minting attack. Let me
> make sure I understand it. You're saying it would go as follows?:
>
> 1. The malicious actor comes across an opportunity to mint the next 3
> blocks. But they hold off and don't release their blocks just yet.
> 2. They receive a new block minted by someone else.
> 3. The malicious actor then chooses to release their other 2 blocks on on
> the second from the top block if it gives them more blocks in the future
> than minting on the top block. And instead lets the top block proceed if it
> gives them more blocks in the future (also figuring in the 3 blocks they're
> missing out on minting).
> 4. Profit!
>
> The problem with this attack is that any self respecting PoS system
> wouldn't have the information available for minters to know how blocks will
> affect their future prospects of minting. Otherwise this would introduce
> the problem of stake grinding. This can be done using collaborative
> randomness (where numbers from many parties are combined to create a random
> number that no individual party could predict). In fact, that's what the
> Casper protocol does to decide quorums. In a non quorum case, you can do
> something like record a hash of a number in the block header, and then have
> a second step to release that number later. Rewards can be given can be
> used to ensure minters act honestly here by minting messages that release
> these numbers and not releasing their secret numbers too early.
>
>
> Yes, you misunderstood it. First, let me say that the above thoughts of
> yours are incorrect, at least for non-quorum case. Since the transition in
> the blockchain system from S1 to S2 is only by adding new block, and since
> stakers always need to be able to decide whether or not they can add the
> next block, it follows that if a staker creates a new block locally, she
> can decide whether the new state allows her to add another block on top. As
> you mentioned, this COULD introduce problem of staking, that you are
> incorrect in that it is a necessity. Usual prevention of the grinding
> problem in this case is that an "old enough" source of randomness applies
> for the current block production process. Of course this, as it is typical
> for PoS, introduces other problems, but let's discard those.
>
> I will try to explain in detail what you misunderstood before. You start
> with a chain ending with blocks A-B-C, C being the top, the common feature
> of PoS system (non-quorum), roughly speaking, is that if N is the total
> amount of coins that participate in the staking process to create a new
> block on top of C (let's call that D), then a participant having K*N amount
> of stake has chance K to be the one who will create the next stake. In
> other words, the power of stakers is supposed to be linear in the system -
> you own 10 coins gives you 10x the chance of finding block over someone who
> has 1 coin.
>
> What i was claiming is that using the technique I have described, this
> linearity is violated. Why? Well, it works for honest stakers among the
> competition of honest stakers - they really do have the chance of K to find
> the next block. However, the attacker, using nothing at stake, checks her
> ability to build block D (at some timestamp). If she is successful, she
> does not propagate D immediately, but instead she also checks whether she
> can build on top of B and on top of A. Since with every new timestamp,
> usually, there is a new chance to build the block, it is not uncommon that
> she finds she is indeed able to build such block C' on top of B. Here it is
> likely t(C') > t(C) as the attacker has relatively low stake. Note that in
> order to produce such C', she not only could have tried the current
> timestamp t(D), but also all previous timestamps up to t(B) (usually that's
> the consensus rule, but it may depend on a specific consensus). So her
> chance to produce such C' is greater than her previous chance of producing
> C (which chance was limited by other stakers in the system and the
> discovery of block C by one of them). Now suppose that she found such C'
> and now she continues by trying to prolong this chain by finding D'. And
> again here, it is quite likely that her chance to find such D' is greater
> than was her chance of finding D because again there are likely multiple
> timestamps she could try. This all was possible just because nothing at
> stake allows you to just try if you can produce a block in certain state of
> block chain or not. Now if she actually was able to find D', she discards D
> and only publishes chain A-B-C'-D', which can not be punished despite the
> fact that she indeed produced two different forks. She can not be punished
> because this production was local and only the final result of A-B-C'-D'
> was published, in which case she gained an extra block over the honest
> strategy which would only give her block D.
>
>
>
> Fun fact tho: there is an attack called the "selfish mining attack" for
> proof of work, and it reduces the security of PoW by at least 1/3rd
> <https://bitcoinmagazine.com/technical/selfish-mining-a-25-attack-against-the-bitcoin-network-1383578440>
> .
>
>
> How is that relevant to our discussion? This is known research that has
> nothing to do with PoS except that it is often worse on PoS.
>
>
>
> >   the problem is not as hard as you think
>
> I don't claim to know just how hard finding the IP address associated with
> a bitcoin address is. However, the DOS risk can be solved more completely
> by only allowing the owner of coins themselves to know whether they can
> mint a block. Eg by determining whether someone can mint a block based on
> their public key hidden behind hashes (as normal in addresses). Only when
> someone does in fact mint a block do they reveal their hidden public key in
> order to prove they are allowed to mint the block.
>
>
> This is true, but you are mixing quorum and non-quorum systems. My
> objection here was towards such system where I specifically said that the
> list of producers for next epoch is known up front and you confirmed that
> this is what you meant with "quorum" system. So in such system, I claimed,
> the known producer is the only target at any given point of time. This of
> course does not apply to any other type of system where future producers
> are not known. No need to dispute, again, something that was not claimed.
>
>
>
>
> > I agree that introduction of punishment itself does not imply
> introducing a problem elsewhere (which I did not claim if you reread my
> previous message)
>
> I'm glad we agree there. Perhaps I misunderstood what you meant by "you
> should not omit to mention that by doing so, typically, you have introduced
> another problem elsewhere."
>
>
> Perhaps you should quote the full sentence and not just a part of it:
>
> "Of course you can always change the rules in a way that a certain
> specific attack is not doable, but you should not omit to mention that by
> doing so, typically, you have introduced another problem elsewhere, or you
> have not solved it completely."
>
> You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT
> COMPLETELY)
> In case of the punishment it was meant to be the not solve it completely
> part.
> Also "typically" does not imply always.
> But this parsing of English sentences for you seems very off topic here.
> My point is, in context of Bitcoin, reject such unsupported claims that PoS
> is a reasonable alternative to PoW, let's stick to that.
>
>
>
> > As long as the staker makes sure (which is not that hard) that she does
> not miss a chance to create a block, her significance in the system will
> always increase in time. It will increase relative to all normal users who
> do not stake
>
> Well, if you're in the closed system of the cryptocurrency, sure. But we
> don't live in that closed system. Minters will earn some ROI from minting
> just like any other financial activity. Others may find more success
> spending their time doing things other than figuring out how to mint coins.
> In that case, they'll be able to earn more coin that they could later
> decide to use to mint blocks if they decide to.
>
>
> This only supports the point I was making. Since the optimal scenario with
> all existing coins participating is just theoretical, the attacker's
> position will ever so improve. It seems we are in agreement here, great.
>
>
>
>
> > Just because of the above we must reject PoS as being critically
> insecure
>
> I think the only thing we can conclude from this is that you have come up
> with an insecure proof of stake protocol. I don't see how anything you've
> brought up amounts to substantial evidence that all possible PoS protocols
> are insecure.
>
>
> I have not come up with anything. I'm afraid you've not realized the
> burden of proof is on your side if you vouch for a design that is not
> believed and trusted to be secure. It is up to you to show that you know
> how to solve every problem that people throw at you. So far we have just
> demonstrated that your claim that nothing at stake is solved was
> unjustified. You have not described a system that would solve it (and not
> introduce critical DDOS attack vector as it is in quorum based systems -
> per the prior definition of such systems).
>
> Of course the list of problems of PoS systems do not end with just nothing
> at stake, but it is good enough example that by itself prevents its
> adoption in decentralized consensus. No need to go to other hard problems
> without solving nothing at stake.
>
>
>
>
>
> On Tue, May 25, 2021 at 11:10 AM befreeandopen <
> befreeandopen at protonmail.com> wrote:
>
>>
>> @befreeandopen " An attacker can calculate whether or not she can prolong
>> this chain or not and if so with what timestamp."
>>
>> The scenario you describe would only be likely to happen at all if the
>> malicious actor has a very large fraction of the stake - probably quite
>> close to 50%. At that point, you're talking about a 51% attack, not the
>> nothing at stake problem. The nothing at stake problem is the problem where
>> anyone will mint on any chain. Its clear that if there's a substantial
>> punishment for minting on chains other than the one that eventually wins,
>> every minter without a significant fraction of the stake will be honest and
>> not attempt to mint on old blocks or support someone else's attempt to mint
>> on old blocks (until and if it becomes the heaviest chain). Because the
>> attacker would need probably >45% of the active stake (take a look at the reasoning
>> here
>> <https://github.com/fresheneesz/ValidatedProofOfStake#security-the-minimum-cost-of-attack>
>> for a deeper analysis of that statement), I don't agree that punishment is
>> not a sufficient mitigation of the nothing at stake problem. To exploit the
>> nothing at stake problem, you basically need to 51% attack, at which point
>> you've exceeded the operating conditions of the system, so of course its
>> gonna have problems, just like a 51% attack would cause with PoW.
>>
>>
>> This is not at all the case. The attacker benefits using the described
>> technique at any size of the stake and significantly so with just 5% of the
>> stake. By significantly, I do not mean that the attacker is able to
>> completely take control the network (in short term), but rather that the
>> attacker has significant advantage in the number of blocks she creates
>> compared to what she "should be able to create". This means the attacker's
>> stake increases significantly faster than of the honest nodes, which in
>> long term is very serious in PoS system. If you believe close to 50% is
>> needed for that, you need to redo your math. So no, you are wrong stating
>> that "to exploit nothing at stake problem you basically need to 51%
>> attack". It is rather the opposite - eventually, nothing at stake attack
>> leads to ability to perform 51% attack.
>>
>>
>>
>> > I am not sure if this is what you call quorum-based PoS
>>
>> Yes, pre-selected minters is exactly what I mean by that.
>>
>> > it allows the attacker to know who to attack at which point with
>> powerful DDOS in order to hurt liveness of such system
>>
>> Just like in bitcoin, associating keys with IP addresses isn't generally
>> an easy thing to do on the fly like that. If you know someone's IP address,
>> you can target them. But if you only know their address or public key, the
>> reverse isn't as easy. With a quorum-based PoS system, you can see their
>> public key and address, but finding out their IP to DOS would be a huge
>> challenge I think.
>>
>>
>> I do not dispute that the problem is not trivial, but the problem is not
>> as hard as you think. The network graph analysis is a known technique and
>> it is not trivial, but not very hard either. Introducing a large number of
>> nodes to the system to achieve very good success rate of analysis of area
>> of origin of blocks is doable and has been done in past. So again, I very
>> much disagree with your conclusion that this is somehow secure. It is
>> absolutely insecure.
>>
>>
>>
>> Note, tho, that quorum-based PoS generally also have punishments as part
>> of the protocol. The introduction of punishments do indeed handily solve
>> the nothing at stake problem. And you didn't mention a single problem that
>> the punishments introduce that weren't already there before punishments.
>> There are tradeoffs with introducing punishments (eg in some cases you
>> might punish honest actors), but they are minor in comparison to solving
>> the nothing at stake problem.
>>
>>
>> While I agree that introduction of punishment itself does not imply
>> introducing a problem elsewhere (which I did not claim if you reread my
>> previous message), it does introduce additional complexity which may
>> introduce problem, but more importantly, while it slightly improves
>> resistance against the nothing at stake attack, it solves absolutely
>> nothing. Your claim is based on wrong claim of needed close to 50% stake,
>> but that could not be farther from the truth. It is not true even in
>> optimal conditions when all participants of the network stake or delegate
>> their stake. These optimal conditions rarely, if ever, occur. And that's
>> another thing that we have not mention in our debate, so please allow me to
>> introduce another problem to PoS.
>>
>> Consider what is needed for such optimal conditions to occur - all coins
>> are always part of the stake, which means that they need to somehow
>> automatically part of the staking process even when they are moved. But in
>> many PoS systems you usually require some age (in terms of confirmations)
>> of the coin before you allow it to be used for participation in staking
>> process and that is for a good reason - to prevent various grinding
>> attacks. In some systems the coin must be specifically registered before it
>> can be staked, in others, simply waiting for enough confirmations enables
>> you to stake with the coin. I am not sure if there is a system which does
>> not have this cooling period for a coin that has been moved. Maybe it is
>> possible though, but AFAIK it is not common and not battle tested feature.
>>
>> Then if we admit that achieving the optimal condition is rather
>> theoretical. Then if we do not have the optimal condition, it means that a
>> staker with K% of the total available supply increases it's percentage over
>> time to some amounts >K%. As long as the staker makes sure (which is not
>> that hard) that she does not miss a chance to create a block, her
>> significance in the system will always increase in time. It will increase
>> relative to all normal users who do not stake (if there are any) and
>> relative to all other stakers who make mistakes or who are not wealthy
>> enough to afford not selling any position ever. But powerful attacker is
>> exactly in such position and thus she will gain significance in such a
>> system. The technique I have described, and that you mistakenly think is
>> viable only with huge amounts of stake, only puts the attacker to even
>> greater advantage. But even without the described attack (which exploits
>> nothing at stake), the PoS system converges to a system more and more
>> controlled by powerful entity, which we can assume is the attacker.
>>
>>
>> So I don't think it is at all misleading to claim that "nothing at stake"
>> is a solved problem. I do in fact mean that the solutions to that problem
>> don't introduce any other problems with anywhere near the same level of
>> significance.
>>
>>
>> It still stands as truly misleading claim. I disagree that introducing
>> DDOS opportunity with medium level of difficulty for the attacker to
>> implement it, in case of "quorum-based PoS" is not a problem anywhere near
>> the same level of significance. Such an attack vector allows you to turn
>> off the network if you spend some time and money. That is hardly acceptable.
>>
>> Just because of the above we must reject PoS as being critically insecure
>> until someone invents and demonstrates an actual way of solving these
>> issues.
>>
>>
>>
>> On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:
>>
>>> > > you burn them to be used at a future particular block height
>>>
>>> > This sounds exploitable. It seems like an attacker could simply focus
>>> all their burns on a particular set of 6 blocks to double spend, minimizing
>>> their cost of attack.
>>>
>>> could be right.   the original idea was to have burns decay over time,
>>> like ASIC's.
>>>
>>> anyway the point was not that "i had a magic formula"
>>>
>>> the point was that proof of burn is almost always better than proof of
>>> stake - simply because the "proof" is on-chain, not sitting on a node
>>> somewhere waiting to be stolen.
>>>
>>> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com>
>>> wrote:
>>> >
>>> > Is this the kind of proof of burn you're talking about?
>>> >
>>> > >   if i have a choice between two chains, one longer and one shorter,
>>> i can only choose one... deterministically
>>> >
>>> > What prevents you from attempting to mine block 553 on both chains?
>>> >
>>> > > miners have a very strong, long-term, investment in the stability of
>>> the chain.
>>> >
>>> > Yes, but the same can be said of any coin, even ones that do have the
>>> nothing at stake problem. This isn't sufficient tho because the chain is a
>>> common good, and the tragedy of the commons holds for it.
>>> >
>>> > > you burn them to be used at a future particular block height
>>> >
>>> > This sounds exploitable. It seems like an attacker could simply focus
>>> all their burns on a particular set of 6 blocks to double spend, minimizing
>>> their cost of attack.
>>> >
>>> > > i can imagine scenarios where large stakeholders can collude to
>>> punish smaller stakeholders simply to drive them out of business, for
>>> example
>>> >
>>> > Are you talking about a 51% attack? This is possible in any
>>> decentralized cryptocurrency.
>>> >
>>> >
>>> > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>>> >>
>>> >> > > your burn investment is always "at stake", any redaction can
>>> result in a loss-of-burn, because burns can be tied, precisely, to
>>> block-heights
>>> >> > I'm fuzzy on how proof of burn works.
>>> >>
>>> >> when you burn coins, you burn them to be used at a future particular
>>> >> block height: so if i'm burning for block 553, i can only use them to
>>> >> mine block 553.   if i have a choice between two chains, one longer
>>> >> and one shorter, i can only choose one... deterministically, for that
>>> >> burn: the chain with the height 553.   if we fix the "lead time" for
>>> >> burned coins to be weeks or even months in advance, miners have a very
>>> >> strong, long-term, investment in the stability of the chain.
>>> >>
>>> >> therefore there is no "nothing at stake" problem.   it's
>>> >> deterministic, so miners have no choice.  they can *only* choose the
>>> >> transactions that go into the block.  they cannot choose which chain
>>> >> to mine, and it's time-locked, so rollbacks and instability always
>>> >> hurt miners the most.
>>> >>
>>> >> the "punishment" systems of PoS are "weird at best", certainly
>>> >> unproven.   i can imagine scenarios where large stakeholders can
>>> >> collude to punish smaller stakeholders simply to drive them out of
>>> >> business, for example.   and then you have to put checks in place to
>>> >> prevent that, and more checks for those prevention system...
>>> >>
>>> >> in PoB, there is no complexity.  simpler systems like this are
>>> >> typically more secure.
>>> >>
>>> >> PoB also solves problems caused by "energy dependence", which could
>>> >> lead to state monopolies on mining (like the new Bitcoin Mining
>>> >> Council).   these consortiums, if state sanctioned, could become a
>>> >> source of censorship, for example.   Since PoB doesn't require you to
>>> >> have a live, well-connected node, it's harder to censor & harder to
>>> >> trace.
>>> >>
>>> >> Eliminating this weakness seems to be in the best interests of
>>> >> existing stakeholders
>>> >>
>>> >>
>>> >>
>>> >>
>>> >> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com>
>>> wrote:
>>> >> >
>>> >> > >  proof of burn clearly solves this, since nothing is held online
>>> >> >
>>> >> > Well.. the coins to be burned need to be online when they're
>>> burned. But yes, only a small fraction of the total coins need to be online.
>>> >> >
>>> >> > > your burn investment is always "at stake", any redaction can
>>> result in a loss-of-burn, because burns can be tied, precisely, to
>>> block-heights
>>> >> >
>>> >> > So you're saying that if say someone tries to mine a block on a
>>> shorter chain, that requires them to send a transaction burning their
>>> coins, and that transaction could also be spent on the longest chain, which
>>> means their coins are burned even if the chain they tried to mine on
>>> doesn't win? I'm fuzzy on how proof of burn works.
>>> >> >
>>> >> > > proof of burn can be more secure than proof-of-stake
>>> >> >
>>> >> > FYI, proof of stake can be done without the "nothing at stake"
>>> problem. You can simply punish people who mint on shorter chains (by
>>> rewarding people who publish proofs of this happening on the main chain).
>>> In quorum-based PoS, you can punish people in the quorum that propose or
>>> sign multiple blocks for the same height. The "nothing at stake" problem is
>>> a solved problem at this point for PoS.
>>> >> >
>>> >> >
>>> >> >
>>> >> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>>> >> >>
>>> >> >> > I don't see a way to get around the conflicting requirement that
>>> the keys for large amounts of coins should be kept offline but those are
>>> exactly the coins we need online to make the scheme secure.
>>> >> >>
>>> >> >> proof of burn clearly solves this, since nothing is held online
>>> >> >>
>>> >> >> >  how does proof of burn solve the "nothing at stake" problem in
>>> your view?
>>> >> >>
>>> >> >> definition of nothing at stake: in the event of a fork, whether the
>>> >> >> fork is accidental or a malicious, the optimal strategy for any
>>> miner
>>> >> >> is to mine on every chain, so that the miner gets their reward no
>>> >> >> matter which fork wins.   indeed in proof-of-stake, the proofs are
>>> >> >> published on the very chains mines, so the incentive is magnified.
>>> >> >>
>>> >> >> in proof-of-burn, your burn investment is always "at stake", any
>>> >> >> redaction can result in a loss-of-burn, because burns can be tied,
>>> >> >> precisely, to block-heights
>>> >> >>
>>> >> >> as a result, miners no longer have an incentive to mine all chains
>>> >> >>
>>> >> >> in this way proof of burn can be more secure than proof-of-stake,
>>> and
>>> >> >> even more secure than proof of work
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >> >
>>> >> >>
>>> >> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>>> >> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >
>>> >> >> > Hi Billy,
>>> >> >> >
>>> >> >> > I was going to write a post which started by dismissing many of
>>> the weak arguments that are made against PoS made in this thread and
>>> elsewhere.
>>> >> >> > Although I don't agree with all your points you have done a
>>> decent job here so I'll focus on the second part: why I think
>>> Proof-of-Stake is inappropriate for a Bitcoin-like system.
>>> >> >> >
>>> >> >> > Proof of stake is not fit for purpose for a global settlement
>>> layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin
>>> is trying to be.
>>> >> >> > PoS necessarily gives responsibilities to the holders of coins
>>> that they do not want and cannot handle.
>>> >> >> > In Bitcoin, large unsophisticated coin holders can put their
>>> coins in cold storage without a second thought given to the health of the
>>> underlying ledger.
>>> >> >> > As much as hardcore Bitcoiners try to convince them to run their
>>> own node, most don't, and that's perfectly acceptable.
>>> >> >> > At no point do their personal decisions affect the underlying
>>> consensus -- it only affects their personal security assurance (not that of
>>> the system itself).
>>> >> >> > In PoS systems this clean separation of responsibilities does
>>> not exist.
>>> >> >> >
>>> >> >> > I think that the more rigorously studied PoS protocols will work
>>> fine within the security claims made in their papers.
>>> >> >> > People who believe that these protocols are destined for
>>> catastrophic consensus failure are certainly in for a surprise.
>>> >> >> > But the devil is in the detail.
>>> >> >> > Let's look at what the implications of using the leading proof
>>> of stake protocols would have on Bitcoin:
>>> >> >> >
>>> >> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>>> >> >> >
>>> >> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3]
>>> with an inbuilt on-chain delegation system[5].
>>> >> >> > In these protocols, coin holders who do not want to run their
>>> node with their hot keys in it delegate it to a "Stake Pool".
>>> >> >> > I call the resulting system Proof-of-SquareSpace since most will
>>> choose a pool by looking around for one with a nice website and offering
>>> the largest share of the block reward.
>>> >> >> > On the surface this might sound no different than someone with
>>> an mining rig shopping around for a good mining pool but there are crucial
>>> differences:
>>> >> >> >
>>> >> >> > 1. The person making the decision is forced into it just because
>>> they own the currency -- someone with a mining rig has purchased it with
>>> the intent to make profit by participating in consensus.
>>> >> >> >
>>> >> >> > 2. When you join a mining pool your systems are very much still
>>> online. You are just partaking in a pool to reduce your profit variance.
>>> You still see every block that you help create and *you never help create a
>>> block without seeing it first*.
>>> >> >> >
>>> >> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority
>>> and start censoring transactions how are the users meant to redelegate
>>> their stake to honest pools?
>>> >> >> > I guess they can just send a transaction delegating to another
>>> pool...oh wait I guess that might be censored too! This seems really really
>>> bad.
>>> >> >> > In Bitcoin, miners can just join a different pool at a whim.
>>> There is nothing the attacker can do to stop them. A temporary dishonest
>>> majority heals relatively well.
>>> >> >> >
>>> >> >> > There is another severe disadvantage to this on-chain delegation
>>> system: every UTXO must indicate which staking account this UTXO belongs to
>>> so the appropriate share of block rewards can be transferred there.
>>> >> >> > Being able to associate every UTXO to an account ruins one of
>>> the main privacy advantages of the UTXO model.
>>> >> >> > It also grows the size of the blockchain significantly.
>>> >> >> >
>>> >> >> > ### "Pure" proof of stake (Algorand)
>>> >> >> >
>>> >> >> > Algorand's[4] approach is to only allow online stake to
>>> participate in the protocol.
>>> >> >> > Theoretically, This means that keys holding funds have to be
>>> online in order for them to author blocks when they are chosen.
>>> >> >> > Of course in reality no one wants to keep their coin holding
>>> keys online so in Alogorand you can authorize a set of "participation
>>> keys"[1] that will be used to create blocks on your coin holding key's
>>> behalf.
>>> >> >> > Hopefully you've spotted the problem.
>>> >> >> > You can send your participation keys to any malicious party with
>>> a nice website (see random example [2]) offering you a good return.
>>> >> >> > Damn it's still Proof-of-SquareSpace!
>>> >> >> > The minor advantage is that at least the participation keys
>>> expire after a certain amount of time so eventually the SquareSpace
>>> attacker will lose their hold on consensus.
>>> >> >> > Importantly there is also less junk on the blockchain because
>>> the participation keys are delegated off-chain and so are not making as
>>> much of a mess.
>>> >> >> >
>>> >> >> > ### Conclusion
>>> >> >> >
>>> >> >> > I don't see a way to get around the conflicting requirement that
>>> the keys for large amounts of coins should be kept offline but those are
>>> exactly the coins we need online to make the scheme secure.
>>> >> >> > If we allow delegation then we open up a new social attack
>>> surface and it degenerates to Proof-of-SquareSpace.
>>> >> >> >
>>> >> >> > For a "digital gold" like system like Bitcoin we optimize for
>>> simplicity and desperately want to avoid extraneous responsibilities for
>>> the holder of the coin.
>>> >> >> > After all, gold is an inert element on the periodic table that
>>> doesn't confer responsibilities on the holder to maintain the quality of
>>> all the other bars of gold out there.
>>> >> >> > Bitcoin feels like this too and in many ways is more inert and
>>> beautifully boring than gold.
>>> >> >> > For Bitcoin to succeed I think we need to keep it that way and
>>> Proof-of-Stake makes everything a bit too exciting.
>>> >> >> >
>>> >> >> > I suppose in the end the market will decide what is real digital
>>> gold and whether these bad technical trade offs are worth being able to say
>>> it uses less electricity. It goes without saying that making bad technical
>>> decisions to appease the current political climate is an anathema to
>>> Bitcoin.
>>> >> >> >
>>> >> >> > Would be interested to know if you or others think differently
>>> on these points.
>>> >> >> >
>>> >> >> > [1]:
>>> https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>>> >> >> > [2]: https://staking.staked.us/algorand-staking
>>> >> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>>> >> >> > [4]:
>>> https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>>> >> >> > [5]:
>>> https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>> >> >> >
>>> >> >> > Cheers,
>>> >> >> >
>>> >> >> > LL
>>> >> >> >
>>> >> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <
>>> bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >>
>>> >> >> >> I think there is a lot of misinformation and bias against Proof
>>> of Stake. Yes there have been lots of shady coins that use insecure PoS
>>> mechanisms. Yes there have been massive issues with distribution of PoS
>>> coins (of course there have also been massive issues with PoW coins as
>>> well). However, I want to remind everyone that there is a difference
>>> between "proved to be impossible" and "have not achieved recognized success
>>> yet". Most of the arguments levied against PoS are out of date or rely on
>>> unproven assumptions or extrapolation from the analysis of a particular PoS
>>> system. I certainly don't think we should experiment with bitcoin by
>>> switching to PoS, but from my research, it seems very likely that there is
>>> a proof of stake consensus protocol we could build that has substantially
>>> higher security (cost / capital required to execute an attack) while at the
>>> same time costing far less resources (which do translate to fees on the
>>> network) *without* compromising any of the critical security properties
>>> bitcoin relies on. I think the critical piece of this is the disagreements
>>> around hardcoded checkpoints, which is a critical piece solving attacks
>>> that could be levied on a PoS chain, and how that does (or doesn't) affect
>>> the security model.
>>> >> >> >>
>>> >> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS
>>> is worse when a 51% attack happens. While I agree, I think that line of
>>> thinking omits important facts:
>>> >> >> >> * The capital required to 51% attack a PoS chain can be made
>>> substantially greater than on a PoS chain.
>>> >> >> >> * The capital the attacker stands to lose can be substantially
>>> greater as well if the attack is successful.
>>> >> >> >> * The effectiveness of paying miners to raise the honest
>>> fraction of miners above 50% may be quite bad.
>>> >> >> >> * Allowing a 51% attack is already unacceptable. It should be
>>> considered whether what happens in the case of a 51% may not be
>>> significantly different. The currency would likely be critically damaged in
>>> a 51% attack regardless of consensus mechanism.
>>> >> >> >>
>>> >> >> >> > Proof-of-stake tends towards oligopolistic control
>>> >> >> >>
>>> >> >> >> People repeat this often, but the facts support this. There is
>>> no centralization pressure in any proof of stake mechanism that I'm aware
>>> of. IE if you have 10 times as much coin that you use to mint blocks, you
>>> should expect to earn 10x as much minting revenue - not more than 10x. By
>>> contrast, proof of work does in fact have clear centralization pressure -
>>> this is not disputed. Our goal in relation to that is to ensure that the
>>> centralization pressure remains insignifiant. Proof of work also clearly
>>> has a lot more barriers to entry than any proof of stake system does. Both
>>> of these mean the tendency towards oligopolistic control is worse for PoW.
>>> >> >> >>
>>> >> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>> >> >> >>
>>> >> >> >> I certainly agree. Bitcoin's energy usage at the moment is I
>>> think quite warranted. However, the question is: can we do substantially
>>> better. I think if we can, we probably should... eventually.
>>> >> >> >>
>>> >> >> >> > Proof of Stake is only resilient to ? of the network
>>> demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to
>>> the ? threshold
>>> >> >> >>
>>> >> >> >> I see no mention of this in the pos.pdf you linked to. I'm not
>>> aware of any proof that all PoS systems have a failure threshold of 1/3. I
>>> know that staking systems like Casper do in fact have that 1/3 requirement.
>>> However there are PoS designs that should exceed that up to nearly 50% as
>>> far as I'm aware. Proof of work is not in fact resilient up to the 1/2
>>> threshold in the way you would think. IE, if 100% of miners are currently
>>> honest and have a collective 100 exahashes/s hashpower, an attacker does
>>> not need to obtain 100 exahashes/s, but actually only needs to accumulate
>>> 50 exahashes/s. This is because as the attacker accumulates hashpower, it
>>> drives honest miners out of the market as the difficulty increases to
>>> beyond what is economically sustainable. Also, its been shown that the best
>>> proof of work can do is require an attacker to obtain 33% of the hashpower
>>> because of the selfish mining attack discussed in depth in this paper:
>>> https://arxiv.org/abs/1311.0243. Together, both of these things reduce
>>> PoW's security by a factor of about 83% (1 - 50%*33%).
>>> >> >> >>
>>> >> >> >>  > Proof of Stake requires other trade-offs which are
>>> incompatible with Bitcoin's objective (to be a trustless digital cash) ?
>>> specifically the famous "security vs. liveness" guarantee
>>> >> >> >>
>>> >> >> >> Do you have a good source that talks about why you think proof
>>> of stake cannot be used for a trustless digital cash?
>>> >> >> >>
>>> >> >> >> > You cannot gain tokens without someone choosing to give up
>>> those coins - a form of permission.
>>> >> >> >>
>>> >> >> >> This is not a practical constraint. Just like in mining, some
>>> nodes may reject you, but there will likely be more that will accept you,
>>> some sellers may reject you, but most would accept your money as payment
>>> for bitcoins. I don't think requiring the "permission" of one of millions
>>> of people in the market can be reasonably considered a "permissioned
>>> currency".
>>> >> >> >>
>>> >> >> >> > 2. Proof of stake must have a trusted means of timestamping
>>> to regulate overproduction of blocks
>>> >> >> >>
>>> >> >> >> Both PoW and PoS could mine/mint blocks twice as fast if
>>> everyone agreed to double their clock speeds. Both systems rely on an
>>> honest majority sticking to standard time.
>>> >> >> >>
>>> >> >> >>
>>> >> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via
>>> bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >>>
>>> >> >> >>> Ah sorry, I didn't realize this was, in fact, a different
>>> thread! :)
>>> >> >> >>>
>>> >> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <
>>> mike at powx.org> wrote:
>>> >> >> >>>>
>>> >> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the
>>> BIP itself. PoS, VDFs, and so on are interesting but I guess there are
>>> other threads going on these topics already where they would be relevant.
>>> >> >> >>>>
>>> >> >> >>>> Also, it's important to distinguish between oPoW and these
>>> other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't
>>> alter the core game theory or security assumptions of Hashcash and actually
>>> contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>> >> >> >>>>
>>> >> >> >>>> Cheers,
>>> >> >> >>>> Mike
>>> >> >> >>>>
>>> >> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev
>>> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>> >> >> >>>>>
>>> >> >> >>>>> 1. i never suggested vdf's to replace pow.
>>> >> >> >>>>>
>>> >> >> >>>>> 2. my suggestion was specifically *in the context of* a
>>> working
>>> >> >> >>>>> proof-of-burn protocol
>>> >> >> >>>>>
>>> >> >> >>>>> - vdfs used only for timing (not block height)
>>> >> >> >>>>> - blind-burned coins of a specific age used to replace proof
>>> of work
>>> >> >> >>>>> - the required "work" per block would simply be a
>>> competition to
>>> >> >> >>>>> acquire rewards, and so miners would have to burn coins,
>>> well in
>>> >> >> >>>>> advance, and hope that their burned coins got rewarded in
>>> some far
>>> >> >> >>>>> future
>>> >> >> >>>>> - the point of burned coins is to mimic, in every meaningful
>>> way, the
>>> >> >> >>>>> value gained from proof of work... without some of the
>>> security
>>> >> >> >>>>> drawbacks
>>> >> >> >>>>> - the miner risks losing all of his burned coins (like all
>>> miners risk
>>> >> >> >>>>> losing their work in each block)
>>> >> >> >>>>> - new burns can't be used
>>> >> >> >>>>> - old burns age out (like ASICs do)
>>> >> >> >>>>> - other requirements on burns might be needed to properly
>>> mirror the
>>> >> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine
>>> honestly.
>>> >> >> >>>>>
>>> >> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf
>>> system"
>>> >> >> >>>>> might be more secure in the long run, and that if the entire
>>> space
>>> >> >> >>>>> agreed that such an endeavor was worthwhile, a test net
>>> could be spun
>>> >> >> >>>>> up, and a hard-fork could be initiated.
>>> >> >> >>>>>
>>> >> >> >>>>> 4. i would never suggest such a thing unless i believed it
>>> was
>>> >> >> >>>>> possible that consensus was possible.  so no, this is not an
>>> "alt
>>> >> >> >>>>> coin"
>>> >> >> >>>>>
>>> >> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <
>>> zachgrw at gmail.com> wrote:
>>> >> >> >>>>> >
>>> >> >> >>>>> > Hi ZmnSCPxj,
>>> >> >> >>>>> >
>>> >> >> >>>>> > Please note that I am not suggesting VDFs as a means to
>>> save energy, but solely as a means to make the time between blocks more
>>> constant.
>>> >> >> >>>>> >
>>> >> >> >>>>> > Zac
>>> >> >> >>>>> >
>>> >> >> >>>>> >
>>> >> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <
>>> ZmnSCPxj at protonmail.com> wrote:
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> Good morning Zac,
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> > VDFs might enable more constant block times, for
>>> instance by having a two-step PoW:
>>> >> >> >>>>> >> >
>>> >> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF
>>> being subject to difficulty adjustments similar to the as-is). As per the
>>> property of VDFs, miners are able show proof of work.
>>> >> >> >>>>> >> >
>>> >> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so
>>> finding a block takes 1 minute on average, again subject to as-is
>>> difficulty adjustments.
>>> >> >> >>>>> >> >
>>> >> >> >>>>> >> > As a result, variation in block times will be greatly
>>> reduced.
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> As I understand it, another weakness of VDFs is that they
>>> are not inherently progress-free (their sequential nature prevents that;
>>> they are inherently progress-requiring).
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> Thus, a miner which focuses on improving the amount of
>>> energy that it can pump into the VDF circuitry (by overclocking and
>>> freezing the circuitry), could potentially get into a winner-takes-all
>>> situation, possibly leading to even *worse* competition and even *more*
>>> energy consumption.
>>> >> >> >>>>> >> After all, if you can start mining 0.1s faster than the
>>> competition, that is a 0.1s advantage where *only you* can mine *in the
>>> entire world*.
>>> >> >> >>>>> >>
>>> >> >> >>>>> >> Regards,
>>> >> >> >>>>> >> ZmnSCPxj
>>> >> >> >>>>> _______________________________________________
>>> >> >> >>>>> bitcoin-dev mailing list
>>> >> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>>> >> >> >>>>>
>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>> >> >> >>>>
>>> >> >> >>>>
>>> >> >> >>>>
>>> >> >> >>>> --
>>> >> >> >>>> Michael Dubrovsky
>>> >> >> >>>> Founder; PoWx
>>> >> >> >>>> www.PoWx.org
>>> >> >> >>>
>>> >> >> >>>
>>> >> >> >>>
>>> >> >> >>> --
>>> >> >> >>> Michael Dubrovsky
>>> >> >> >>> Founder; PoWx
>>> >> >> >>> www.PoWx.org
>>> >> >> >>> _______________________________________________
>>> >> >> >>> bitcoin-dev mailing list
>>> >> >> >>> bitcoin-dev at lists.linuxfoundation.org
>>> >> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>> >> >> >>
>>> >> >> >> _______________________________________________
>>> >> >> >> bitcoin-dev mailing list
>>> >> >> >> bitcoin-dev at lists.linuxfoundation.org
>>> >> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>> >> >> >
>>> >> >> > _______________________________________________
>>> >> >> > bitcoin-dev mailing list
>>> >> >> > bitcoin-dev at lists.linuxfoundation.org
>>> >> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210527/d4d35b2b/attachment-0001.html>

From erik at q32.com  Thu May 27 13:11:13 2021
From: erik at q32.com (Erik Aronesty)
Date: Thu, 27 May 2021 09:11:13 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDZhxd_dGyFX1E5cPf_00LwyF_DqosvJm4QOr9X9TCyioQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJOZwb0PgW93Y+Jy+yi1kv09Gu7-gjWvt7eUqWfJ_zJuw@mail.gmail.com>
 <CAGpPWDbWvBQd3xh8fx+Le8br2LmsqC_Tds5R=wvw1EmiLk42Xw@mail.gmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
 <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
 <CAGpPWDZhxd_dGyFX1E5cPf_00LwyF_DqosvJm4QOr9X9TCyioQ@mail.gmail.com>
Message-ID: <CAJowKgLdBbd1D7XsDASo3_i0QpeFCwLG11Q=8ME7b95Cfh+Oew@mail.gmail.com>

Problems with proof-of-stake:

 - A single CVE can tear down the network and hacked nodes can result
in transferring all mining power to one group
 - PoS is vulnerable to DOS attacks (increasing latency reduces the
cost of mining attacks)
 - PoS is vulnerable to stakers colluding to punish/drive out others

This *cannot* happen in PoW (or PoB), because "pulling the plug" is
sufficient to stop a hacked mining rig.  (I should know, my first rig
was hacked, day 1, until i learned how to secure it properly!)

**The value of a base layer is tied tightly to its "risk of default",
thus PoW will always be superior, harder money.**

Bitcoin has very, very low risk of default:

- proof model ties to real-world energy
- core devs that are risk averse and will never hard fork to reverse
transactions
- extremely decentralized, priority given to decentralization and
security over every other feature in every PR
- fees kept high enough to financially secure the network - allowing
billions in value to move safely for dollars in fees

PoW is harder money than PoS, and Bitcoin is, foremost, hard money.

PoS has no sunk-investment, no replication and requires stake to be
online (and attackable), and I think has no business being considered
as an alternative to PoW for a base-layer system like Bitcoin.

These are problems.that cannot be overlooked or swept under the rug.

If you cannot "pull the plug" on stake, then you cannot defend the
network from an attack.

On Thu, May 27, 2021 at 6:09 AM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>
> >  using nothing at stake
>
> I see from the way you're using this term now that you mean something completely different by it than I usually understand the phrase. You seem to mean it as that minters can check whether they can mint a block without any cost. By contrast, I generally understand the phrase to mean the problem where there is no cost to broadcasting blocks on many different chains.
>
> > she gained an extra block over the honest strategy which would only give her block D
>
> I think I see what you're saying now. It actually sounds quite similar to the selfish mining attack in proof of work. However I do acknowledge that the ability to secretly mint on both your secret chain(s) and the public chain makes it worse in PoS. How much worse is something that should be quantified. This is also a solvable problem. Designing a secure system can be kind of like whack a mole. You fix the weakest link in the chain, and there is inevitably now a new weakest link that is stronger than the link you fixed. Bitcoin is no different, as development continues, more security improvements are implemented.
>
> In this case, there's a number of possible solutions, some of which can be combined. Eg you can program all honest clients to mint selfishly. You'd likely need to lengthen the number of blocks that constitute a finalized transaction, but you can probably reduce the block time to compensate, so finalization doesn't actually take longer. You could also require many additional signatures on each block from outside validators.
>
> > How is that relevant to our discussion?
>
> It is relevant because the benefits of proof of stake must be compared to an alternative, and the alternative of reference here is clearly PoW. I'm pointing out that the vulnerability you're describing in the type of PoS you're talking about also exists in what its being compared against. To know whether PoS or PoW is better on this particular aspect, you need to compare the levels of advantage that can be obtained in each, and how this affects the cost of attacking the system. Its not as straight forward as saying "PoS is bad because it has this vulnerability" when the system you compare it to also has a very similar vulnerability. You need to quantify the difference at that point.
>
> > the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system
>
> Known by public key, not by IP address.
>
> > (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)
>
> I agree that claiming that Y is a solved problem would be misleading if the solution creates problems that are of greater significance than the original problem. I would also agree that if the solution creates significant problems that are substantially less significant than the problem it solves, it would be misleading to say its a "solved problem" - saying "partially solved" would be more accurate there.
>
> However, I do not agree that it is at all misleading to say "nothing at stake is a solved problem" just because solving that specific problem doesn't solve all the problems with proof of stake. Its unreasonable to expect that when someone claims problem X is solved, that it also implies all problems related to X are solved.
>
> I maintain that nothing at stake is a solved problem. There are solutions that do not create other problems of anywhere near the same level of significance.
>
> > Since the optimal scenario with all existing coins participating is just theoretical, the attacker's position will ever so improve. It seems we are in agreement here, great
>
> I don't believe we're in agreement there. I don't know how what you said refutes my point.
>
> > I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure.
>
> You were the one that claimed proof of stake cannot be made secure. The burden of proof is on you to support your own claims.
>
> > You have not described a system that would solve it
>
> I would be curious to hear a full critique from you about this protocol.
>
> On Wed, May 26, 2021 at 3:12 AM befreeandopen <befreeandopen at protonmail.com> wrote:
>>
>>
>>
>> @befreeandopen I guess I misunderstood your selfish minting attack. Let me make sure I understand it. You're saying it would go as follows?:
>>
>> 1. The malicious actor comes across an opportunity to mint the next 3 blocks. But they hold off and don't release their blocks just yet.
>> 2. They receive a new block minted by someone else.
>> 3. The malicious actor then chooses to release their other 2 blocks on on the second from the top block if it gives them more blocks in the future than minting on the top block. And instead lets the top block proceed if it gives them more blocks in the future (also figuring in the 3 blocks they're missing out on minting).
>> 4. Profit!
>>
>> The problem with this attack is that any self respecting PoS system wouldn't have the information available for minters to know how blocks will affect their future prospects of minting. Otherwise this would introduce the problem of stake grinding. This can be done using collaborative randomness (where numbers from many parties are combined to create a random number that no individual party could predict). In fact, that's what the Casper protocol does to decide quorums. In a non quorum case, you can do something like record a hash of a number in the block header, and then have a second step to release that number later. Rewards can be given can be used to ensure minters act honestly here by minting messages that release these numbers and not releasing their secret numbers too early.
>>
>>
>> Yes, you misunderstood it. First, let me say that the above thoughts of yours are incorrect, at least for non-quorum case. Since the transition in the blockchain system from S1 to S2 is only by adding new block, and since stakers always need to be able to decide whether or not they can add the next block, it follows that if a staker creates a new block locally, she can decide whether the new state allows her to add another block on top. As you mentioned, this COULD introduce problem of staking, that you are incorrect in that it is a necessity. Usual prevention of the grinding problem in this case is that an "old enough" source of randomness applies for the current block production process. Of course this, as it is typical for PoS, introduces other problems, but let's discard those.
>>
>> I will try to explain in detail what you misunderstood before. You start with a chain ending with blocks A-B-C, C being the top, the common feature of PoS system (non-quorum), roughly speaking, is that if N is the total amount of coins that participate in the staking process to create a new block on top of C (let's call that D), then a participant having K*N amount of stake has chance K to be the one who will create the next stake. In other words, the power of stakers is supposed to be linear in the system - you own 10 coins gives you 10x the chance of finding block over someone who has 1 coin.
>>
>> What i was claiming is that using the technique I have described, this linearity is violated. Why? Well, it works for honest stakers among the competition of honest stakers - they really do have the chance of K to find the next block. However, the attacker, using nothing at stake, checks her ability to build block D (at some timestamp). If she is successful, she does not propagate D immediately, but instead she also checks whether she can build on top of B and on top of A. Since with every new timestamp, usually, there is a new chance to build the block, it is not uncommon that she finds she is indeed able to build such block C' on top of B. Here it is likely t(C') > t(C) as the attacker has relatively low stake. Note that in order to produce such C', she not only could have tried the current timestamp t(D), but also all previous timestamps up to t(B) (usually that's the consensus rule, but it may depend on a specific consensus). So her chance to produce such C' is greater than her previous chance of producing C (which chance was limited by other stakers in the system and the discovery of block C by one of them). Now suppose that she found such C' and now she continues by trying to prolong this chain by finding D'. And again here, it is quite likely that her chance to find such D' is greater than was her chance of finding D because again there are likely multiple timestamps she could try. This all was possible just because nothing at stake allows you to just try if you can produce a block in certain state of block chain or not. Now if she actually was able to find D', she discards D and only publishes chain A-B-C'-D', which can not be punished despite the fact that she indeed produced two different forks. She can not be punished because this production was local and only the final result of A-B-C'-D' was published, in which case she gained an extra block over the honest strategy which would only give her block D.
>>
>>
>>
>> Fun fact tho: there is an attack called the "selfish mining attack" for proof of work, and it reduces the security of PoW by at least 1/3rd.
>>
>>
>> How is that relevant to our discussion? This is known research that has nothing to do with PoS except that it is often worse on PoS.
>>
>>
>>
>> >   the problem is not as hard as you think
>>
>> I don't claim to know just how hard finding the IP address associated with a bitcoin address is. However, the DOS risk can be solved more completely by only allowing the owner of coins themselves to know whether they can mint a block. Eg by determining whether someone can mint a block based on their public key hidden behind hashes (as normal in addresses). Only when someone does in fact mint a block do they reveal their hidden public key in order to prove they are allowed to mint the block.
>>
>>
>> This is true, but you are mixing quorum and non-quorum systems. My objection here was towards such system where I specifically said that the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system. So in such system, I claimed, the known producer is the only target at any given point of time. This of course does not apply to any other type of system where future producers are not known. No need to dispute, again, something that was not claimed.
>>
>>
>>
>>
>> > I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message)
>>
>> I'm glad we agree there. Perhaps I misunderstood what you meant by "you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere."
>>
>>
>> Perhaps you should quote the full sentence and not just a part of it:
>>
>> "Of course you can always change the rules in a way that a certain specific attack is not doable, but you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere, or you have not solved it completely."
>>
>> You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)
>> In case of the punishment it was meant to be the not solve it completely part.
>> Also "typically" does not imply always.
>> But this parsing of English sentences for you seems very off topic here. My point is, in context of Bitcoin, reject such unsupported claims that PoS is a reasonable alternative to PoW, let's stick to that.
>>
>>
>>
>> > As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake
>>
>> Well, if you're in the closed system of the cryptocurrency, sure. But we don't live in that closed system. Minters will earn some ROI from minting just like any other financial activity. Others may find more success spending their time doing things other than figuring out how to mint coins. In that case, they'll be able to earn more coin that they could later decide to use to mint blocks if they decide to.
>>
>>
>> This only supports the point I was making. Since the optimal scenario with all existing coins participating is just theoretical, the attacker's position will ever so improve. It seems we are in agreement here, great.
>>
>>
>>
>>
>> > Just because of the above we must reject PoS as being critically insecure
>>
>> I think the only thing we can conclude from this is that you have come up with an insecure proof of stake protocol. I don't see how anything you've brought up amounts to substantial evidence that all possible PoS protocols are insecure.
>>
>>
>> I have not come up with anything. I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure. It is up to you to show that you know how to solve every problem that people throw at you. So far we have just demonstrated that your claim that nothing at stake is solved was unjustified. You have not described a system that would solve it (and not introduce critical DDOS attack vector as it is in quorum based systems - per the prior definition of such systems).
>>
>> Of course the list of problems of PoS systems do not end with just nothing at stake, but it is good enough example that by itself prevents its adoption in decentralized consensus. No need to go to other hard problems without solving nothing at stake.
>>
>>
>>
>>
>>
>> On Tue, May 25, 2021 at 11:10 AM befreeandopen <befreeandopen at protonmail.com> wrote:
>>>
>>>
>>> @befreeandopen " An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp."
>>>
>>> The scenario you describe would only be likely to happen at all if the malicious actor has a very large fraction of the stake - probably quite close to 50%. At that point, you're talking about a 51% attack, not the nothing at stake problem. The nothing at stake problem is the problem where anyone will mint on any chain. Its clear that if there's a substantial punishment for minting on chains other than the one that eventually wins, every minter without a significant fraction of the stake will be honest and not attempt to mint on old blocks or support someone else's attempt to mint on old blocks (until and if it becomes the heaviest chain). Because the attacker would need probably >45% of the active stake (take a look at the reasoning here for a deeper analysis of that statement), I don't agree that punishment is not a sufficient mitigation of the nothing at stake problem. To exploit the nothing at stake problem, you basically need to 51% attack, at which point you've exceeded the operating conditions of the system, so of course its gonna have problems, just like a 51% attack would cause with PoW.
>>>
>>>
>>> This is not at all the case. The attacker benefits using the described technique at any size of the stake and significantly so with just 5% of the stake. By significantly, I do not mean that the attacker is able to completely take control the network (in short term), but rather that the attacker has significant advantage in the number of blocks she creates compared to what she "should be able to create". This means the attacker's stake increases significantly faster than of the honest nodes, which in long term is very serious in PoS system. If you believe close to 50% is needed for that, you need to redo your math. So no, you are wrong stating that "to exploit nothing at stake problem you basically need to 51% attack". It is rather the opposite - eventually, nothing at stake attack leads to ability to perform 51% attack.
>>>
>>>
>>>
>>> > I am not sure if this is what you call quorum-based PoS
>>>
>>> Yes, pre-selected minters is exactly what I mean by that.
>>>
>>> > it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system
>>>
>>> Just like in bitcoin, associating keys with IP addresses isn't generally an easy thing to do on the fly like that. If you know someone's IP address, you can target them. But if you only know their address or public key, the reverse isn't as easy. With a quorum-based PoS system, you can see their public key and address, but finding out their IP to DOS would be a huge challenge I think.
>>>
>>>
>>> I do not dispute that the problem is not trivial, but the problem is not as hard as you think. The network graph analysis is a known technique and it is not trivial, but not very hard either. Introducing a large number of nodes to the system to achieve very good success rate of analysis of area of origin of blocks is doable and has been done in past. So again, I very much disagree with your conclusion that this is somehow secure. It is absolutely insecure.
>>>
>>>
>>>
>>> Note, tho, that quorum-based PoS generally also have punishments as part of the protocol. The introduction of punishments do indeed handily solve the nothing at stake problem. And you didn't mention a single problem that the punishments introduce that weren't already there before punishments. There are tradeoffs with introducing punishments (eg in some cases you might punish honest actors), but they are minor in comparison to solving the nothing at stake problem.
>>>
>>>
>>> While I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message), it does introduce additional complexity which may introduce problem, but more importantly, while it slightly improves resistance against the nothing at stake attack, it solves absolutely nothing. Your claim is based on wrong claim of needed close to 50% stake, but that could not be farther from the truth. It is not true even in optimal conditions when all participants of the network stake or delegate their stake. These optimal conditions rarely, if ever, occur. And that's another thing that we have not mention in our debate, so please allow me to introduce another problem to PoS.
>>>
>>> Consider what is needed for such optimal conditions to occur - all coins are always part of the stake, which means that they need to somehow automatically part of the staking process even when they are moved. But in many PoS systems you usually require some age (in terms of confirmations) of the coin before you allow it to be used for participation in staking process and that is for a good reason - to prevent various grinding attacks. In some systems the coin must be specifically registered before it can be staked, in others, simply waiting for enough confirmations enables you to stake with the coin. I am not sure if there is a system which does not have this cooling period for a coin that has been moved. Maybe it is possible though, but AFAIK it is not common and not battle tested feature.
>>>
>>> Then if we admit that achieving the optimal condition is rather theoretical. Then if we do not have the optimal condition, it means that a staker with K% of the total available supply increases it's percentage over time to some amounts >K%. As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake (if there are any) and relative to all other stakers who make mistakes or who are not wealthy enough to afford not selling any position ever. But powerful attacker is exactly in such position and thus she will gain significance in such a system. The technique I have described, and that you mistakenly think is viable only with huge amounts of stake, only puts the attacker to even greater advantage. But even without the described attack (which exploits nothing at stake), the PoS system converges to a system more and more controlled by powerful entity, which we can assume is the attacker.
>>>
>>>
>>> So I don't think it is at all misleading to claim that "nothing at stake" is a solved problem. I do in fact mean that the solutions to that problem don't introduce any other problems with anywhere near the same level of significance.
>>>
>>>
>>> It still stands as truly misleading claim. I disagree that introducing DDOS opportunity with medium level of difficulty for the attacker to implement it, in case of "quorum-based PoS" is not a problem anywhere near the same level of significance. Such an attack vector allows you to turn off the network if you spend some time and money. That is hardly acceptable.
>>>
>>> Just because of the above we must reject PoS as being critically insecure until someone invents and demonstrates an actual way of solving these issues.
>>>
>>>
>>>
>>> On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:
>>>>
>>>> > > you burn them to be used at a future particular block height
>>>>
>>>> > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>>
>>>> could be right.   the original idea was to have burns decay over time,
>>>> like ASIC's.
>>>>
>>>> anyway the point was not that "i had a magic formula"
>>>>
>>>> the point was that proof of burn is almost always better than proof of
>>>> stake - simply because the "proof" is on-chain, not sitting on a node
>>>> somewhere waiting to be stolen.
>>>>
>>>> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>> >
>>>> > Is this the kind of proof of burn you're talking about?
>>>> >
>>>> > >   if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
>>>> >
>>>> > What prevents you from attempting to mine block 553 on both chains?
>>>> >
>>>> > > miners have a very strong, long-term, investment in the stability of the chain.
>>>> >
>>>> > Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
>>>> >
>>>> > > you burn them to be used at a future particular block height
>>>> >
>>>> > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>> >
>>>> > > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
>>>> >
>>>> > Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
>>>> >
>>>> >
>>>> > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>>>> >>
>>>> >> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>> >> > I'm fuzzy on how proof of burn works.
>>>> >>
>>>> >> when you burn coins, you burn them to be used at a future particular
>>>> >> block height: so if i'm burning for block 553, i can only use them to
>>>> >> mine block 553.   if i have a choice between two chains, one longer
>>>> >> and one shorter, i can only choose one... deterministically, for that
>>>> >> burn: the chain with the height 553.   if we fix the "lead time" for
>>>> >> burned coins to be weeks or even months in advance, miners have a very
>>>> >> strong, long-term, investment in the stability of the chain.
>>>> >>
>>>> >> therefore there is no "nothing at stake" problem.   it's
>>>> >> deterministic, so miners have no choice.  they can *only* choose the
>>>> >> transactions that go into the block.  they cannot choose which chain
>>>> >> to mine, and it's time-locked, so rollbacks and instability always
>>>> >> hurt miners the most.
>>>> >>
>>>> >> the "punishment" systems of PoS are "weird at best", certainly
>>>> >> unproven.   i can imagine scenarios where large stakeholders can
>>>> >> collude to punish smaller stakeholders simply to drive them out of
>>>> >> business, for example.   and then you have to put checks in place to
>>>> >> prevent that, and more checks for those prevention system...
>>>> >>
>>>> >> in PoB, there is no complexity.  simpler systems like this are
>>>> >> typically more secure.
>>>> >>
>>>> >> PoB also solves problems caused by "energy dependence", which could
>>>> >> lead to state monopolies on mining (like the new Bitcoin Mining
>>>> >> Council).   these consortiums, if state sanctioned, could become a
>>>> >> source of censorship, for example.   Since PoB doesn't require you to
>>>> >> have a live, well-connected node, it's harder to censor & harder to
>>>> >> trace.
>>>> >>
>>>> >> Eliminating this weakness seems to be in the best interests of
>>>> >> existing stakeholders
>>>> >>
>>>> >>
>>>> >>
>>>> >>
>>>> >> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>> >> >
>>>> >> > >  proof of burn clearly solves this, since nothing is held online
>>>> >> >
>>>> >> > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>>>> >> >
>>>> >> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>> >> >
>>>> >> > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>>>> >> >
>>>> >> > > proof of burn can be more secure than proof-of-stake
>>>> >> >
>>>> >> > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>>>> >> >
>>>> >> >
>>>> >> >
>>>> >> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>>>> >> >>
>>>> >> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>> >> >>
>>>> >> >> proof of burn clearly solves this, since nothing is held online
>>>> >> >>
>>>> >> >> >  how does proof of burn solve the "nothing at stake" problem in your view?
>>>> >> >>
>>>> >> >> definition of nothing at stake: in the event of a fork, whether the
>>>> >> >> fork is accidental or a malicious, the optimal strategy for any miner
>>>> >> >> is to mine on every chain, so that the miner gets their reward no
>>>> >> >> matter which fork wins.   indeed in proof-of-stake, the proofs are
>>>> >> >> published on the very chains mines, so the incentive is magnified.
>>>> >> >>
>>>> >> >> in proof-of-burn, your burn investment is always "at stake", any
>>>> >> >> redaction can result in a loss-of-burn, because burns can be tied,
>>>> >> >> precisely, to block-heights
>>>> >> >>
>>>> >> >> as a result, miners no longer have an incentive to mine all chains
>>>> >> >>
>>>> >> >> in this way proof of burn can be more secure than proof-of-stake, and
>>>> >> >> even more secure than proof of work
>>>> >> >>
>>>> >> >>
>>>> >> >>
>>>> >> >>
>>>> >> >>
>>>> >> >>
>>>> >> >>
>>>> >> >> >
>>>> >> >>
>>>> >> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>>>> >> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >> >
>>>> >> >> > Hi Billy,
>>>> >> >> >
>>>> >> >> > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>>>> >> >> > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>>>> >> >> >
>>>> >> >> > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>>>> >> >> > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>>>> >> >> > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>>>> >> >> > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>>>> >> >> > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>>>> >> >> > In PoS systems this clean separation of responsibilities does not exist.
>>>> >> >> >
>>>> >> >> > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>>>> >> >> > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>>>> >> >> > But the devil is in the detail.
>>>> >> >> > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>>>> >> >> >
>>>> >> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>>>> >> >> >
>>>> >> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>>>> >> >> > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>>>> >> >> > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>>>> >> >> > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>>>> >> >> >
>>>> >> >> > 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>>>> >> >> >
>>>> >> >> > 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>>>> >> >> >
>>>> >> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>>>> >> >> > I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>>>> >> >> > In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>>>> >> >> >
>>>> >> >> > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>>>> >> >> > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>>>> >> >> > It also grows the size of the blockchain significantly.
>>>> >> >> >
>>>> >> >> > ### "Pure" proof of stake (Algorand)
>>>> >> >> >
>>>> >> >> > Algorand's[4] approach is to only allow online stake to participate in the protocol.
>>>> >> >> > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>>>> >> >> > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>>>> >> >> > Hopefully you've spotted the problem.
>>>> >> >> > You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>>>> >> >> > Damn it's still Proof-of-SquareSpace!
>>>> >> >> > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>>>> >> >> > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>>>> >> >> >
>>>> >> >> > ### Conclusion
>>>> >> >> >
>>>> >> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>> >> >> > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>>>> >> >> >
>>>> >> >> > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>>>> >> >> > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>>>> >> >> > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>>>> >> >> > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>>>> >> >> >
>>>> >> >> > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>>>> >> >> >
>>>> >> >> > Would be interested to know if you or others think differently on these points.
>>>> >> >> >
>>>> >> >> > [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>>>> >> >> > [2]: https://staking.staked.us/algorand-staking
>>>> >> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>>>> >> >> > [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>>>> >> >> > [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>>> >> >> >
>>>> >> >> > Cheers,
>>>> >> >> >
>>>> >> >> > LL
>>>> >> >> >
>>>> >> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >> >>
>>>> >> >> >> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>>>> >> >> >>
>>>> >> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>>>> >> >> >> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>>>> >> >> >> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>>>> >> >> >> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>>>> >> >> >> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>>>> >> >> >>
>>>> >> >> >> > Proof-of-stake tends towards oligopolistic control
>>>> >> >> >>
>>>> >> >> >> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>>>> >> >> >>
>>>> >> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>>> >> >> >>
>>>> >> >> >> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>>>> >> >> >>
>>>> >> >> >> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>>> >> >> >>
>>>> >> >> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>>>> >> >> >>
>>>> >> >> >>  > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>>>> >> >> >>
>>>> >> >> >> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>>>> >> >> >>
>>>> >> >> >> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>>>> >> >> >>
>>>> >> >> >> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>>>> >> >> >>
>>>> >> >> >> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>>>> >> >> >>
>>>> >> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>>>> >> >> >>
>>>> >> >> >>
>>>> >> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >> >>>
>>>> >> >> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>> >> >> >>>
>>>> >> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>>> >> >> >>>>
>>>> >> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>>> >> >> >>>>
>>>> >> >> >>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>> >> >> >>>>
>>>> >> >> >>>> Cheers,
>>>> >> >> >>>> Mike
>>>> >> >> >>>>
>>>> >> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>> >> >> >>>>>
>>>> >> >> >>>>> 1. i never suggested vdf's to replace pow.
>>>> >> >> >>>>>
>>>> >> >> >>>>> 2. my suggestion was specifically *in the context of* a working
>>>> >> >> >>>>> proof-of-burn protocol
>>>> >> >> >>>>>
>>>> >> >> >>>>> - vdfs used only for timing (not block height)
>>>> >> >> >>>>> - blind-burned coins of a specific age used to replace proof of work
>>>> >> >> >>>>> - the required "work" per block would simply be a competition to
>>>> >> >> >>>>> acquire rewards, and so miners would have to burn coins, well in
>>>> >> >> >>>>> advance, and hope that their burned coins got rewarded in some far
>>>> >> >> >>>>> future
>>>> >> >> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>> >> >> >>>>> value gained from proof of work... without some of the security
>>>> >> >> >>>>> drawbacks
>>>> >> >> >>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>> >> >> >>>>> losing their work in each block)
>>>> >> >> >>>>> - new burns can't be used
>>>> >> >> >>>>> - old burns age out (like ASICs do)
>>>> >> >> >>>>> - other requirements on burns might be needed to properly mirror the
>>>> >> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>> >> >> >>>>>
>>>> >> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>> >> >> >>>>> might be more secure in the long run, and that if the entire space
>>>> >> >> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>> >> >> >>>>> up, and a hard-fork could be initiated.
>>>> >> >> >>>>>
>>>> >> >> >>>>> 4. i would never suggest such a thing unless i believed it was
>>>> >> >> >>>>> possible that consensus was possible.  so no, this is not an "alt
>>>> >> >> >>>>> coin"
>>>> >> >> >>>>>
>>>> >> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>>> >> >> >>>>> >
>>>> >> >> >>>>> > Hi ZmnSCPxj,
>>>> >> >> >>>>> >
>>>> >> >> >>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>>> >> >> >>>>> >
>>>> >> >> >>>>> > Zac
>>>> >> >> >>>>> >
>>>> >> >> >>>>> >
>>>> >> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>>> >> >> >>>>> >>
>>>> >> >> >>>>> >> Good morning Zac,
>>>> >> >> >>>>> >>
>>>> >> >> >>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>>> >> >> >>>>> >> >
>>>> >> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>>> >> >> >>>>> >> >
>>>> >> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>>> >> >> >>>>> >> >
>>>> >> >> >>>>> >> > As a result, variation in block times will be greatly reduced.
>>>> >> >> >>>>> >>
>>>> >> >> >>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>>> >> >> >>>>> >>
>>>> >> >> >>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>>> >> >> >>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>> >> >> >>>>> >>
>>>> >> >> >>>>> >> Regards,
>>>> >> >> >>>>> >> ZmnSCPxj
>>>> >> >> >>>>> _______________________________________________
>>>> >> >> >>>>> bitcoin-dev mailing list
>>>> >> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>>>> >> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>> >> >> >>>>
>>>> >> >> >>>>
>>>> >> >> >>>>
>>>> >> >> >>>> --
>>>> >> >> >>>> Michael Dubrovsky
>>>> >> >> >>>> Founder; PoWx
>>>> >> >> >>>> www.PoWx.org
>>>> >> >> >>>
>>>> >> >> >>>
>>>> >> >> >>>
>>>> >> >> >>> --
>>>> >> >> >>> Michael Dubrovsky
>>>> >> >> >>> Founder; PoWx
>>>> >> >> >>> www.PoWx.org
>>>> >> >> >>> _______________________________________________
>>>> >> >> >>> bitcoin-dev mailing list
>>>> >> >> >>> bitcoin-dev at lists.linuxfoundation.org
>>>> >> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>> >> >> >>
>>>> >> >> >> _______________________________________________
>>>> >> >> >> bitcoin-dev mailing list
>>>> >> >> >> bitcoin-dev at lists.linuxfoundation.org
>>>> >> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>> >> >> >
>>>> >> >> > _______________________________________________
>>>> >> >> > bitcoin-dev mailing list
>>>> >> >> > bitcoin-dev at lists.linuxfoundation.org
>>>> >> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>
>>>
>>


From antoine.riard at gmail.com  Thu May 27 20:14:13 2021
From: antoine.riard at gmail.com (Antoine Riard)
Date: Thu, 27 May 2021 16:14:13 -0400
Subject: [bitcoin-dev] A Stroll through Fee-Bumping Techniques : Input-Based
	vs Child-Pay-For-Parent
Message-ID: <CALZpt+FvLb=N5Qygs+dPmh1o9QCwXj8RoznF5n47opOq7CG_0g@mail.gmail.com>

Hi,

This post is pursuing a wider discussion around better fee-bumping
strategies for second-layer protocols. It draws out a comparison between
input-based and CPFP fee-bumping techniques, and their apparent trade-offs
in terms of onchain footprint, tx-relay bandwidth rebroadcast, batching
opportunity and mempool flexibility.

Thanks to Darosior for reviews, ideas and discussions.

## Child-Pay-For-Parent

CPFP is a mature fee-bumping technique, known and used for a while in the
Bitcoin ecosystem. However, its usage in contract protocols with
distrusting counterparties raised some security issues. As mempool's chain
of unconfirmed transactions are limited in size, if any output is spendable
by any contract participant, it can be leveraged as a pinning vector to
downgrade odds of transaction confirmation [0].

That said, contract transactions interested to be protected under the
carve-out logic require to add a new output for any contract participant,
even if ultimately only one of them serves as an anchor to attach a CPFP.

## Input-Based

I think input-based fee-bumping has been less studied as fee-bumping
primitive for L2s [1]. One variant of input-based fee-bumping usable today
is the leverage of the SIGHASH_ANYONECANPAY/SIGHASH_SINGLE malleability
flags. If the transaction is the latest stage of the contract, a bumping
input can be attached just-in-time, thus increasing the feerate of the
whole package.

However, as of today, input-based fee-bumping doesn't work to bump first
stages of contract transactions as it's destructive of the txid, and as
such breaks chain of pre-signed transactions. A first improvement would be
the deployment of the SIGHASH_ANYPREVOUT softfork proposal. This new
malleability flag allows a transaction to be signed without reference to
any specific previous output. That way,  spent transactions can be
fee-bumped without altering validity of the chain of transactions.

Even assuming SIGHASH_ANYPREVOUT, if the first stage contract transaction
includes multiple outputs (e.g the LN's commitment tx has multiple HTLC
outputs), SIGHASH_SINGLE can't be used and the fee-bumping input value
might be wasted. This edge can be smoothed by broadcasting a preliminary
fan-out transaction with a set of outputs providing a range of feerate
points for the bumped transaction.

This overhead could be smoothed even further in the future with more
advanced sighash malleability flags like SIGHASH_IOMAP, allowing
transaction signers to commit to a map of inputs/outputs [2]. In the
context of input-based, the overflowed fee value could be redirected to an
outgoing output.

## Onchain Footprint

CPFP: One anchor output per participant must be included in the commitment
transaction. To this anchor must be attached a child transaction with 2
inputs (one for the commitment, one for the bumping utxo) and 1 output.
Onchain footprint: 2 inputs + 3 outputs.

Input-based (today): If the bumping utxo is offering an adequate feerate
point in function of network mempools congestion at time of broadcast, only
1 input. If a preliminary fan-out transaction to adjust feerate point must
be broadcasted first, 1 input and 2 outputs more must be accounted for.
Onchain footprint: 2 inputs + 3 outputs.

Input-based (SIGHASH_ANYPREVOUT+SIGHASH_IOMAP): As long as the bumping
utxo's value is wide enough to cover the worst-case of mempools congestion,
the bumped transaction can be attached 1 input and 1 output. Onchain
footprint: 1 input + 1 output.

## Tx-Relay Bandwidth Rebroadcast

CPFP: In the context of multi-party protocols, we should assume bounded
rationality of the participants w.r.t to an unconfirmed spend of the
contract utxo across network mempools. Under this assumption, the bumped
transaction might have been replaced by a concurrent state. To guarantee
efficiency of the CPFP the whole chain of transactions should be
rebroadcast, perhaps wasting bandwidth consumption for a still-identical
bumped transaction [3]. Rebroadcast footprint: the whole chain of
transactions.

Input-based (today): In case of rebroadcast, the fee-bumping input is
attached to the root of the chain of transactions and as such breaks the
chain validity in itself. Beyond the rebroadcast of the updated root under
replacement policy, the remaining transactions must be updated and
rebroadcast. Rebroadcast footprint: the whole chain of transactions.

Input-based(SIGHASH_ANYPREVOUT+SIGHASH_IOMAP): In case of rebroadcast, the
fee-bumping is attached to the root of the chain of transactions but it
doesn't break the chain validity in itself. Assuming a future mempool
acceptance logic to authorize in-place substitution, the rest of the chain
could be preserved. Rebroadcast footprint: the root of the chain of
transactions.

## Fee-Bumping Batching

CPFP: In the context of multi-party protocols, in optimistic scenarios, we
can assume aggregation of multiple chains of transactions. For e.g, a LN
operator is desirous to non-cooperatively close multiple channels at the
same time and would like to combine their fee-bumping. With CPFP, one
anchor output and one bumping input must be consumed per aggregated chain,
even if the child transaction fields can be shared. Batching perf: 1
input/1 output per aggregated chain.

Input-based (today): Unless the contract allows interactivity, multiple
chains of transactions cannot be aggregated. One bumping input must be
attached per chain, though if a preliminary fan-out transaction is relied
on to offer multiple feerate points, transaction fields can be shared.
Batching perf: 1 input/1 output per aggregated chain.

Input-based (SIGHASH_ANYPREVOUT+SIGHASH_IOMAP): Multiple chains of
transactions might be aggregated together *non-interactively*. One bumping
input and outgoing output can be attached to the aggregated root. Batching
perf: 1 input/1 output per aggregation.

## Fee-Bumping Mempool Flexibility

CPFP: In the context of multi-party protocols, one of your counterparties
might build a branch of transactions from one of the root outputs thus
saturating the in-mempool package limits. To avoid these shenanigans, LN
channels are relying on the carve-out mechanism. Though, the carve-out
mechanism includes its own limitation and doesn't scale beyond 2 contract
participants.

Input-based: The root of the chain of transaction is the package's oldest
ancestor, so package limits don't restrain its acceptance and it works
whatever the number of contract participants.

To conclude, this post scores 2 fee-bumping primitives for multi-party
protocols on a range of factors. It hopes to unravel the ground for a real
feerate performance framework of second-layers protocols .

Beyond that, few points can be highlighted a) future soft forks allow
significant onchain footprint savings, especially in case of batching, b)
future package relay bandwidth efficiency should account for rebroadcast
frequency of CPFPing multi-party protocols. On this latter point one
follow-up might be to evaluate differing package relay *announcement*
schemes in function of odds of non-cooperative protocol broadcast/odds of
concurrent broadcast/rebroadcast frequencies.

Thoughts ?

Cheers,
Antoine

[0]
https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html
[1] Beyond the revault architecture :
https://github.com/revault/practical-revault/blob/master/revault.pdf
[2] Already proposed a while back :
https://bitcointalk.org/index.php?topic=252960.0
[3] In theory, an already-relayed transaction shouldn't pass Core's
`filterInventoryKnown`. In practice, if the transaction is announced as
part of a package_id, the child might have changed, not the parent, leading
to a redundant relay of the latter.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210527/73916240/attachment.html>

From darosior at protonmail.com  Thu May 27 21:45:35 2021
From: darosior at protonmail.com (darosior)
Date: Thu, 27 May 2021 21:45:35 +0000
Subject: [bitcoin-dev] A Stroll through Fee-Bumping Techniques :
	Input-Based vs Child-Pay-For-Parent
In-Reply-To: <CALZpt+FvLb=N5Qygs+dPmh1o9QCwXj8RoznF5n47opOq7CG_0g@mail.gmail.com>
References: <CALZpt+FvLb=N5Qygs+dPmh1o9QCwXj8RoznF5n47opOq7CG_0g@mail.gmail.com>
Message-ID: <sfryINjjAWF5hDSvohEhqCl2nBlllag5nA9tiPleUb1HyjmBcb6Y6v7VwIfaHVXfyiXAHGAgQfbwNsIz8dvckOSjV-zxaq7DckjHStYPJZU=@protonmail.com>

Hi,

> ## Input-Based
>
> I think input-based fee-bumping has been less studied as fee-bumping primitive for L2s [1]. One variant of input-based fee-bumping usable today is the leverage of the SIGHASH_ANYONECANPAY/SIGHASH_SINGLE malleability flags. If the transaction is the latest stage of the contract, a bumping input can be attached just-in-time, thus increasing the feerate of the whole package.

Unfortunately, ACP | SINGLE is trivially pinable [0] (TL;DR: i can just attach an output paying immediately to me, and construct a tx chain spending it). We are using ACP | ALL for Revault,
which is the reason why we need a well laid-out pool of fee-bumping UTXOs (as you need to consume them entirely).

> Input-based (today): If the bumping utxo is offering an adequate feerate point in function of network mempools congestion at time of broadcast, only 1 input. If a preliminary fan-out transaction to adjust feerate point must be broadcasted first, 1 input and 2 outputs more must be accounted for. Onchain footprint: 2 inputs + 3 outputs.

I believe that it's better to broadcast a single fan-out transaction creating your entire UTXO pool in advance. You could create one coin per contract you are watching which value would be
used to bump your transaction feerate from the presigned one to -say- the average feerate over the past month, and then have smaller coins that you could attach to any transaction to bump
by a certain threshold (say, 10sat/vbyte). You would create as many small coin as your reserve algorithm tells you (which could be "i need to be able, worst case, to close all my contracts
with the worst historical feerate." or (fractional reserve version) "i need to be able, worst case, to close 10% of my contracts at the average feerate of the past year, the remaining ones sorry
for my loss"). [1]

This method is both much more optimal (though you need to sometimes incur the cost of many small additional inputs) and also makes sure that your feebump does not depend on the confirmation
of a first stage transaction (as you can only RBF with new inputs if they are confirmed).

> Input-based (today): In case of rebroadcast, the fee-bumping input is attached to the root of the chain of transactions and as such breaks the chain validity in itself. Beyond the rebroadcast of the updated root under replacement policy, the remaining transactions must be updated and rebroadcast. Rebroadcast footprint: the whole chain of transactions.

Why not just attaching it at the tail of the chain? Bumping the last child with additional input would effectively be a CPFP for the entire chain in this case.

Thanks for starting this discussion :)
Antoine

[0] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-May/017835.html
[1] Credits to Jacob Swambo, who came up with the single fan-out transaction and with whom i'm discussing how to practically apply these ideas to Revault.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210527/a0939895/attachment-0001.html>

From antoine.riard at gmail.com  Fri May 28 04:13:44 2021
From: antoine.riard at gmail.com (Antoine Riard)
Date: Fri, 28 May 2021 00:13:44 -0400
Subject: [bitcoin-dev] A Stroll through Fee-Bumping Techniques :
 Input-Based vs Child-Pay-For-Parent
In-Reply-To: <sfryINjjAWF5hDSvohEhqCl2nBlllag5nA9tiPleUb1HyjmBcb6Y6v7VwIfaHVXfyiXAHGAgQfbwNsIz8dvckOSjV-zxaq7DckjHStYPJZU=@protonmail.com>
References: <CALZpt+FvLb=N5Qygs+dPmh1o9QCwXj8RoznF5n47opOq7CG_0g@mail.gmail.com>
 <sfryINjjAWF5hDSvohEhqCl2nBlllag5nA9tiPleUb1HyjmBcb6Y6v7VwIfaHVXfyiXAHGAgQfbwNsIz8dvckOSjV-zxaq7DckjHStYPJZU=@protonmail.com>
Message-ID: <CALZpt+G3cVam9oJRHA=11j9k7k4Fo99dP39P4pbWeHfh79Xs-g@mail.gmail.com>

> Unfortunately, ACP | SINGLE is trivially pinable [0] (TL;DR: i can just
attach an output paying immediately to me, and construct a tx chain
spending it). We are using ACP | ALL for Revault,
> which is the reason why we need a well laid-out pool of fee-bumping UTXOs
(as you need to consume them entirely).

Oh yes, I should have mentioned this pinning vector. The witnessScript I've
in mind to make secure that type of chain of transactions would be one
MuSig key for all contract participants, where signature are committed with
SIGHASH_ANYPREVOUT | SIGHASH_IOMAP, one pubkey per participant to lockdown
the transaction with SIGHASH_ALL. I think it works and prevents malicious
in-flight attachment of input/output to a multi-party transaction ?

> I believe that it's better to broadcast a single fan-out transaction
creating your entire UTXO pool in advance. You could create one coin per
contract you are watching which value would be
> used to bump your transaction feerate from the presigned one to -say- the
average feerate over the past month, and then have smaller coins that you
could attach to any transaction to bump
> by a certain threshold (say, 10sat/vbyte). You would create as many small
coin as your reserve algorithm tells you (which could be "i need to be
able, worst case, to close all my contracts
> with the worst historical feerate." or (fractional reserve version) "i
need to be able, worst case, to close 10% of my contracts at the average
feerate of the past year, the remaining ones sorry
> for my loss"). [1]

> This method is both much more optimal (though you need to sometimes incur
the cost of many small additional inputs) and also makes sure that your
feebump does not depend on the confirmation of a first stage transaction
(as you can only RBF with new inputs if they are confirmed).

I see, so you spread your bumping UTXO pool in two ranges : at least one
bumping utxo per contract, and a subpool of emergency smaller coins, ready
to be attached on any contract. I think this strategy makes sense for
vaults as you can afford a bunch of small coins at different feerates,
spending the ones not used afterwards. And higher cells of feerate reserve
as the worst historical feerate are relatively not that much compared to
locked-in vaults value. That said, I'm more dubious about LN, where node
operators might not keep the worst-case fee-bumping reserve, as the time
value of the coins aren't worth the channel liquidity at stake.

> Why not just attaching it at the tail of the chain? Bumping the last
child with additional input would effectively be a CPFP for the entire
chain in this case.

Yes, input-based bumping targeting the tail of the chain works at the
transaction level. But if you assume bounded visibility of network
mempools, one of your counterparties might have broadcast a concurrent
state, thus making your CPFP irrelevant for propagation. Though smarter
tx-relay techniques such as "attach-on-contract-utxo-root" CPFP (or also
known as "blinded CPFP") might solve this issue.

Le jeu. 27 mai 2021 ? 17:45, darosior <darosior at protonmail.com> a ?crit :

> Hi,
>
> ## Input-Based
>
> I think input-based fee-bumping has been less studied as fee-bumping
> primitive for L2s [1]. One variant of input-based fee-bumping usable today
> is the leverage of the SIGHASH_ANYONECANPAY/SIGHASH_SINGLE malleability
> flags. If the transaction is the latest stage of the contract, a bumping
> input can be attached just-in-time, thus increasing the feerate of the
> whole package.
>
>
> Unfortunately, ACP | SINGLE is trivially pinable [0] (TL;DR: i can just
> attach an output paying immediately to me, and construct a tx chain
> spending it). We are using ACP | ALL for Revault,
> which is the reason why we need a well laid-out pool of fee-bumping UTXOs
> (as you need to consume them entirely).
>
> Input-based (today): If the bumping utxo is offering an adequate feerate
> point in function of network mempools congestion at time of broadcast, only
> 1 input. If a preliminary fan-out transaction to adjust feerate point must
> be broadcasted first, 1 input and 2 outputs more must be accounted for.
> Onchain footprint: 2 inputs + 3 outputs.
>
>
> I believe that it's better to broadcast a single fan-out transaction
> creating your entire UTXO pool in advance. You could create one coin per
> contract you are watching which value would be
> used to bump your transaction feerate from the presigned one to -say- the
> average feerate over the past month, and then have smaller coins that you
> could attach to any transaction to bump
> by a certain threshold (say, 10sat/vbyte). You would create as many small
> coin as your reserve algorithm tells you (which could be "i need to be
> able, worst case, to close all my contracts
> with the worst historical feerate." or (fractional reserve version) "i
> need to be able, worst case, to close 10% of my contracts at the average
> feerate of the past year, the remaining ones sorry
> for my loss"). [1]
>
> This method is both much more optimal (though you need to sometimes incur
> the cost of many small additional inputs) and also makes sure that your
> feebump does not depend on the confirmation
> of a first stage transaction (as you can only RBF with new inputs if they
> are confirmed).
>
> Input-based (today): In case of rebroadcast, the fee-bumping input is
> attached to the root of the chain of transactions and as such breaks the
> chain validity in itself. Beyond the rebroadcast of the updated root under
> replacement policy, the remaining transactions must be updated and
> rebroadcast. Rebroadcast footprint: the whole chain of transactions.
>
>
> Why not just attaching it at the tail of the chain? Bumping the last child
> with additional input would effectively be a CPFP for the entire chain in
> this case.
>
>
> Thanks for starting this discussion :)
> Antoine
>
> [0]
> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-May/017835.html
> [1] Credits to Jacob Swambo, who came up with the single fan-out
> transaction and with whom i'm discussing how to practically apply these
> ideas to Revault.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210528/00cce027/attachment.html>

From befreeandopen at protonmail.com  Fri May 28 14:36:12 2021
From: befreeandopen at protonmail.com (befreeandopen)
Date: Fri, 28 May 2021 14:36:12 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAGpPWDZhxd_dGyFX1E5cPf_00LwyF_DqosvJm4QOr9X9TCyioQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
 <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
 <CAGpPWDZhxd_dGyFX1E5cPf_00LwyF_DqosvJm4QOr9X9TCyioQ@mail.gmail.com>
Message-ID: <7IIfgLfV1xwPTUDtE0uFKVVH-q_tq7kXxJJJ7nlm4v3sBtVs7ITZ3GerqyxJEz1634GBhJvr-1ziK5scdpAwFAQ4aRzDOkOHSUOeLj5r0Ys=@protonmail.com>

>> using nothing at stake
>
> I see from the way you're using this term now that you mean something completely different by it than I usually understand the phrase. You seem to mean it as that minters can check whether they can mint a block without any cost. By contrast, I generally understand the phrase to mean the problem where there is no cost to broadcasting blocks on many different chains.

"Nothing at stake" is a very good name of the problem we are talking about. It says that certain behavior is possible because there is ... nothing at stake. In PoW, significant energy has to be spent in order to create a valid block. In PoS, because there is minimal amount of energy involved, you can create blocks anywhere if you just follow the consensus rules for their structure. Call it whatever you want, but this is the very core of nothing at stake problem. You can do stuff that you can't do in PoW and it is because there is nothing at stake. If you want to make some arbitrary very narrow definitions of what nothing at stake is so that you can claim your false statement that it is a solved problem, that's I guess an end to our discussion as I am not interested in such nonsense.

>> she gained an extra block over the honest strategy which would only give her block D
>
> I think I see what you're saying now. It actually sounds quite similar to the selfish mining attack in proof of work. However I do acknowledge that the ability to secretly mint on both your secret chain(s) and the public chain makes it worse in PoS. How much worse is something that should be quantified. This is also a solvable problem. Designing a secure system can be kind of like whack a mole. You fix the weakest link in the chain, and there is inevitably now a new weakest link that is stronger than the link you fixed. Bitcoin is no different, as development continues, more security improvements are implemented.
>
> In this case, there's a number of possible solutions, some of which can be combined. Eg you can program all honest clients to mint selfishly. You'd likely need to lengthen the number of blocks that constitute a finalized transaction, but you can probably reduce the block time to compensate, so finalization doesn't actually take longer. You could also require many additional signatures on each block from outside validators.

Here you are just proving my case that "typically, you fix something in PoS by creating a problem elsewhere". This is exactly your "whack a mole" game you want to play, I don't. You've still misunderstood what I described it in my previous email. It has nothing to do with selfish mining. My attacker is not withholding the block from others, she just checks (almost instantly) if she can do better using different chain.

>> How is that relevant to our discussion?
>
> It is relevant because the benefits of proof of stake must be compared to an alternative, and the alternative of reference here is clearly PoW. I'm pointing out that the vulnerability you're describing in the type of PoS you're talking about also exists in what its being compared against. To know whether PoS or PoW is better on this particular aspect, you need to compare the levels of advantage that can be obtained in each, and how this affects the cost of attacking the system. Its not as straight forward as saying "PoS is bad because it has this vulnerability" when the system you compare it to also has a very similar vulnerability. You need to quantify the difference at that point.

Since you do not understand that the described attack has nothing to do with selfish mining, you are wrong here again. Bitcoin does not suffer from the problem of free block building on different parent blocks.

>> the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system
>
> Known by public key, not by IP address.

You believe the analysis of the block origin is a hard problem, I believe contrary. Similar analyzes have been done on Bitcoin in the past. For me these quorum systems are thus not interesting because they are obviously vulnerable.

> However, I do not agree that it is at all misleading to say "nothing at stake is a solved problem" just because solving that specific problem doesn't solve all the problems with proof of stake. Its unreasonable to expect that when someone claims problem X is solved, that it also implies all problems related to X are solved.

No one claimed that. I have described nothing at stake attack that you still don't understand and are unable to solve (without creating a huge problem elsewhere). You are, again, for unknown reason putting words into my mouth that I've not said.

>> I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure.
>
> You were the one that claimed proof of stake cannot be made secure. The burden of proof is on you to support your own claims.

Let me remind you the original text of yours where I entered the debate:

> FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.

Again, you are putting words into my mouth that I have not said. This is either intentional deception from you or a great negligence. As you can see, I have entered the debate at the point where you falsely claimed "nothing at stake problem is a solved problem". That is the claim that you are supposed to prove. The burden of proof is on you. This is a very bold claim, contrary to general knowledge in the field, it claims that something that was not possible before is now possible. It is like if I said that "cold fusion" is a solved problem today. You'd say that it is not and I'd say - the burden of proof is on your side as you are claiming that "cold fusion is impossible".

Fortunately, this is not how it works.

>> You have not described a system that would solve it
>
> I would be curious to hear a full critique from you about [this protocol](https://github.com/fresheneesz/ValidatedProofOfStake).

I hope you can understand, that since I revealed great gaps in your technical knowledge, as well as problems in your ability to understand concepts related to PoS, as well as ability to discuss without fallacies (which is very annoying to be honest), I have no intention in spending my time on your creations anymore unless there is a significant community interest in your work, which I think is unlikely, but hey, prove me wrong.

For all above reasons, I will leave you here without further comments as the discussion can no longer be fruitful between us.

> On Wed, May 26, 2021 at 3:12 AM befreeandopen <befreeandopen at protonmail.com> wrote:
>
>>> @befreeandopen I guess I misunderstood your selfish minting attack. Let me make sure I understand it. You're saying it would go as follows?:
>>>
>>> 1. The malicious actor comes across an opportunity to mint the next 3 blocks. But they hold off and don't release their blocks just yet.
>>> 2. They receive a new block minted by someone else.
>>> 3. The malicious actor then chooses to release their other 2 blocks on on the second from the top block if it gives them more blocks in the future than minting on the top block. And instead lets the top block proceed if it gives them more blocks in the future (also figuring in the 3 blocks they're missing out on minting).
>>> 4. Profit!
>>>
>>> The problem with this attack is that any self respecting PoS system wouldn't have the information available for minters to know how blocks will affect their future prospects of minting. Otherwise this would introduce the problem of stake grinding. This can be done using collaborative randomness (where numbers from many parties are combined to create a random number that no individual party could predict). In fact, that's what the Casper protocol does to decide quorums. In a non quorum case, you can do something like record a hash of a number in the block header, and then have a second step to release that number later. Rewards can be given can be used to ensure minters act honestly here by minting messages that release these numbers and not releasing their secret numbers too early.
>>
>> Yes, you misunderstood it. First, let me say that the above thoughts of yours are incorrect, at least for non-quorum case. Since the transition in the blockchain system from S1 to S2 is only by adding new block, and since stakers always need to be able to decide whether or not they can add the next block, it follows that if a staker creates a new block locally, she can decide whether the new state allows her to add another block on top. As you mentioned, this COULD introduce problem of staking, that you are incorrect in that it is a necessity. Usual prevention of the grinding problem in this case is that an "old enough" source of randomness applies for the current block production process. Of course this, as it is typical for PoS, introduces other problems, but let's discard those.
>>
>> I will try to explain in detail what you misunderstood before. You start with a chain ending with blocks A-B-C, C being the top, the common feature of PoS system (non-quorum), roughly speaking, is that if N is the total amount of coins that participate in the staking process to create a new block on top of C (let's call that D), then a participant having K*N amount of stake has chance K to be the one who will create the next stake. In other words, the power of stakers is supposed to be linear in the system - you own 10 coins gives you 10x the chance of finding block over someone who has 1 coin.
>>
>> What i was claiming is that using the technique I have described, this linearity is violated. Why? Well, it works for honest stakers among the competition of honest stakers - they really do have the chance of K to find the next block. However, the attacker, using nothing at stake, checks her ability to build block D (at some timestamp). If she is successful, she does not propagate D immediately, but instead she also checks whether she can build on top of B and on top of A. Since with every new timestamp, usually, there is a new chance to build the block, it is not uncommon that she finds she is indeed able to build such block C' on top of B. Here it is likely t(C') > t(C) as the attacker has relatively low stake. Note that in order to produce such C', she not only could have tried the current timestamp t(D), but also all previous timestamps up to t(B) (usually that's the consensus rule, but it may depend on a specific consensus). So her chance to produce such C' is greater than her previous chance of producing C (which chance was limited by other stakers in the system and the discovery of block C by one of them). Now suppose that she found such C' and now she continues by trying to prolong this chain by finding D'. And again here, it is quite likely that her chance to find such D' is greater than was her chance of finding D because again there are likely multiple timestamps she could try. This all was possible just because nothing at stake allows you to just try if you can produce a block in certain state of block chain or not. Now if she actually was able to find D', she discards D and only publishes chain A-B-C'-D', which can not be punished despite the fact that she indeed produced two different forks. She can not be punished because this production was local and only the final result of A-B-C'-D' was published, in which case she gained an extra block over the honest strategy which would only give her block D.
>>
>>> Fun fact tho: there is an attack called the "selfish mining attack" for proof of work, and it reduces the security of PoW by [at least 1/3rd](https://bitcoinmagazine.com/technical/selfish-mining-a-25-attack-against-the-bitcoin-network-1383578440).
>>
>> How is that relevant to our discussion? This is known research that has nothing to do with PoS except that it is often worse on PoS.
>>
>>>> the problem is not as hard as you think
>>>
>>> I don't claim to know just how hard finding the IP address associated with a bitcoin address is. However, the DOS risk can be solved more completely by only allowing the owner of coins themselves to know whether they can mint a block. Eg by determining whether someone can mint a block based on their public key hidden behind hashes (as normal in addresses). Only when someone does in fact mint a block do they reveal their hidden public key in order to prove they are allowed to mint the block.
>>
>> This is true, but you are mixing quorum and non-quorum systems. My objection here was towards such system where I specifically said that the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system. So in such system, I claimed, the known producer is the only target at any given point of time. This of course does not apply to any other type of system where future producers are not known. No need to dispute, again, something that was not claimed.
>>
>>>> I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message)
>>>
>>> I'm glad we agree there. Perhaps I misunderstood what you meant by "you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere."
>>
>> Perhaps you should quote the full sentence and not just a part of it:
>>
>> "Of course you can always change the rules in a way that a certain specific attack is not doable, but you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere, or you have not solved it completely."
>>
>> You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)
>> In case of the punishment it was meant to be the not solve it completely part.
>> Also "typically" does not imply always.
>> But this parsing of English sentences for you seems very off topic here. My point is, in context of Bitcoin, reject such unsupported claims that PoS is a reasonable alternative to PoW, let's stick to that.
>>
>>>> As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake
>>>
>>> Well, if you're in the closed system of the cryptocurrency, sure. But we don't live in that closed system. Minters will earn some ROI from minting just like any other financial activity. Others may find more success spending their time doing things other than figuring out how to mint coins. In that case, they'll be able to earn more coin that they could later decide to use to mint blocks if they decide to.
>>
>> This only supports the point I was making. Since the optimal scenario with all existing coins participating is just theoretical, the attacker's position will ever so improve. It seems we are in agreement here, great.
>>
>>>> Just because of the above we must reject PoS as being critically insecure
>>>
>>> I think the only thing we can conclude from this is that you have come up with an insecure proof of stake protocol. I don't see how anything you've brought up amounts to substantial evidence that all possible PoS protocols are insecure.
>>
>> I have not come up with anything. I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure. It is up to you to show that you know how to solve every problem that people throw at you. So far we have just demonstrated that your claim that nothing at stake is solved was unjustified. You have not described a system that would solve it (and not introduce critical DDOS attack vector as it is in quorum based systems - per the prior definition of such systems).
>>
>> Of course the list of problems of PoS systems do not end with just nothing at stake, but it is good enough example that by itself prevents its adoption in decentralized consensus. No need to go to other hard problems without solving nothing at stake.
>>
>>> On Tue, May 25, 2021 at 11:10 AM befreeandopen <befreeandopen at protonmail.com> wrote:
>>>
>>>>> @befreeandopen " An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp."
>>>>>
>>>>> The scenario you describe would only be likely to happen at all if the malicious actor has a very large fraction of the stake - probably quite close to 50%. At that point, you're talking about a 51% attack, not the nothing at stake problem. The nothing at stake problem is the problem where anyone will mint on any chain. Its clear that if there's a substantial punishment for minting on chains other than the one that eventually wins, every minter without a significant fraction of the stake will be honest and not attempt to mint on old blocks or support someone else's attempt to mint on old blocks (until and if it becomes the heaviest chain). Because the attacker would need probably >45% of the active stake (take a look at the [reasoning here](https://github.com/fresheneesz/ValidatedProofOfStake#security-the-minimum-cost-of-attack) for a deeper analysis of that statement), I don't agree that punishment is not a sufficient mitigation of the nothing at stake problem. To exploit the nothing at stake problem, you basically need to 51% attack, at which point you've exceeded the operating conditions of the system, so of course its gonna have problems, just like a 51% attack would cause with PoW.
>>>>
>>>> This is not at all the case. The attacker benefits using the described technique at any size of the stake and significantly so with just 5% of the stake. By significantly, I do not mean that the attacker is able to completely take control the network (in short term), but rather that the attacker has significant advantage in the number of blocks she creates compared to what she "should be able to create". This means the attacker's stake increases significantly faster than of the honest nodes, which in long term is very serious in PoS system. If you believe close to 50% is needed for that, you need to redo your math. So no, you are wrong stating that "to exploit nothing at stake problem you basically need to 51% attack". It is rather the opposite - eventually, nothing at stake attack leads to ability to perform 51% attack.
>>>>
>>>>>> I am not sure if this is what you call quorum-based PoS
>>>>>
>>>>> Yes, pre-selected minters is exactly what I mean by that.
>>>>>
>>>>>> it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system
>>>>>
>>>>> Just like in bitcoin, associating keys with IP addresses isn't generally an easy thing to do on the fly like that. If you know someone's IP address, you can target them. But if you only know their address or public key, the reverse isn't as easy. With a quorum-based PoS system, you can see their public key and address, but finding out their IP to DOS would be a huge challenge I think.
>>>>
>>>> I do not dispute that the problem is not trivial, but the problem is not as hard as you think. The network graph analysis is a known technique and it is not trivial, but not very hard either. Introducing a large number of nodes to the system to achieve very good success rate of analysis of area of origin of blocks is doable and has been done in past. So again, I very much disagree with your conclusion that this is somehow secure. It is absolutely insecure.
>>>>
>>>>> Note, tho, that quorum-based PoS generally also have punishments as part of the protocol. The introduction of punishments do indeed handily solve the nothing at stake problem. And you didn't mention a single problem that the punishments introduce that weren't already there before punishments. There are tradeoffs with introducing punishments (eg in some cases you might punish honest actors), but they are minor in comparison to solving the nothing at stake problem.
>>>>
>>>> While I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message), it does introduce additional complexity which may introduce problem, but more importantly, while it slightly improves resistance against the nothing at stake attack, it solves absolutely nothing. Your claim is based on wrong claim of needed close to 50% stake, but that could not be farther from the truth. It is not true even in optimal conditions when all participants of the network stake or delegate their stake. These optimal conditions rarely, if ever, occur. And that's another thing that we have not mention in our debate, so please allow me to introduce another problem to PoS.
>>>>
>>>> Consider what is needed for such optimal conditions to occur - all coins are always part of the stake, which means that they need to somehow automatically part of the staking process even when they are moved. But in many PoS systems you usually require some age (in terms of confirmations) of the coin before you allow it to be used for participation in staking process and that is for a good reason - to prevent various grinding attacks. In some systems the coin must be specifically registered before it can be staked, in others, simply waiting for enough confirmations enables you to stake with the coin. I am not sure if there is a system which does not have this cooling period for a coin that has been moved. Maybe it is possible though, but AFAIK it is not common and not battle tested feature.
>>>>
>>>> Then if we admit that achieving the optimal condition is rather theoretical. Then if we do not have the optimal condition, it means that a staker with K% of the total available supply increases it's percentage over time to some amounts >K%. As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake (if there are any) and relative to all other stakers who make mistakes or who are not wealthy enough to afford not selling any position ever. But powerful attacker is exactly in such position and thus she will gain significance in such a system. The technique I have described, and that you mistakenly think is viable only with huge amounts of stake, only puts the attacker to even greater advantage. But even without the described attack (which exploits nothing at stake), the PoS system converges to a system more and more controlled by powerful entity, which we can assume is the attacker.
>>>>
>>>>> So I don't think it is at all misleading to claim that "nothing at stake" is a solved problem. I do in fact mean that the solutions to that problem don't introduce any other problems with anywhere near the same level of significance.
>>>>
>>>> It still stands as truly misleading claim. I disagree that introducing DDOS opportunity with medium level of difficulty for the attacker to implement it, in case of "quorum-based PoS" is not a problem anywhere near the same level of significance. Such an attack vector allows you to turn off the network if you spend some time and money. That is hardly acceptable.
>>>>
>>>> Just because of the above we must reject PoS as being critically insecure until someone invents and demonstrates an actual way of solving these issues.
>>>>
>>>>> On Tue, May 25, 2021 at 3:00 AM Erik Aronesty <erik at q32.com> wrote:
>>>>>
>>>>>>> > you burn them to be used at a future particular block height
>>>>>>
>>>>>>> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>>>>
>>>>>> could be right. the original idea was to have burns decay over time,
>>>>>> like ASIC's.
>>>>>>
>>>>>> anyway the point was not that "i had a magic formula"
>>>>>>
>>>>>> the point was that proof of burn is almost always better than proof of
>>>>>> stake - simply because the "proof" is on-chain, not sitting on a node
>>>>>> somewhere waiting to be stolen.
>>>>>>
>>>>>> On Mon, May 24, 2021 at 9:53 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>>>>>
>>>>>>> Is this the kind of proof of burn you're talking about?
>>>>>>>
>>>>>>> > if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
>>>>>>>
>>>>>>> What prevents you from attempting to mine block 553 on both chains?
>>>>>>>
>>>>>>> > miners have a very strong, long-term, investment in the stability of the chain.
>>>>>>>
>>>>>>> Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
>>>>>>>
>>>>>>> > you burn them to be used at a future particular block height
>>>>>>>
>>>>>>> This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
>>>>>>>
>>>>>>> > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
>>>>>>>
>>>>>>> Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
>>>>>>>
>>>>>>>
>>>>>>> On Mon, May 24, 2021 at 11:49 AM Erik Aronesty <erik at q32.com> wrote:
>>>>>>>>
>>>>>>>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>>>>>> > I'm fuzzy on how proof of burn works.
>>>>>>>>
>>>>>>>> when you burn coins, you burn them to be used at a future particular
>>>>>>>> block height: so if i'm burning for block 553, i can only use them to
>>>>>>>> mine block 553. if i have a choice between two chains, one longer
>>>>>>>> and one shorter, i can only choose one... deterministically, for that
>>>>>>>> burn: the chain with the height 553. if we fix the "lead time" for
>>>>>>>> burned coins to be weeks or even months in advance, miners have a very
>>>>>>>> strong, long-term, investment in the stability of the chain.
>>>>>>>>
>>>>>>>> therefore there is no "nothing at stake" problem. it's
>>>>>>>> deterministic, so miners have no choice. they can *only* choose the
>>>>>>>> transactions that go into the block. they cannot choose which chain
>>>>>>>> to mine, and it's time-locked, so rollbacks and instability always
>>>>>>>> hurt miners the most.
>>>>>>>>
>>>>>>>> the "punishment" systems of PoS are "weird at best", certainly
>>>>>>>> unproven. i can imagine scenarios where large stakeholders can
>>>>>>>> collude to punish smaller stakeholders simply to drive them out of
>>>>>>>> business, for example. and then you have to put checks in place to
>>>>>>>> prevent that, and more checks for those prevention system...
>>>>>>>>
>>>>>>>> in PoB, there is no complexity. simpler systems like this are
>>>>>>>> typically more secure.
>>>>>>>>
>>>>>>>> PoB also solves problems caused by "energy dependence", which could
>>>>>>>> lead to state monopolies on mining (like the new Bitcoin Mining
>>>>>>>> Council). these consortiums, if state sanctioned, could become a
>>>>>>>> source of censorship, for example. Since PoB doesn't require you to
>>>>>>>> have a live, well-connected node, it's harder to censor & harder to
>>>>>>>> trace.
>>>>>>>>
>>>>>>>> Eliminating this weakness seems to be in the best interests of
>>>>>>>> existing stakeholders
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> On Mon, May 24, 2021 at 4:44 PM Billy Tetrud <billy.tetrud at gmail.com> wrote:
>>>>>>>> >
>>>>>>>> > > proof of burn clearly solves this, since nothing is held online
>>>>>>>> >
>>>>>>>> > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
>>>>>>>> >
>>>>>>>> > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
>>>>>>>> >
>>>>>>>> > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
>>>>>>>> >
>>>>>>>> > > proof of burn can be more secure than proof-of-stake
>>>>>>>> >
>>>>>>>> > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
>>>>>>>> >
>>>>>>>> >
>>>>>>>> >
>>>>>>>> > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty <erik at q32.com> wrote:
>>>>>>>> >>
>>>>>>>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>>>>>> >>
>>>>>>>> >> proof of burn clearly solves this, since nothing is held online
>>>>>>>> >>
>>>>>>>> >> > how does proof of burn solve the "nothing at stake" problem in your view?
>>>>>>>> >>
>>>>>>>> >> definition of nothing at stake: in the event of a fork, whether the
>>>>>>>> >> fork is accidental or a malicious, the optimal strategy for any miner
>>>>>>>> >> is to mine on every chain, so that the miner gets their reward no
>>>>>>>> >> matter which fork wins. indeed in proof-of-stake, the proofs are
>>>>>>>> >> published on the very chains mines, so the incentive is magnified.
>>>>>>>> >>
>>>>>>>> >> in proof-of-burn, your burn investment is always "at stake", any
>>>>>>>> >> redaction can result in a loss-of-burn, because burns can be tied,
>>>>>>>> >> precisely, to block-heights
>>>>>>>> >>
>>>>>>>> >> as a result, miners no longer have an incentive to mine all chains
>>>>>>>> >>
>>>>>>>> >> in this way proof of burn can be more secure than proof-of-stake, and
>>>>>>>> >> even more secure than proof of work
>>>>>>>> >>
>>>>>>>> >>
>>>>>>>> >>
>>>>>>>> >>
>>>>>>>> >>
>>>>>>>> >>
>>>>>>>> >>
>>>>>>>> >> >
>>>>>>>> >>
>>>>>>>> >> On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
>>>>>>>> >> <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>>>> >> >
>>>>>>>> >> > Hi Billy,
>>>>>>>> >> >
>>>>>>>> >> > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
>>>>>>>> >> > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
>>>>>>>> >> >
>>>>>>>> >> > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
>>>>>>>> >> > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
>>>>>>>> >> > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
>>>>>>>> >> > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
>>>>>>>> >> > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
>>>>>>>> >> > In PoS systems this clean separation of responsibilities does not exist.
>>>>>>>> >> >
>>>>>>>> >> > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
>>>>>>>> >> > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
>>>>>>>> >> > But the devil is in the detail.
>>>>>>>> >> > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
>>>>>>>> >> >
>>>>>>>> >> > ### Proof of SquareSpace (Cardano, Polkdadot)
>>>>>>>> >> >
>>>>>>>> >> > Cardano is a UTXO based PoS coin based on Ouroboros Praos[3] with an inbuilt on-chain delegation system[5].
>>>>>>>> >> > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
>>>>>>>> >> > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
>>>>>>>> >> > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
>>>>>>>> >> >
>>>>>>>> >> > 1. The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
>>>>>>>> >> >
>>>>>>>> >> > 2. When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and *you never help create a block without seeing it first*.
>>>>>>>> >> >
>>>>>>>> >> > 3. If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
>>>>>>>> >> > I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
>>>>>>>> >> > In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
>>>>>>>> >> >
>>>>>>>> >> > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
>>>>>>>> >> > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
>>>>>>>> >> > It also grows the size of the blockchain significantly.
>>>>>>>> >> >
>>>>>>>> >> > ### "Pure" proof of stake (Algorand)
>>>>>>>> >> >
>>>>>>>> >> > Algorand's[4] approach is to only allow online stake to participate in the protocol.
>>>>>>>> >> > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
>>>>>>>> >> > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"[1] that will be used to create blocks on your coin holding key's behalf.
>>>>>>>> >> > Hopefully you've spotted the problem.
>>>>>>>> >> > You can send your participation keys to any malicious party with a nice website (see random example [2]) offering you a good return.
>>>>>>>> >> > Damn it's still Proof-of-SquareSpace!
>>>>>>>> >> > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
>>>>>>>> >> > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
>>>>>>>> >> >
>>>>>>>> >> > ### Conclusion
>>>>>>>> >> >
>>>>>>>> >> > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
>>>>>>>> >> > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
>>>>>>>> >> >
>>>>>>>> >> > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
>>>>>>>> >> > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
>>>>>>>> >> > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
>>>>>>>> >> > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
>>>>>>>> >> >
>>>>>>>> >> > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
>>>>>>>> >> >
>>>>>>>> >> > Would be interested to know if you or others think differently on these points.
>>>>>>>> >> >
>>>>>>>> >> > [1]: https://developer.algorand.org/docs/run-a-node/participate/generate_keys/
>>>>>>>> >> > [2]: https://staking.staked.us/algorand-staking
>>>>>>>> >> > [3]: https://eprint.iacr.org/2017/573.pdf
>>>>>>>> >> > [4]: https://algorandcom.cdn.prismic.io/algorandcom%2Fece77f38-75b3-44de-bc7f-805f0e53a8d9_theoretical.pdf
>>>>>>>> >> > [5]: https://hydra.iohk.io/build/790053/download/1/delegation_design_spec.pdf
>>>>>>>> >> >
>>>>>>>> >> > Cheers,
>>>>>>>> >> >
>>>>>>>> >> > LL
>>>>>>>> >> >
>>>>>>>> >> > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>>>> >> >>
>>>>>>>> >> >> I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) *without* compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
>>>>>>>> >> >>
>>>>>>>> >> >> @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
>>>>>>>> >> >> * The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
>>>>>>>> >> >> * The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
>>>>>>>> >> >> * The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
>>>>>>>> >> >> * Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
>>>>>>>> >> >>
>>>>>>>> >> >> > Proof-of-stake tends towards oligopolistic control
>>>>>>>> >> >>
>>>>>>>> >> >> People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
>>>>>>>> >> >>
>>>>>>>> >> >> > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
>>>>>>>> >> >>
>>>>>>>> >> >> I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
>>>>>>>> >> >>
>>>>>>>> >> >> > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
>>>>>>>> >> >>
>>>>>>>> >> >> I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
>>>>>>>> >> >>
>>>>>>>> >> >> > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
>>>>>>>> >> >>
>>>>>>>> >> >> Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
>>>>>>>> >> >>
>>>>>>>> >> >> > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
>>>>>>>> >> >>
>>>>>>>> >> >> This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
>>>>>>>> >> >>
>>>>>>>> >> >> > 2. Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
>>>>>>>> >> >>
>>>>>>>> >> >> Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
>>>>>>>> >> >>
>>>>>>>> >> >>
>>>>>>>> >> >> On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>>>> >> >>>
>>>>>>>> >> >>> Ah sorry, I didn't realize this was, in fact, a different thread! :)
>>>>>>>> >> >>>
>>>>>>>> >> >>> On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky <mike at powx.org> wrote:
>>>>>>>> >> >>>>
>>>>>>>> >> >>>> Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
>>>>>>>> >> >>>>
>>>>>>>> >> >>>> Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
>>>>>>>> >> >>>>
>>>>>>>> >> >>>> Cheers,
>>>>>>>> >> >>>> Mike
>>>>>>>> >> >>>>
>>>>>>>> >> >>>> On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:
>>>>>>>> >> >>>>>
>>>>>>>> >> >>>>> 1. i never suggested vdf's to replace pow.
>>>>>>>> >> >>>>>
>>>>>>>> >> >>>>> 2. my suggestion was specifically *in the context of* a working
>>>>>>>> >> >>>>> proof-of-burn protocol
>>>>>>>> >> >>>>>
>>>>>>>> >> >>>>> - vdfs used only for timing (not block height)
>>>>>>>> >> >>>>> - blind-burned coins of a specific age used to replace proof of work
>>>>>>>> >> >>>>> - the required "work" per block would simply be a competition to
>>>>>>>> >> >>>>> acquire rewards, and so miners would have to burn coins, well in
>>>>>>>> >> >>>>> advance, and hope that their burned coins got rewarded in some far
>>>>>>>> >> >>>>> future
>>>>>>>> >> >>>>> - the point of burned coins is to mimic, in every meaningful way, the
>>>>>>>> >> >>>>> value gained from proof of work... without some of the security
>>>>>>>> >> >>>>> drawbacks
>>>>>>>> >> >>>>> - the miner risks losing all of his burned coins (like all miners risk
>>>>>>>> >> >>>>> losing their work in each block)
>>>>>>>> >> >>>>> - new burns can't be used
>>>>>>>> >> >>>>> - old burns age out (like ASICs do)
>>>>>>>> >> >>>>> - other requirements on burns might be needed to properly mirror the
>>>>>>>> >> >>>>> properties of PoW and the incentives Bitcoin uses to mine honestly.
>>>>>>>> >> >>>>>
>>>>>>>> >> >>>>> 3. i do believe it is *possible* that a "burned coin + vdf system"
>>>>>>>> >> >>>>> might be more secure in the long run, and that if the entire space
>>>>>>>> >> >>>>> agreed that such an endeavor was worthwhile, a test net could be spun
>>>>>>>> >> >>>>> up, and a hard-fork could be initiated.
>>>>>>>> >> >>>>>
>>>>>>>> >> >>>>> 4. i would never suggest such a thing unless i believed it was
>>>>>>>> >> >>>>> possible that consensus was possible. so no, this is not an "alt
>>>>>>>> >> >>>>> coin"
>>>>>>>> >> >>>>>
>>>>>>>> >> >>>>> On Tue, May 18, 2021 at 10:02 AM Zac Greenwood <zachgrw at gmail.com> wrote:
>>>>>>>> >> >>>>> >
>>>>>>>> >> >>>>> > Hi ZmnSCPxj,
>>>>>>>> >> >>>>> >
>>>>>>>> >> >>>>> > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
>>>>>>>> >> >>>>> >
>>>>>>>> >> >>>>> > Zac
>>>>>>>> >> >>>>> >
>>>>>>>> >> >>>>> >
>>>>>>>> >> >>>>> > On Tue, 18 May 2021 at 12:42, ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:
>>>>>>>> >> >>>>> >>
>>>>>>>> >> >>>>> >> Good morning Zac,
>>>>>>>> >> >>>>> >>
>>>>>>>> >> >>>>> >> > VDFs might enable more constant block times, for instance by having a two-step PoW:
>>>>>>>> >> >>>>> >> >
>>>>>>>> >> >>>>> >> > 1. Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
>>>>>>>> >> >>>>> >> >
>>>>>>>> >> >>>>> >> > 2. Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
>>>>>>>> >> >>>>> >> >
>>>>>>>> >> >>>>> >> > As a result, variation in block times will be greatly reduced.
>>>>>>>> >> >>>>> >>
>>>>>>>> >> >>>>> >> As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
>>>>>>>> >> >>>>> >>
>>>>>>>> >> >>>>> >> Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even *worse* competition and even *more* energy consumption.
>>>>>>>> >> >>>>> >> After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where *only you* can mine *in the entire world*.
>>>>>>>> >> >>>>> >>
>>>>>>>> >> >>>>> >> Regards,
>>>>>>>> >> >>>>> >> ZmnSCPxj
>>>>>>>> >> >>>>> _______________________________________________
>>>>>>>> >> >>>>> bitcoin-dev mailing list
>>>>>>>> >> >>>>> bitcoin-dev at lists.linuxfoundation.org
>>>>>>>> >> >>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>>>> >> >>>>
>>>>>>>> >> >>>>
>>>>>>>> >> >>>>
>>>>>>>> >> >>>> --
>>>>>>>> >> >>>> Michael Dubrovsky
>>>>>>>> >> >>>> Founder; PoWx
>>>>>>>> >> >>>> www.PoWx.org
>>>>>>>> >> >>>
>>>>>>>> >> >>>
>>>>>>>> >> >>>
>>>>>>>> >> >>> --
>>>>>>>> >> >>> Michael Dubrovsky
>>>>>>>> >> >>> Founder; PoWx
>>>>>>>> >> >>> www.PoWx.org
>>>>>>>> >> >>> _______________________________________________
>>>>>>>> >> >>> bitcoin-dev mailing list
>>>>>>>> >> >>> bitcoin-dev at lists.linuxfoundation.org
>>>>>>>> >> >>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>>>> >> >>
>>>>>>>> >> >> _______________________________________________
>>>>>>>> >> >> bitcoin-dev mailing list
>>>>>>>> >> >> bitcoin-dev at lists.linuxfoundation.org
>>>>>>>> >> >> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>>>>>>> >> >
>>>>>>>> >> > _______________________________________________
>>>>>>>> >> > bitcoin-dev mailing list
>>>>>>>> >> > bitcoin-dev at lists.linuxfoundation.org
>>>>>>>> >> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210528/e372e14d/attachment-0001.html>

From befreeandopen at protonmail.com  Fri May 28 14:40:45 2021
From: befreeandopen at protonmail.com (befreeandopen)
Date: Fri, 28 May 2021 14:40:45 +0000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgKgGynQ9NYe_7xEai0tcBW4b=tQnNpv9vndx1hLCowfWg@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
 <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
 <CAJowKgKgGynQ9NYe_7xEai0tcBW4b=tQnNpv9vndx1hLCowfWg@mail.gmail.com>
Message-ID: <J3_n3ygIuQf54KXVl8jlbyahX5WJIzffVeDD3yt0RkRbPRyD56OPj3DT05wGJoEfI6XfLOq2DiaN-vdnXSdi7Q23NWrZ-Tg9jzM9jtx8-hg=@protonmail.com>

Erik, I am sorry, I have little knowledge about proof-of-burn, I never found it interesting up until now. Some of your recent claims seem quite strong to me and I'd like to read more.

Forgive me if this has been mentioned recently, but is there a full specification of the concept you are referring to? I don't mean just the basic idea description (that much is clear to me), I mean a fully detailed proposal or technical documentation that would give me a precise information about what exactly it is that you are talking about.


Sent with ProtonMail Secure Email.

??????? Original Message ???????
On Wednesday, May 26, 2021 11:07 PM, Erik Aronesty <erik at q32.com> wrote:

> note: the "nothing at stake" problem you propose is not broken for
> proof-of-burn, because the attacker
>
> a) has no idea which past transactions are burns
> b) has no way to use his mining power, even 5%, to maliciously improve
> his odds of being selected
>
> On Wed, May 26, 2021 at 9:12 AM befreeandopen
> befreeandopen at protonmail.com wrote:
>
> > @befreeandopen I guess I misunderstood your selfish minting attack. Let me make sure I understand it. You're saying it would go as follows?:
> >
> > 1.  The malicious actor comes across an opportunity to mint the next 3 blocks. But they hold off and don't release their blocks just yet.
> > 2.  They receive a new block minted by someone else.
> > 3.  The malicious actor then chooses to release their other 2 blocks on on the second from the top block if it gives them more blocks in the future than minting on the top block. And instead lets the top block proceed if it gives them more blocks in the future (also figuring in the 3 blocks they're missing out on minting).
> > 4.  Profit!
> >
> > The problem with this attack is that any self respecting PoS system wouldn't have the information available for minters to know how blocks will affect their future prospects of minting. Otherwise this would introduce the problem of stake grinding. This can be done using collaborative randomness (where numbers from many parties are combined to create a random number that no individual party could predict). In fact, that's what the Casper protocol does to decide quorums. In a non quorum case, you can do something like record a hash of a number in the block header, and then have a second step to release that number later. Rewards can be given can be used to ensure minters act honestly here by minting messages that release these numbers and not releasing their secret numbers too early.
> > Yes, you misunderstood it. First, let me say that the above thoughts of yours are incorrect, at least for non-quorum case. Since the transition in the blockchain system from S1 to S2 is only by adding new block, and since stakers always need to be able to decide whether or not they can add the next block, it follows that if a staker creates a new block locally, she can decide whether the new state allows her to add another block on top. As you mentioned, this COULD introduce problem of staking, that you are incorrect in that it is a necessity. Usual prevention of the grinding problem in this case is that an "old enough" source of randomness applies for the current block production process. Of course this, as it is typical for PoS, introduces other problems, but let's discard those.
> > I will try to explain in detail what you misunderstood before. You start with a chain ending with blocks A-B-C, C being the top, the common feature of PoS system (non-quorum), roughly speaking, is that if N is the total amount of coins that participate in the staking process to create a new block on top of C (let's call that D), then a participant having K*N amount of stake has chance K to be the one who will create the next stake. In other words, the power of stakers is supposed to be linear in the system - you own 10 coins gives you 10x the chance of finding block over someone who has 1 coin.
> > What i was claiming is that using the technique I have described, this linearity is violated. Why? Well, it works for honest stakers among the competition of honest stakers - they really do have the chance of K to find the next block. However, the attacker, using nothing at stake, checks her ability to build block D (at some timestamp). If she is successful, she does not propagate D immediately, but instead she also checks whether she can build on top of B and on top of A. Since with every new timestamp, usually, there is a new chance to build the block, it is not uncommon that she finds she is indeed able to build such block C' on top of B. Here it is likely t(C') > t(C) as the attacker has relatively low stake. Note that in order to produce such C', she not only could have tried the current timestamp t(D), but also all previous timestamps up to t(B) (usually that's the consensus rule, but it may depend on a specific consensus). So her chance to produce such C' is greater than her previous chance of producing C (which chance was limited by other stakers in the system and the discovery of block C by one of them). Now suppose that she found such C' and now she continues by trying to prolong this chain by finding D'. And again here, it is quite likely that her chance to find such D' is greater than was her chance of finding D because again there are likely multiple timestamps she could try. This all was possible just because nothing at stake allows you to just try if you can produce a block in certain state of block chain or not. Now if she actually was able to find D', she discards D and only publishes chain A-B-C'-D', which can not be punished despite the fact that she indeed produced two different forks. She can not be punished because this production was local and only the final result of A-B-C'-D' was published, in which case she gained an extra block over the honest strategy which would only give her block D.
> > Fun fact tho: there is an attack called the "selfish mining attack" for proof of work, and it reduces the security of PoW by at least 1/3rd.
> > How is that relevant to our discussion? This is known research that has nothing to do with PoS except that it is often worse on PoS.
> >
> > > the problem is not as hard as you think
> >
> > I don't claim to know just how hard finding the IP address associated with a bitcoin address is. However, the DOS risk can be solved more completely by only allowing the owner of coins themselves to know whether they can mint a block. Eg by determining whether someone can mint a block based on their public key hidden behind hashes (as normal in addresses). Only when someone does in fact mint a block do they reveal their hidden public key in order to prove they are allowed to mint the block.
> > This is true, but you are mixing quorum and non-quorum systems. My objection here was towards such system where I specifically said that the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system. So in such system, I claimed, the known producer is the only target at any given point of time. This of course does not apply to any other type of system where future producers are not known. No need to dispute, again, something that was not claimed.
> >
> > > I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message)
> >
> > I'm glad we agree there. Perhaps I misunderstood what you meant by "you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere."
> > Perhaps you should quote the full sentence and not just a part of it:
> > "Of course you can always change the rules in a way that a certain specific attack is not doable, but you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere, or you have not solved it completely."
> > You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)
> > In case of the punishment it was meant to be the not solve it completely part.
> > Also "typically" does not imply always.
> > But this parsing of English sentences for you seems very off topic here. My point is, in context of Bitcoin, reject such unsupported claims that PoS is a reasonable alternative to PoW, let's stick to that.
> >
> > > As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake
> >
> > Well, if you're in the closed system of the cryptocurrency, sure. But we don't live in that closed system. Minters will earn some ROI from minting just like any other financial activity. Others may find more success spending their time doing things other than figuring out how to mint coins. In that case, they'll be able to earn more coin that they could later decide to use to mint blocks if they decide to.
> > This only supports the point I was making. Since the optimal scenario with all existing coins participating is just theoretical, the attacker's position will ever so improve. It seems we are in agreement here, great.
> >
> > > Just because of the above we must reject PoS as being critically insecure
> >
> > I think the only thing we can conclude from this is that you have come up with an insecure proof of stake protocol. I don't see how anything you've brought up amounts to substantial evidence that all possible PoS protocols are insecure.
> > I have not come up with anything. I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure. It is up to you to show that you know how to solve every problem that people throw at you. So far we have just demonstrated that your claim that nothing at stake is solved was unjustified. You have not described a system that would solve it (and not introduce critical DDOS attack vector as it is in quorum based systems - per the prior definition of such systems).
> > Of course the list of problems of PoS systems do not end with just nothing at stake, but it is good enough example that by itself prevents its adoption in decentralized consensus. No need to go to other hard problems without solving nothing at stake.
> > On Tue, May 25, 2021 at 11:10 AM befreeandopen befreeandopen at protonmail.com wrote:
> >
> > > @befreeandopen " An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp."
> > > The scenario you describe would only be likely to happen at all if the malicious actor has a very large fraction of the stake - probably quite close to 50%. At that point, you're talking about a 51% attack, not the nothing at stake problem. The nothing at stake problem is the problem where anyone will mint on any chain. Its clear that if there's a substantial punishment for minting on chains other than the one that eventually wins, every minter without a significant fraction of the stake will be honest and not attempt to mint on old blocks or support someone else's attempt to mint on old blocks (until and if it becomes the heaviest chain). Because the attacker would need probably >45% of the active stake (take a look at the reasoning here for a deeper analysis of that statement), I don't agree that punishment is not a sufficient mitigation of the nothing at stake problem. To exploit the nothing at stake problem, you basically need to 51% attack, at which point you've exceeded the operating conditions of the system, so of course its gonna have problems, just like a 51% attack would cause with PoW.
> > > This is not at all the case. The attacker benefits using the described technique at any size of the stake and significantly so with just 5% of the stake. By significantly, I do not mean that the attacker is able to completely take control the network (in short term), but rather that the attacker has significant advantage in the number of blocks she creates compared to what she "should be able to create". This means the attacker's stake increases significantly faster than of the honest nodes, which in long term is very serious in PoS system. If you believe close to 50% is needed for that, you need to redo your math. So no, you are wrong stating that "to exploit nothing at stake problem you basically need to 51% attack". It is rather the opposite - eventually, nothing at stake attack leads to ability to perform 51% attack.
> > >
> > > > I am not sure if this is what you call quorum-based PoS
> > >
> > > Yes, pre-selected minters is exactly what I mean by that.
> > >
> > > > it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system
> > >
> > > Just like in bitcoin, associating keys with IP addresses isn't generally an easy thing to do on the fly like that. If you know someone's IP address, you can target them. But if you only know their address or public key, the reverse isn't as easy. With a quorum-based PoS system, you can see their public key and address, but finding out their IP to DOS would be a huge challenge I think.
> > > I do not dispute that the problem is not trivial, but the problem is not as hard as you think. The network graph analysis is a known technique and it is not trivial, but not very hard either. Introducing a large number of nodes to the system to achieve very good success rate of analysis of area of origin of blocks is doable and has been done in past. So again, I very much disagree with your conclusion that this is somehow secure. It is absolutely insecure.
> > > Note, tho, that quorum-based PoS generally also have punishments as part of the protocol. The introduction of punishments do indeed handily solve the nothing at stake problem. And you didn't mention a single problem that the punishments introduce that weren't already there before punishments. There are tradeoffs with introducing punishments (eg in some cases you might punish honest actors), but they are minor in comparison to solving the nothing at stake problem.
> > > While I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message), it does introduce additional complexity which may introduce problem, but more importantly, while it slightly improves resistance against the nothing at stake attack, it solves absolutely nothing. Your claim is based on wrong claim of needed close to 50% stake, but that could not be farther from the truth. It is not true even in optimal conditions when all participants of the network stake or delegate their stake. These optimal conditions rarely, if ever, occur. And that's another thing that we have not mention in our debate, so please allow me to introduce another problem to PoS.
> > > Consider what is needed for such optimal conditions to occur - all coins are always part of the stake, which means that they need to somehow automatically part of the staking process even when they are moved. But in many PoS systems you usually require some age (in terms of confirmations) of the coin before you allow it to be used for participation in staking process and that is for a good reason - to prevent various grinding attacks. In some systems the coin must be specifically registered before it can be staked, in others, simply waiting for enough confirmations enables you to stake with the coin. I am not sure if there is a system which does not have this cooling period for a coin that has been moved. Maybe it is possible though, but AFAIK it is not common and not battle tested feature.
> > > Then if we admit that achieving the optimal condition is rather theoretical. Then if we do not have the optimal condition, it means that a staker with K% of the total available supply increases it's percentage over time to some amounts >K%. As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake (if there are any) and relative to all other stakers who make mistakes or who are not wealthy enough to afford not selling any position ever. But powerful attacker is exactly in such position and thus she will gain significance in such a system. The technique I have described, and that you mistakenly think is viable only with huge amounts of stake, only puts the attacker to even greater advantage. But even without the described attack (which exploits nothing at stake), the PoS system converges to a system more and more controlled by powerful entity, which we can assume is the attacker.
> > > So I don't think it is at all misleading to claim that "nothing at stake" is a solved problem. I do in fact mean that the solutions to that problem don't introduce any other problems with anywhere near the same level of significance.
> > > It still stands as truly misleading claim. I disagree that introducing DDOS opportunity with medium level of difficulty for the attacker to implement it, in case of "quorum-based PoS" is not a problem anywhere near the same level of significance. Such an attack vector allows you to turn off the network if you spend some time and money. That is hardly acceptable.
> > > Just because of the above we must reject PoS as being critically insecure until someone invents and demonstrates an actual way of solving these issues.
> > > On Tue, May 25, 2021 at 3:00 AM Erik Aronesty erik at q32.com wrote:
> > >
> > > > > > you burn them to be used at a future particular block height
> > > >
> > > > > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
> > > >
> > > > could be right. the original idea was to have burns decay over time,
> > > > like ASIC's.
> > > > anyway the point was not that "i had a magic formula"
> > > > the point was that proof of burn is almost always better than proof of
> > > > stake - simply because the "proof" is on-chain, not sitting on a node
> > > > somewhere waiting to be stolen.
> > > > On Mon, May 24, 2021 at 9:53 PM Billy Tetrud billy.tetrud at gmail.com wrote:
> > > >
> > > > > Is this the kind of proof of burn you're talking about?
> > > > >
> > > > > > if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
> > > > >
> > > > > What prevents you from attempting to mine block 553 on both chains?
> > > > >
> > > > > > miners have a very strong, long-term, investment in the stability of the chain.
> > > > >
> > > > > Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
> > > > >
> > > > > > you burn them to be used at a future particular block height
> > > > >
> > > > > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
> > > > >
> > > > > > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
> > > > >
> > > > > Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
> > > > > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty erik at q32.com wrote:
> > > > >
> > > > > > > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
> > > > > > > > I'm fuzzy on how proof of burn works.
> > > > > >
> > > > > > when you burn coins, you burn them to be used at a future particular
> > > > > > block height: so if i'm burning for block 553, i can only use them to
> > > > > > mine block 553. if i have a choice between two chains, one longer
> > > > > > and one shorter, i can only choose one... deterministically, for that
> > > > > > burn: the chain with the height 553. if we fix the "lead time" for
> > > > > > burned coins to be weeks or even months in advance, miners have a very
> > > > > > strong, long-term, investment in the stability of the chain.
> > > > > > therefore there is no "nothing at stake" problem. it's
> > > > > > deterministic, so miners have no choice. they can only choose the
> > > > > > transactions that go into the block. they cannot choose which chain
> > > > > > to mine, and it's time-locked, so rollbacks and instability always
> > > > > > hurt miners the most.
> > > > > > the "punishment" systems of PoS are "weird at best", certainly
> > > > > > unproven. i can imagine scenarios where large stakeholders can
> > > > > > collude to punish smaller stakeholders simply to drive them out of
> > > > > > business, for example. and then you have to put checks in place to
> > > > > > prevent that, and more checks for those prevention system...
> > > > > > in PoB, there is no complexity. simpler systems like this are
> > > > > > typically more secure.
> > > > > > PoB also solves problems caused by "energy dependence", which could
> > > > > > lead to state monopolies on mining (like the new Bitcoin Mining
> > > > > > Council). these consortiums, if state sanctioned, could become a
> > > > > > source of censorship, for example. Since PoB doesn't require you to
> > > > > > have a live, well-connected node, it's harder to censor & harder to
> > > > > > trace.
> > > > > > Eliminating this weakness seems to be in the best interests of
> > > > > > existing stakeholders
> > > > > > On Mon, May 24, 2021 at 4:44 PM Billy Tetrud billy.tetrud at gmail.com wrote:
> > > > > >
> > > > > > > > proof of burn clearly solves this, since nothing is held online
> > > > > > >
> > > > > > > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
> > > > > > >
> > > > > > > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
> > > > > > >
> > > > > > > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
> > > > > > >
> > > > > > > > proof of burn can be more secure than proof-of-stake
> > > > > > >
> > > > > > > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
> > > > > > > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty erik at q32.com wrote:
> > > > > > >
> > > > > > > > > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
> > > > > > > >
> > > > > > > > proof of burn clearly solves this, since nothing is held online
> > > > > > > >
> > > > > > > > > how does proof of burn solve the "nothing at stake" problem in your view?
> > > > > > > >
> > > > > > > > definition of nothing at stake: in the event of a fork, whether the
> > > > > > > > fork is accidental or a malicious, the optimal strategy for any miner
> > > > > > > > is to mine on every chain, so that the miner gets their reward no
> > > > > > > > matter which fork wins. indeed in proof-of-stake, the proofs are
> > > > > > > > published on the very chains mines, so the incentive is magnified.
> > > > > > > > in proof-of-burn, your burn investment is always "at stake", any
> > > > > > > > redaction can result in a loss-of-burn, because burns can be tied,
> > > > > > > > precisely, to block-heights
> > > > > > > > as a result, miners no longer have an incentive to mine all chains
> > > > > > > > in this way proof of burn can be more secure than proof-of-stake, and
> > > > > > > > even more secure than proof of work
> > > > > > > >
> > > > > > > > >
> > > > > > > >
> > > > > > > > On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
> > > > > > > > bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > >
> > > > > > > > > Hi Billy,
> > > > > > > > > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
> > > > > > > > > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
> > > > > > > > > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
> > > > > > > > > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
> > > > > > > > > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
> > > > > > > > > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
> > > > > > > > > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
> > > > > > > > > In PoS systems this clean separation of responsibilities does not exist.
> > > > > > > > > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
> > > > > > > > > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
> > > > > > > > > But the devil is in the detail.
> > > > > > > > > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
> > > > > > > > >
> > > > > > > > > ### Proof of SquareSpace (Cardano, Polkdadot)
> > > > > > > > >
> > > > > > > > > Cardano is a UTXO based PoS coin based on Ouroboros Praos3 with an inbuilt on-chain delegation system5.
> > > > > > > > > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
> > > > > > > > > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
> > > > > > > > > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
> > > > > > > > >
> > > > > > > > > 1.  The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
> > > > > > > > >
> > > > > > > > > 2.  When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and you never help create a block without seeing it first.
> > > > > > > > >
> > > > > > > > > 3.  If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
> > > > > > > > >     I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
> > > > > > > > >     In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
> > > > > > > > >
> > > > > > > > >
> > > > > > > > > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
> > > > > > > > > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
> > > > > > > > > It also grows the size of the blockchain significantly.
> > > > > > > > >
> > > > > > > > > ### "Pure" proof of stake (Algorand)
> > > > > > > > >
> > > > > > > > > Algorand's4 approach is to only allow online stake to participate in the protocol.
> > > > > > > > > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
> > > > > > > > > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"1 that will be used to create blocks on your coin holding key's behalf.
> > > > > > > > > Hopefully you've spotted the problem.
> > > > > > > > > You can send your participation keys to any malicious party with a nice website (see random example 2) offering you a good return.
> > > > > > > > > Damn it's still Proof-of-SquareSpace!
> > > > > > > > > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
> > > > > > > > > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
> > > > > > > > >
> > > > > > > > > ### Conclusion
> > > > > > > > >
> > > > > > > > > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
> > > > > > > > > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
> > > > > > > > > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
> > > > > > > > > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
> > > > > > > > > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
> > > > > > > > > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
> > > > > > > > > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
> > > > > > > > > Would be interested to know if you or others think differently on these points.
> > > > > > > > > Cheers,
> > > > > > > > > LL
> > > > > > > > > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > >
> > > > > > > > > > I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) without compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
> > > > > > > > > > @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
> > > > > > > > > >
> > > > > > > > > > -   The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
> > > > > > > > > > -   The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
> > > > > > > > > > -   The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
> > > > > > > > > > -   Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
> > > > > > > > > >
> > > > > > > > > > > Proof-of-stake tends towards oligopolistic control
> > > > > > > > > >
> > > > > > > > > > People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
> > > > > > > > > >
> > > > > > > > > > > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
> > > > > > > > > >
> > > > > > > > > > I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
> > > > > > > > > >
> > > > > > > > > > > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
> > > > > > > > > >
> > > > > > > > > > I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
> > > > > > > > > >
> > > > > > > > > > > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
> > > > > > > > > >
> > > > > > > > > > Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
> > > > > > > > > >
> > > > > > > > > > > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
> > > > > > > > > >
> > > > > > > > > > This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
> > > > > > > > > >
> > > > > > > > > > > 2.  Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
> > > > > > > > > >
> > > > > > > > > > Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
> > > > > > > > > > On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > >
> > > > > > > > > > > Ah sorry, I didn't realize this was, in fact, a different thread! :)
> > > > > > > > > > > On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky mike at powx.org wrote:
> > > > > > > > > > >
> > > > > > > > > > > > Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
> > > > > > > > > > > > Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
> > > > > > > > > > > > Cheers,
> > > > > > > > > > > > Mike
> > > > > > > > > > > > On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > > > >
> > > > > > > > > > > > > 1.  i never suggested vdf's to replace pow.
> > > > > > > > > > > > >
> > > > > > > > > > > > > 2.  my suggestion was specifically in the context of a working
> > > > > > > > > > > > >     proof-of-burn protocol
> > > > > > > > > > > > >
> > > > > > > > > > > > >
> > > > > > > > > > > > > -   vdfs used only for timing (not block height)
> > > > > > > > > > > > > -   blind-burned coins of a specific age used to replace proof of work
> > > > > > > > > > > > > -   the required "work" per block would simply be a competition to
> > > > > > > > > > > > >     acquire rewards, and so miners would have to burn coins, well in
> > > > > > > > > > > > >     advance, and hope that their burned coins got rewarded in some far
> > > > > > > > > > > > >     future
> > > > > > > > > > > > >
> > > > > > > > > > > > > -   the point of burned coins is to mimic, in every meaningful way, the
> > > > > > > > > > > > >     value gained from proof of work... without some of the security
> > > > > > > > > > > > >     drawbacks
> > > > > > > > > > > > >
> > > > > > > > > > > > > -   the miner risks losing all of his burned coins (like all miners risk
> > > > > > > > > > > > >     losing their work in each block)
> > > > > > > > > > > > >
> > > > > > > > > > > > > -   new burns can't be used
> > > > > > > > > > > > > -   old burns age out (like ASICs do)
> > > > > > > > > > > > > -   other requirements on burns might be needed to properly mirror the
> > > > > > > > > > > > >     properties of PoW and the incentives Bitcoin uses to mine honestly.
> > > > > > > > > > > > >
> > > > > > > > > > > > >
> > > > > > > > > > > > > 3.  i do believe it is possible that a "burned coin + vdf system"
> > > > > > > > > > > > >     might be more secure in the long run, and that if the entire space
> > > > > > > > > > > > >     agreed that such an endeavor was worthwhile, a test net could be spun
> > > > > > > > > > > > >     up, and a hard-fork could be initiated.
> > > > > > > > > > > > >
> > > > > > > > > > > > > 4.  i would never suggest such a thing unless i believed it was
> > > > > > > > > > > > >     possible that consensus was possible. so no, this is not an "alt
> > > > > > > > > > > > >     coin"
> > > > > > > > > > > > >
> > > > > > > > > > > > >
> > > > > > > > > > > > > On Tue, May 18, 2021 at 10:02 AM Zac Greenwood zachgrw at gmail.com wrote:
> > > > > > > > > > > > >
> > > > > > > > > > > > > > Hi ZmnSCPxj,
> > > > > > > > > > > > > > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
> > > > > > > > > > > > > > Zac
> > > > > > > > > > > > > > On Tue, 18 May 2021 at 12:42, ZmnSCPxj ZmnSCPxj at protonmail.com wrote:
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > > Good morning Zac,
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > VDFs might enable more constant block times, for instance by having a two-step PoW:
> > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > 1.  Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
> > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > 2.  Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
> > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > As a result, variation in block times will be greatly reduced.
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
> > > > > > > > > > > > > > > Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even worse competition and even more energy consumption.
> > > > > > > > > > > > > > > After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where only you can mine in the entire world.
> > > > > > > > > > > > > > > Regards,
> > > > > > > > > > > > > > > ZmnSCPxj
> > > > > > > > > > > > >
> > > > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > > > >
> > > > > > > > > > > > --
> > > > > > > > > > > > Michael Dubrovsky
> > > > > > > > > > > > Founder; PoWx
> > > > > > > > > > > > www.PoWx.org
> > > > > > > > > > >
> > > > > > > > > > > --
> > > > > > > > > > > Michael Dubrovsky
> > > > > > > > > > > Founder; PoWx
> > > > > > > > > > > www.PoWx.org
> > > > > > > > > > >
> > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > >
> > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > >
> > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev




From erik at q32.com  Fri May 28 20:06:16 2021
From: erik at q32.com (Erik Aronesty)
Date: Fri, 28 May 2021 16:06:16 -0400
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <J3_n3ygIuQf54KXVl8jlbyahX5WJIzffVeDD3yt0RkRbPRyD56OPj3DT05wGJoEfI6XfLOq2DiaN-vdnXSdi7Q23NWrZ-Tg9jzM9jtx8-hg=@protonmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
 <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
 <CAJowKgKgGynQ9NYe_7xEai0tcBW4b=tQnNpv9vndx1hLCowfWg@mail.gmail.com>
 <J3_n3ygIuQf54KXVl8jlbyahX5WJIzffVeDD3yt0RkRbPRyD56OPj3DT05wGJoEfI6XfLOq2DiaN-vdnXSdi7Q23NWrZ-Tg9jzM9jtx8-hg=@protonmail.com>
Message-ID: <CAJowKgJTEHLeHpKUOavAY9hHZ_3hChkJnMX13K-pSUhch7JwdQ@mail.gmail.com>

best writeup i know of is here:

https://en.bitcoin.it/wiki/Proof_of_burn

no formal proposals or proofs that i know of.

On Fri, May 28, 2021 at 10:40 AM befreeandopen
<befreeandopen at protonmail.com> wrote:
>
> Erik, I am sorry, I have little knowledge about proof-of-burn, I never found it interesting up until now. Some of your recent claims seem quite strong to me and I'd like to read more.
>
> Forgive me if this has been mentioned recently, but is there a full specification of the concept you are referring to? I don't mean just the basic idea description (that much is clear to me), I mean a fully detailed proposal or technical documentation that would give me a precise information about what exactly it is that you are talking about.
>
>
> Sent with ProtonMail Secure Email.
>
> ??????? Original Message ???????
> On Wednesday, May 26, 2021 11:07 PM, Erik Aronesty <erik at q32.com> wrote:
>
> > note: the "nothing at stake" problem you propose is not broken for
> > proof-of-burn, because the attacker
> >
> > a) has no idea which past transactions are burns
> > b) has no way to use his mining power, even 5%, to maliciously improve
> > his odds of being selected
> >
> > On Wed, May 26, 2021 at 9:12 AM befreeandopen
> > befreeandopen at protonmail.com wrote:
> >
> > > @befreeandopen I guess I misunderstood your selfish minting attack. Let me make sure I understand it. You're saying it would go as follows?:
> > >
> > > 1.  The malicious actor comes across an opportunity to mint the next 3 blocks. But they hold off and don't release their blocks just yet.
> > > 2.  They receive a new block minted by someone else.
> > > 3.  The malicious actor then chooses to release their other 2 blocks on on the second from the top block if it gives them more blocks in the future than minting on the top block. And instead lets the top block proceed if it gives them more blocks in the future (also figuring in the 3 blocks they're missing out on minting).
> > > 4.  Profit!
> > >
> > > The problem with this attack is that any self respecting PoS system wouldn't have the information available for minters to know how blocks will affect their future prospects of minting. Otherwise this would introduce the problem of stake grinding. This can be done using collaborative randomness (where numbers from many parties are combined to create a random number that no individual party could predict). In fact, that's what the Casper protocol does to decide quorums. In a non quorum case, you can do something like record a hash of a number in the block header, and then have a second step to release that number later. Rewards can be given can be used to ensure minters act honestly here by minting messages that release these numbers and not releasing their secret numbers too early.
> > > Yes, you misunderstood it. First, let me say that the above thoughts of yours are incorrect, at least for non-quorum case. Since the transition in the blockchain system from S1 to S2 is only by adding new block, and since stakers always need to be able to decide whether or not they can add the next block, it follows that if a staker creates a new block locally, she can decide whether the new state allows her to add another block on top. As you mentioned, this COULD introduce problem of staking, that you are incorrect in that it is a necessity. Usual prevention of the grinding problem in this case is that an "old enough" source of randomness applies for the current block production process. Of course this, as it is typical for PoS, introduces other problems, but let's discard those.
> > > I will try to explain in detail what you misunderstood before. You start with a chain ending with blocks A-B-C, C being the top, the common feature of PoS system (non-quorum), roughly speaking, is that if N is the total amount of coins that participate in the staking process to create a new block on top of C (let's call that D), then a participant having K*N amount of stake has chance K to be the one who will create the next stake. In other words, the power of stakers is supposed to be linear in the system - you own 10 coins gives you 10x the chance of finding block over someone who has 1 coin.
> > > What i was claiming is that using the technique I have described, this linearity is violated. Why? Well, it works for honest stakers among the competition of honest stakers - they really do have the chance of K to find the next block. However, the attacker, using nothing at stake, checks her ability to build block D (at some timestamp). If she is successful, she does not propagate D immediately, but instead she also checks whether she can build on top of B and on top of A. Since with every new timestamp, usually, there is a new chance to build the block, it is not uncommon that she finds she is indeed able to build such block C' on top of B. Here it is likely t(C') > t(C) as the attacker has relatively low stake. Note that in order to produce such C', she not only could have tried the current timestamp t(D), but also all previous timestamps up to t(B) (usually that's the consensus rule, but it may depend on a specific consensus). So her chance to produce such C' is greater than her previous chance of producing C (which chance was limited by other stakers in the system and the discovery of block C by one of them). Now suppose that she found such C' and now she continues by trying to prolong this chain by finding D'. And again here, it is quite likely that her chance to find such D' is greater than was her chance of finding D because again there are likely multiple timestamps she could try. This all was possible just because nothing at stake allows you to just try if you can produce a block in certain state of block chain or not. Now if she actually was able to find D', she discards D and only publishes chain A-B-C'-D', which can not be punished despite the fact that she indeed produced two different forks. She can not be punished because this production was local and only the final result of A-B-C'-D' was published, in which case she gained an extra block over the honest strategy which would only give her block D.
> > > Fun fact tho: there is an attack called the "selfish mining attack" for proof of work, and it reduces the security of PoW by at least 1/3rd.
> > > How is that relevant to our discussion? This is known research that has nothing to do with PoS except that it is often worse on PoS.
> > >
> > > > the problem is not as hard as you think
> > >
> > > I don't claim to know just how hard finding the IP address associated with a bitcoin address is. However, the DOS risk can be solved more completely by only allowing the owner of coins themselves to know whether they can mint a block. Eg by determining whether someone can mint a block based on their public key hidden behind hashes (as normal in addresses). Only when someone does in fact mint a block do they reveal their hidden public key in order to prove they are allowed to mint the block.
> > > This is true, but you are mixing quorum and non-quorum systems. My objection here was towards such system where I specifically said that the list of producers for next epoch is known up front and you confirmed that this is what you meant with "quorum" system. So in such system, I claimed, the known producer is the only target at any given point of time. This of course does not apply to any other type of system where future producers are not known. No need to dispute, again, something that was not claimed.
> > >
> > > > I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message)
> > >
> > > I'm glad we agree there. Perhaps I misunderstood what you meant by "you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere."
> > > Perhaps you should quote the full sentence and not just a part of it:
> > > "Of course you can always change the rules in a way that a certain specific attack is not doable, but you should not omit to mention that by doing so, typically, you have introduced another problem elsewhere, or you have not solved it completely."
> > > You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT COMPLETELY)
> > > In case of the punishment it was meant to be the not solve it completely part.
> > > Also "typically" does not imply always.
> > > But this parsing of English sentences for you seems very off topic here. My point is, in context of Bitcoin, reject such unsupported claims that PoS is a reasonable alternative to PoW, let's stick to that.
> > >
> > > > As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake
> > >
> > > Well, if you're in the closed system of the cryptocurrency, sure. But we don't live in that closed system. Minters will earn some ROI from minting just like any other financial activity. Others may find more success spending their time doing things other than figuring out how to mint coins. In that case, they'll be able to earn more coin that they could later decide to use to mint blocks if they decide to.
> > > This only supports the point I was making. Since the optimal scenario with all existing coins participating is just theoretical, the attacker's position will ever so improve. It seems we are in agreement here, great.
> > >
> > > > Just because of the above we must reject PoS as being critically insecure
> > >
> > > I think the only thing we can conclude from this is that you have come up with an insecure proof of stake protocol. I don't see how anything you've brought up amounts to substantial evidence that all possible PoS protocols are insecure.
> > > I have not come up with anything. I'm afraid you've not realized the burden of proof is on your side if you vouch for a design that is not believed and trusted to be secure. It is up to you to show that you know how to solve every problem that people throw at you. So far we have just demonstrated that your claim that nothing at stake is solved was unjustified. You have not described a system that would solve it (and not introduce critical DDOS attack vector as it is in quorum based systems - per the prior definition of such systems).
> > > Of course the list of problems of PoS systems do not end with just nothing at stake, but it is good enough example that by itself prevents its adoption in decentralized consensus. No need to go to other hard problems without solving nothing at stake.
> > > On Tue, May 25, 2021 at 11:10 AM befreeandopen befreeandopen at protonmail.com wrote:
> > >
> > > > @befreeandopen " An attacker can calculate whether or not she can prolong this chain or not and if so with what timestamp."
> > > > The scenario you describe would only be likely to happen at all if the malicious actor has a very large fraction of the stake - probably quite close to 50%. At that point, you're talking about a 51% attack, not the nothing at stake problem. The nothing at stake problem is the problem where anyone will mint on any chain. Its clear that if there's a substantial punishment for minting on chains other than the one that eventually wins, every minter without a significant fraction of the stake will be honest and not attempt to mint on old blocks or support someone else's attempt to mint on old blocks (until and if it becomes the heaviest chain). Because the attacker would need probably >45% of the active stake (take a look at the reasoning here for a deeper analysis of that statement), I don't agree that punishment is not a sufficient mitigation of the nothing at stake problem. To exploit the nothing at stake problem, you basically need to 51% attack, at which point you've exceeded the operating conditions of the system, so of course its gonna have problems, just like a 51% attack would cause with PoW.
> > > > This is not at all the case. The attacker benefits using the described technique at any size of the stake and significantly so with just 5% of the stake. By significantly, I do not mean that the attacker is able to completely take control the network (in short term), but rather that the attacker has significant advantage in the number of blocks she creates compared to what she "should be able to create". This means the attacker's stake increases significantly faster than of the honest nodes, which in long term is very serious in PoS system. If you believe close to 50% is needed for that, you need to redo your math. So no, you are wrong stating that "to exploit nothing at stake problem you basically need to 51% attack". It is rather the opposite - eventually, nothing at stake attack leads to ability to perform 51% attack.
> > > >
> > > > > I am not sure if this is what you call quorum-based PoS
> > > >
> > > > Yes, pre-selected minters is exactly what I mean by that.
> > > >
> > > > > it allows the attacker to know who to attack at which point with powerful DDOS in order to hurt liveness of such system
> > > >
> > > > Just like in bitcoin, associating keys with IP addresses isn't generally an easy thing to do on the fly like that. If you know someone's IP address, you can target them. But if you only know their address or public key, the reverse isn't as easy. With a quorum-based PoS system, you can see their public key and address, but finding out their IP to DOS would be a huge challenge I think.
> > > > I do not dispute that the problem is not trivial, but the problem is not as hard as you think. The network graph analysis is a known technique and it is not trivial, but not very hard either. Introducing a large number of nodes to the system to achieve very good success rate of analysis of area of origin of blocks is doable and has been done in past. So again, I very much disagree with your conclusion that this is somehow secure. It is absolutely insecure.
> > > > Note, tho, that quorum-based PoS generally also have punishments as part of the protocol. The introduction of punishments do indeed handily solve the nothing at stake problem. And you didn't mention a single problem that the punishments introduce that weren't already there before punishments. There are tradeoffs with introducing punishments (eg in some cases you might punish honest actors), but they are minor in comparison to solving the nothing at stake problem.
> > > > While I agree that introduction of punishment itself does not imply introducing a problem elsewhere (which I did not claim if you reread my previous message), it does introduce additional complexity which may introduce problem, but more importantly, while it slightly improves resistance against the nothing at stake attack, it solves absolutely nothing. Your claim is based on wrong claim of needed close to 50% stake, but that could not be farther from the truth. It is not true even in optimal conditions when all participants of the network stake or delegate their stake. These optimal conditions rarely, if ever, occur. And that's another thing that we have not mention in our debate, so please allow me to introduce another problem to PoS.
> > > > Consider what is needed for such optimal conditions to occur - all coins are always part of the stake, which means that they need to somehow automatically part of the staking process even when they are moved. But in many PoS systems you usually require some age (in terms of confirmations) of the coin before you allow it to be used for participation in staking process and that is for a good reason - to prevent various grinding attacks. In some systems the coin must be specifically registered before it can be staked, in others, simply waiting for enough confirmations enables you to stake with the coin. I am not sure if there is a system which does not have this cooling period for a coin that has been moved. Maybe it is possible though, but AFAIK it is not common and not battle tested feature.
> > > > Then if we admit that achieving the optimal condition is rather theoretical. Then if we do not have the optimal condition, it means that a staker with K% of the total available supply increases it's percentage over time to some amounts >K%. As long as the staker makes sure (which is not that hard) that she does not miss a chance to create a block, her significance in the system will always increase in time. It will increase relative to all normal users who do not stake (if there are any) and relative to all other stakers who make mistakes or who are not wealthy enough to afford not selling any position ever. But powerful attacker is exactly in such position and thus she will gain significance in such a system. The technique I have described, and that you mistakenly think is viable only with huge amounts of stake, only puts the attacker to even greater advantage. But even without the described attack (which exploits nothing at stake), the PoS system converges to a system more and more controlled by powerful entity, which we can assume is the attacker.
> > > > So I don't think it is at all misleading to claim that "nothing at stake" is a solved problem. I do in fact mean that the solutions to that problem don't introduce any other problems with anywhere near the same level of significance.
> > > > It still stands as truly misleading claim. I disagree that introducing DDOS opportunity with medium level of difficulty for the attacker to implement it, in case of "quorum-based PoS" is not a problem anywhere near the same level of significance. Such an attack vector allows you to turn off the network if you spend some time and money. That is hardly acceptable.
> > > > Just because of the above we must reject PoS as being critically insecure until someone invents and demonstrates an actual way of solving these issues.
> > > > On Tue, May 25, 2021 at 3:00 AM Erik Aronesty erik at q32.com wrote:
> > > >
> > > > > > > you burn them to be used at a future particular block height
> > > > >
> > > > > > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
> > > > >
> > > > > could be right. the original idea was to have burns decay over time,
> > > > > like ASIC's.
> > > > > anyway the point was not that "i had a magic formula"
> > > > > the point was that proof of burn is almost always better than proof of
> > > > > stake - simply because the "proof" is on-chain, not sitting on a node
> > > > > somewhere waiting to be stolen.
> > > > > On Mon, May 24, 2021 at 9:53 PM Billy Tetrud billy.tetrud at gmail.com wrote:
> > > > >
> > > > > > Is this the kind of proof of burn you're talking about?
> > > > > >
> > > > > > > if i have a choice between two chains, one longer and one shorter, i can only choose one... deterministically
> > > > > >
> > > > > > What prevents you from attempting to mine block 553 on both chains?
> > > > > >
> > > > > > > miners have a very strong, long-term, investment in the stability of the chain.
> > > > > >
> > > > > > Yes, but the same can be said of any coin, even ones that do have the nothing at stake problem. This isn't sufficient tho because the chain is a common good, and the tragedy of the commons holds for it.
> > > > > >
> > > > > > > you burn them to be used at a future particular block height
> > > > > >
> > > > > > This sounds exploitable. It seems like an attacker could simply focus all their burns on a particular set of 6 blocks to double spend, minimizing their cost of attack.
> > > > > >
> > > > > > > i can imagine scenarios where large stakeholders can collude to punish smaller stakeholders simply to drive them out of business, for example
> > > > > >
> > > > > > Are you talking about a 51% attack? This is possible in any decentralized cryptocurrency.
> > > > > > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty erik at q32.com wrote:
> > > > > >
> > > > > > > > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
> > > > > > > > > I'm fuzzy on how proof of burn works.
> > > > > > >
> > > > > > > when you burn coins, you burn them to be used at a future particular
> > > > > > > block height: so if i'm burning for block 553, i can only use them to
> > > > > > > mine block 553. if i have a choice between two chains, one longer
> > > > > > > and one shorter, i can only choose one... deterministically, for that
> > > > > > > burn: the chain with the height 553. if we fix the "lead time" for
> > > > > > > burned coins to be weeks or even months in advance, miners have a very
> > > > > > > strong, long-term, investment in the stability of the chain.
> > > > > > > therefore there is no "nothing at stake" problem. it's
> > > > > > > deterministic, so miners have no choice. they can only choose the
> > > > > > > transactions that go into the block. they cannot choose which chain
> > > > > > > to mine, and it's time-locked, so rollbacks and instability always
> > > > > > > hurt miners the most.
> > > > > > > the "punishment" systems of PoS are "weird at best", certainly
> > > > > > > unproven. i can imagine scenarios where large stakeholders can
> > > > > > > collude to punish smaller stakeholders simply to drive them out of
> > > > > > > business, for example. and then you have to put checks in place to
> > > > > > > prevent that, and more checks for those prevention system...
> > > > > > > in PoB, there is no complexity. simpler systems like this are
> > > > > > > typically more secure.
> > > > > > > PoB also solves problems caused by "energy dependence", which could
> > > > > > > lead to state monopolies on mining (like the new Bitcoin Mining
> > > > > > > Council). these consortiums, if state sanctioned, could become a
> > > > > > > source of censorship, for example. Since PoB doesn't require you to
> > > > > > > have a live, well-connected node, it's harder to censor & harder to
> > > > > > > trace.
> > > > > > > Eliminating this weakness seems to be in the best interests of
> > > > > > > existing stakeholders
> > > > > > > On Mon, May 24, 2021 at 4:44 PM Billy Tetrud billy.tetrud at gmail.com wrote:
> > > > > > >
> > > > > > > > > proof of burn clearly solves this, since nothing is held online
> > > > > > > >
> > > > > > > > Well.. the coins to be burned need to be online when they're burned. But yes, only a small fraction of the total coins need to be online.
> > > > > > > >
> > > > > > > > > your burn investment is always "at stake", any redaction can result in a loss-of-burn, because burns can be tied, precisely, to block-heights
> > > > > > > >
> > > > > > > > So you're saying that if say someone tries to mine a block on a shorter chain, that requires them to send a transaction burning their coins, and that transaction could also be spent on the longest chain, which means their coins are burned even if the chain they tried to mine on doesn't win? I'm fuzzy on how proof of burn works.
> > > > > > > >
> > > > > > > > > proof of burn can be more secure than proof-of-stake
> > > > > > > >
> > > > > > > > FYI, proof of stake can be done without the "nothing at stake" problem. You can simply punish people who mint on shorter chains (by rewarding people who publish proofs of this happening on the main chain). In quorum-based PoS, you can punish people in the quorum that propose or sign multiple blocks for the same height. The "nothing at stake" problem is a solved problem at this point for PoS.
> > > > > > > > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty erik at q32.com wrote:
> > > > > > > >
> > > > > > > > > > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
> > > > > > > > >
> > > > > > > > > proof of burn clearly solves this, since nothing is held online
> > > > > > > > >
> > > > > > > > > > how does proof of burn solve the "nothing at stake" problem in your view?
> > > > > > > > >
> > > > > > > > > definition of nothing at stake: in the event of a fork, whether the
> > > > > > > > > fork is accidental or a malicious, the optimal strategy for any miner
> > > > > > > > > is to mine on every chain, so that the miner gets their reward no
> > > > > > > > > matter which fork wins. indeed in proof-of-stake, the proofs are
> > > > > > > > > published on the very chains mines, so the incentive is magnified.
> > > > > > > > > in proof-of-burn, your burn investment is always "at stake", any
> > > > > > > > > redaction can result in a loss-of-burn, because burns can be tied,
> > > > > > > > > precisely, to block-heights
> > > > > > > > > as a result, miners no longer have an incentive to mine all chains
> > > > > > > > > in this way proof of burn can be more secure than proof-of-stake, and
> > > > > > > > > even more secure than proof of work
> > > > > > > > >
> > > > > > > > > >
> > > > > > > > >
> > > > > > > > > On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via bitcoin-dev
> > > > > > > > > bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > >
> > > > > > > > > > Hi Billy,
> > > > > > > > > > I was going to write a post which started by dismissing many of the weak arguments that are made against PoS made in this thread and elsewhere.
> > > > > > > > > > Although I don't agree with all your points you have done a decent job here so I'll focus on the second part: why I think Proof-of-Stake is inappropriate for a Bitcoin-like system.
> > > > > > > > > > Proof of stake is not fit for purpose for a global settlement layer in a pure digital asset (i.e. "digital gold") which is what Bitcoin is trying to be.
> > > > > > > > > > PoS necessarily gives responsibilities to the holders of coins that they do not want and cannot handle.
> > > > > > > > > > In Bitcoin, large unsophisticated coin holders can put their coins in cold storage without a second thought given to the health of the underlying ledger.
> > > > > > > > > > As much as hardcore Bitcoiners try to convince them to run their own node, most don't, and that's perfectly acceptable.
> > > > > > > > > > At no point do their personal decisions affect the underlying consensus -- it only affects their personal security assurance (not that of the system itself).
> > > > > > > > > > In PoS systems this clean separation of responsibilities does not exist.
> > > > > > > > > > I think that the more rigorously studied PoS protocols will work fine within the security claims made in their papers.
> > > > > > > > > > People who believe that these protocols are destined for catastrophic consensus failure are certainly in for a surprise.
> > > > > > > > > > But the devil is in the detail.
> > > > > > > > > > Let's look at what the implications of using the leading proof of stake protocols would have on Bitcoin:
> > > > > > > > > >
> > > > > > > > > > ### Proof of SquareSpace (Cardano, Polkdadot)
> > > > > > > > > >
> > > > > > > > > > Cardano is a UTXO based PoS coin based on Ouroboros Praos3 with an inbuilt on-chain delegation system5.
> > > > > > > > > > In these protocols, coin holders who do not want to run their node with their hot keys in it delegate it to a "Stake Pool".
> > > > > > > > > > I call the resulting system Proof-of-SquareSpace since most will choose a pool by looking around for one with a nice website and offering the largest share of the block reward.
> > > > > > > > > > On the surface this might sound no different than someone with an mining rig shopping around for a good mining pool but there are crucial differences:
> > > > > > > > > >
> > > > > > > > > > 1.  The person making the decision is forced into it just because they own the currency -- someone with a mining rig has purchased it with the intent to make profit by participating in consensus.
> > > > > > > > > >
> > > > > > > > > > 2.  When you join a mining pool your systems are very much still online. You are just partaking in a pool to reduce your profit variance. You still see every block that you help create and you never help create a block without seeing it first.
> > > > > > > > > >
> > > > > > > > > > 3.  If by SquareSpace sybil attack you gain a dishonest majority and start censoring transactions how are the users meant to redelegate their stake to honest pools?
> > > > > > > > > >     I guess they can just send a transaction delegating to another pool...oh wait I guess that might be censored too! This seems really really bad.
> > > > > > > > > >     In Bitcoin, miners can just join a different pool at a whim. There is nothing the attacker can do to stop them. A temporary dishonest majority heals relatively well.
> > > > > > > > > >
> > > > > > > > > >
> > > > > > > > > > There is another severe disadvantage to this on-chain delegation system: every UTXO must indicate which staking account this UTXO belongs to so the appropriate share of block rewards can be transferred there.
> > > > > > > > > > Being able to associate every UTXO to an account ruins one of the main privacy advantages of the UTXO model.
> > > > > > > > > > It also grows the size of the blockchain significantly.
> > > > > > > > > >
> > > > > > > > > > ### "Pure" proof of stake (Algorand)
> > > > > > > > > >
> > > > > > > > > > Algorand's4 approach is to only allow online stake to participate in the protocol.
> > > > > > > > > > Theoretically, This means that keys holding funds have to be online in order for them to author blocks when they are chosen.
> > > > > > > > > > Of course in reality no one wants to keep their coin holding keys online so in Alogorand you can authorize a set of "participation keys"1 that will be used to create blocks on your coin holding key's behalf.
> > > > > > > > > > Hopefully you've spotted the problem.
> > > > > > > > > > You can send your participation keys to any malicious party with a nice website (see random example 2) offering you a good return.
> > > > > > > > > > Damn it's still Proof-of-SquareSpace!
> > > > > > > > > > The minor advantage is that at least the participation keys expire after a certain amount of time so eventually the SquareSpace attacker will lose their hold on consensus.
> > > > > > > > > > Importantly there is also less junk on the blockchain because the participation keys are delegated off-chain and so are not making as much of a mess.
> > > > > > > > > >
> > > > > > > > > > ### Conclusion
> > > > > > > > > >
> > > > > > > > > > I don't see a way to get around the conflicting requirement that the keys for large amounts of coins should be kept offline but those are exactly the coins we need online to make the scheme secure.
> > > > > > > > > > If we allow delegation then we open up a new social attack surface and it degenerates to Proof-of-SquareSpace.
> > > > > > > > > > For a "digital gold" like system like Bitcoin we optimize for simplicity and desperately want to avoid extraneous responsibilities for the holder of the coin.
> > > > > > > > > > After all, gold is an inert element on the periodic table that doesn't confer responsibilities on the holder to maintain the quality of all the other bars of gold out there.
> > > > > > > > > > Bitcoin feels like this too and in many ways is more inert and beautifully boring than gold.
> > > > > > > > > > For Bitcoin to succeed I think we need to keep it that way and Proof-of-Stake makes everything a bit too exciting.
> > > > > > > > > > I suppose in the end the market will decide what is real digital gold and whether these bad technical trade offs are worth being able to say it uses less electricity. It goes without saying that making bad technical decisions to appease the current political climate is an anathema to Bitcoin.
> > > > > > > > > > Would be interested to know if you or others think differently on these points.
> > > > > > > > > > Cheers,
> > > > > > > > > > LL
> > > > > > > > > > On Fri, 21 May 2021 at 19:21, Billy Tetrud via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > >
> > > > > > > > > > > I think there is a lot of misinformation and bias against Proof of Stake. Yes there have been lots of shady coins that use insecure PoS mechanisms. Yes there have been massive issues with distribution of PoS coins (of course there have also been massive issues with PoW coins as well). However, I want to remind everyone that there is a difference between "proved to be impossible" and "have not achieved recognized success yet". Most of the arguments levied against PoS are out of date or rely on unproven assumptions or extrapolation from the analysis of a particular PoS system. I certainly don't think we should experiment with bitcoin by switching to PoS, but from my research, it seems very likely that there is a proof of stake consensus protocol we could build that has substantially higher security (cost / capital required to execute an attack) while at the same time costing far less resources (which do translate to fees on the network) without compromising any of the critical security properties bitcoin relies on. I think the critical piece of this is the disagreements around hardcoded checkpoints, which is a critical piece solving attacks that could be levied on a PoS chain, and how that does (or doesn't) affect the security model.
> > > > > > > > > > > @Eric Your proof of stake fallacy seems to be saying that PoS is worse when a 51% attack happens. While I agree, I think that line of thinking omits important facts:
> > > > > > > > > > >
> > > > > > > > > > > -   The capital required to 51% attack a PoS chain can be made substantially greater than on a PoS chain.
> > > > > > > > > > > -   The capital the attacker stands to lose can be substantially greater as well if the attack is successful.
> > > > > > > > > > > -   The effectiveness of paying miners to raise the honest fraction of miners above 50% may be quite bad.
> > > > > > > > > > > -   Allowing a 51% attack is already unacceptable. It should be considered whether what happens in the case of a 51% may not be significantly different. The currency would likely be critically damaged in a 51% attack regardless of consensus mechanism.
> > > > > > > > > > >
> > > > > > > > > > > > Proof-of-stake tends towards oligopolistic control
> > > > > > > > > > >
> > > > > > > > > > > People repeat this often, but the facts support this. There is no centralization pressure in any proof of stake mechanism that I'm aware of. IE if you have 10 times as much coin that you use to mint blocks, you should expect to earn 10x as much minting revenue - not more than 10x. By contrast, proof of work does in fact have clear centralization pressure - this is not disputed. Our goal in relation to that is to ensure that the centralization pressure remains insignifiant. Proof of work also clearly has a lot more barriers to entry than any proof of stake system does. Both of these mean the tendency towards oligopolistic control is worse for PoW.
> > > > > > > > > > >
> > > > > > > > > > > > Energy usage, in-and-of-itself, is nothing to be ashamed of!!
> > > > > > > > > > >
> > > > > > > > > > > I certainly agree. Bitcoin's energy usage at the moment is I think quite warranted. However, the question is: can we do substantially better. I think if we can, we probably should... eventually.
> > > > > > > > > > >
> > > > > > > > > > > > Proof of Stake is only resilient to ? of the network demonstrating a Byzantine Fault, whilst Proof of Work is resilient up to the ? threshold
> > > > > > > > > > >
> > > > > > > > > > > I see no mention of this in the pos.pdf you linked to. I'm not aware of any proof that all PoS systems have a failure threshold of 1/3. I know that staking systems like Casper do in fact have that 1/3 requirement. However there are PoS designs that should exceed that up to nearly 50% as far as I'm aware. Proof of work is not in fact resilient up to the 1/2 threshold in the way you would think. IE, if 100% of miners are currently honest and have a collective 100 exahashes/s hashpower, an attacker does not need to obtain 100 exahashes/s, but actually only needs to accumulate 50 exahashes/s. This is because as the attacker accumulates hashpower, it drives honest miners out of the market as the difficulty increases to beyond what is economically sustainable. Also, its been shown that the best proof of work can do is require an attacker to obtain 33% of the hashpower because of the selfish mining attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243. Together, both of these things reduce PoW's security by a factor of about 83% (1 - 50%*33%).
> > > > > > > > > > >
> > > > > > > > > > > > Proof of Stake requires other trade-offs which are incompatible with Bitcoin's objective (to be a trustless digital cash) ? specifically the famous "security vs. liveness" guarantee
> > > > > > > > > > >
> > > > > > > > > > > Do you have a good source that talks about why you think proof of stake cannot be used for a trustless digital cash?
> > > > > > > > > > >
> > > > > > > > > > > > You cannot gain tokens without someone choosing to give up those coins - a form of permission.
> > > > > > > > > > >
> > > > > > > > > > > This is not a practical constraint. Just like in mining, some nodes may reject you, but there will likely be more that will accept you, some sellers may reject you, but most would accept your money as payment for bitcoins. I don't think requiring the "permission" of one of millions of people in the market can be reasonably considered a "permissioned currency".
> > > > > > > > > > >
> > > > > > > > > > > > 2.  Proof of stake must have a trusted means of timestamping to regulate overproduction of blocks
> > > > > > > > > > >
> > > > > > > > > > > Both PoW and PoS could mine/mint blocks twice as fast if everyone agreed to double their clock speeds. Both systems rely on an honest majority sticking to standard time.
> > > > > > > > > > > On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > > >
> > > > > > > > > > > > Ah sorry, I didn't realize this was, in fact, a different thread! :)
> > > > > > > > > > > > On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky mike at powx.org wrote:
> > > > > > > > > > > >
> > > > > > > > > > > > > Folks, I suggest we keep the discussion to PoW, oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess there are other threads going on these topics already where they would be relevant.
> > > > > > > > > > > > > Also, it's important to distinguish between oPoW and these other "alternatives" to Hashcash. oPoW is a true Proof of Work that doesn't alter the core game theory or security assumptions of Hashcash and actually contains SHA (can be SHA3, SHA256, etc hash is interchangeable).
> > > > > > > > > > > > > Cheers,
> > > > > > > > > > > > > Mike
> > > > > > > > > > > > > On Tue, May 18, 2021 at 4:55 PM Erik Aronesty via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > > > > >
> > > > > > > > > > > > > > 1.  i never suggested vdf's to replace pow.
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > 2.  my suggestion was specifically in the context of a working
> > > > > > > > > > > > > >     proof-of-burn protocol
> > > > > > > > > > > > > >
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > -   vdfs used only for timing (not block height)
> > > > > > > > > > > > > > -   blind-burned coins of a specific age used to replace proof of work
> > > > > > > > > > > > > > -   the required "work" per block would simply be a competition to
> > > > > > > > > > > > > >     acquire rewards, and so miners would have to burn coins, well in
> > > > > > > > > > > > > >     advance, and hope that their burned coins got rewarded in some far
> > > > > > > > > > > > > >     future
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > -   the point of burned coins is to mimic, in every meaningful way, the
> > > > > > > > > > > > > >     value gained from proof of work... without some of the security
> > > > > > > > > > > > > >     drawbacks
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > -   the miner risks losing all of his burned coins (like all miners risk
> > > > > > > > > > > > > >     losing their work in each block)
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > -   new burns can't be used
> > > > > > > > > > > > > > -   old burns age out (like ASICs do)
> > > > > > > > > > > > > > -   other requirements on burns might be needed to properly mirror the
> > > > > > > > > > > > > >     properties of PoW and the incentives Bitcoin uses to mine honestly.
> > > > > > > > > > > > > >
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > 3.  i do believe it is possible that a "burned coin + vdf system"
> > > > > > > > > > > > > >     might be more secure in the long run, and that if the entire space
> > > > > > > > > > > > > >     agreed that such an endeavor was worthwhile, a test net could be spun
> > > > > > > > > > > > > >     up, and a hard-fork could be initiated.
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > 4.  i would never suggest such a thing unless i believed it was
> > > > > > > > > > > > > >     possible that consensus was possible. so no, this is not an "alt
> > > > > > > > > > > > > >     coin"
> > > > > > > > > > > > > >
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > On Tue, May 18, 2021 at 10:02 AM Zac Greenwood zachgrw at gmail.com wrote:
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > > Hi ZmnSCPxj,
> > > > > > > > > > > > > > > Please note that I am not suggesting VDFs as a means to save energy, but solely as a means to make the time between blocks more constant.
> > > > > > > > > > > > > > > Zac
> > > > > > > > > > > > > > > On Tue, 18 May 2021 at 12:42, ZmnSCPxj ZmnSCPxj at protonmail.com wrote:
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > Good morning Zac,
> > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > VDFs might enable more constant block times, for instance by having a two-step PoW:
> > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > 1.  Use a VDF that takes say 9 minutes to resolve (VDF being subject to difficulty adjustments similar to the as-is). As per the property of VDFs, miners are able show proof of work.
> > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > 2.  Use current PoW mechanism with lower difficulty so finding a block takes 1 minute on average, again subject to as-is difficulty adjustments.
> > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > As a result, variation in block times will be greatly reduced.
> > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > As I understand it, another weakness of VDFs is that they are not inherently progress-free (their sequential nature prevents that; they are inherently progress-requiring).
> > > > > > > > > > > > > > > > Thus, a miner which focuses on improving the amount of energy that it can pump into the VDF circuitry (by overclocking and freezing the circuitry), could potentially get into a winner-takes-all situation, possibly leading to even worse competition and even more energy consumption.
> > > > > > > > > > > > > > > > After all, if you can start mining 0.1s faster than the competition, that is a 0.1s advantage where only you can mine in the entire world.
> > > > > > > > > > > > > > > > Regards,
> > > > > > > > > > > > > > > > ZmnSCPxj
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > > > > >
> > > > > > > > > > > > > --
> > > > > > > > > > > > > Michael Dubrovsky
> > > > > > > > > > > > > Founder; PoWx
> > > > > > > > > > > > > www.PoWx.org
> > > > > > > > > > > >
> > > > > > > > > > > > --
> > > > > > > > > > > > Michael Dubrovsky
> > > > > > > > > > > > Founder; PoWx
> > > > > > > > > > > > www.PoWx.org
> > > > > > > > > > > >
> > > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > > >
> > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > >
> > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
>


From darosior at protonmail.com  Fri May 28 22:25:16 2021
From: darosior at protonmail.com (darosior)
Date: Fri, 28 May 2021 22:25:16 +0000
Subject: [bitcoin-dev] A Stroll through Fee-Bumping Techniques :
	Input-Based vs Child-Pay-For-Parent
In-Reply-To: <CALZpt+G3cVam9oJRHA=11j9k7k4Fo99dP39P4pbWeHfh79Xs-g@mail.gmail.com>
References: <CALZpt+FvLb=N5Qygs+dPmh1o9QCwXj8RoznF5n47opOq7CG_0g@mail.gmail.com>
 <sfryINjjAWF5hDSvohEhqCl2nBlllag5nA9tiPleUb1HyjmBcb6Y6v7VwIfaHVXfyiXAHGAgQfbwNsIz8dvckOSjV-zxaq7DckjHStYPJZU=@protonmail.com>
 <CALZpt+G3cVam9oJRHA=11j9k7k4Fo99dP39P4pbWeHfh79Xs-g@mail.gmail.com>
Message-ID: <v4UrF63P8_Mvu9QiyP4bK6zkfHpmLR0eT2gfckNnvA8cNjRr6hcCZMenJid7lNtUQgtI2NcxjfHuvgmRXCp0WQMqCh_Nwo2Xx7nHESvgogY=@protonmail.com>

> Oh yes, I should have mentioned this pinning vector. The witnessScript I've in mind to make secure that type of chain of transactions would be one MuSig key for all contract participants, where signature are committed with SIGHASH_ANYPREVOUT | SIGHASH_IOMAP, one pubkey per participant to lockdown the transaction with SIGHASH_ALL. I think it works and prevents malicious in-flight attachment of input/output to a multi-party transaction ?

So something like `or(and(pk(FB),pk(A)),and(pk(FB),pk(B)),and(pk(FB),pk(C)))` with each `or` in their own leaf? I think it works, but only if the keys `A`, `B`, `C` are "hot", as in available to the
fee-bumper. For Revault it means introducing a key for each watchtower in the vaults descriptors, which is meh but technically feasible since they are identified. This kinda break our replication
model though. On the other end for Lightning... You'd need to know what watchtower (or your node) is going to be willing to feebump? The descriptor can very quickly get very convoluted:
`or(and(pk(FB),pk(A_NODE)),and(pk(FB),pk(A_WT1)),and(pk(FB),pk(A_WT2)),and(pk(FB),pk(B_NODE)),and(pk(FB),pk(B_WT1)),and(pk(FB),pk(B_WT2)))` for only 2 participants in a channel
where one of either the node or two watchtowers (identified beforehand !!) can feebump.

> I see, so you spread your bumping UTXO pool in two ranges : at least one bumping utxo per contract, and a subpool of emergency smaller coins, ready to be attached on any contract. I think this strategy makes sense for vaults as you can afford a bunch of small coins at different feerates, spending the ones not used afterwards. And higher cells of feerate reserve as the worst historical feerate are relatively not that much compared to locked-in vaults value. That said, I'm more dubious about LN, where node operators might not keep the worst-case fee-bumping reserve, as the time value of the coins aren't worth the channel liquidity at stake.

Yes. That's a bit concerning, but i guess it's a tradeoff. Amusingly the incentive is at odds with routing: you want to keep your channels unbalanced if you run on fractional fee-bumping reserves
so that if things go south you can still salvage most of your funds by focusing your fee-bumping on the unbalanced (to you) channels :p .

> Yes, input-based bumping targeting the tail of the chain works at the transaction level. But if you assume bounded visibility of network mempools, one of your counterparties might have broadcast a concurrent state, thus making your CPFP irrelevant for propagation. Though smarter tx-relay techniques such as "attach-on-contract-utxo-root" CPFP (or also known as "blinded CPFP") might solve this issue.

Oh, yes, good point.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210528/e838d90f/attachment.html>

From billy.tetrud at gmail.com  Fri May 28 21:40:19 2021
From: billy.tetrud at gmail.com (Billy Tetrud)
Date: Fri, 28 May 2021 11:40:19 -1000
Subject: [bitcoin-dev] Opinion on proof of stake in future
In-Reply-To: <CAJowKgJTEHLeHpKUOavAY9hHZ_3hChkJnMX13K-pSUhch7JwdQ@mail.gmail.com>
References: <6do5xN2g5LPnFeM55iJ-4C4MyXOu_KeXxy68Xt4dJQMhi3LJ8ZrLICmEUlh8JGfDmsDG12m1JDAh0e0huwK_MlyKpdfn22ru3zsm7lYLfBo=@protonmail.com>
 <CAJowKgJYUkxJ4htPvCLtARRr0Db13+BKzWtG40DEv6uEOh5yXw@mail.gmail.com>
 <CAGpPWDY4KgNVEoMDAJkWReX4zUUjDuB5SwB0Ap6OU98fuK4DxA@mail.gmail.com>
 <CAJowKgJWZ++6NkbYk15NBtA7x37of0n3_qF1UjCbV0Ui7XG8zA@mail.gmail.com>
 <CAGpPWDZs5Y10Fjbt8OPx3jEqjgNdQLODNdTW4iRyXTrpuNGFQQ@mail.gmail.com>
 <3TVoontwJmoMv0tp1S5MU_U8icxcQZfajtbNEXqOjuvO7GpfUQdh9pEGSIbLEYJndrDa_dJQqa0sSwY-BmuCmyHMRWqa9lEaUjZJSP5Vbyw=@protonmail.com>
 <CAGpPWDbqZLzMog4s9SPVm5xstbJbsHwND6x3qWHR-dh6naCnNQ@mail.gmail.com>
 <L1IhpSfDNx5OPXYnHfcFDiOzJa8jihbR8YE4MBRaYjuQt2GQsrNd0UnJaJg_mCgHNOcG6QE1Wrwp6zZ-YxOgDNu_aBE67HJkbemHz5Nz9c4=@protonmail.com>
 <CAJowKgKgGynQ9NYe_7xEai0tcBW4b=tQnNpv9vndx1hLCowfWg@mail.gmail.com>
 <J3_n3ygIuQf54KXVl8jlbyahX5WJIzffVeDD3yt0RkRbPRyD56OPj3DT05wGJoEfI6XfLOq2DiaN-vdnXSdi7Q23NWrZ-Tg9jzM9jtx8-hg=@protonmail.com>
 <CAJowKgJTEHLeHpKUOavAY9hHZ_3hChkJnMX13K-pSUhch7JwdQ@mail.gmail.com>
Message-ID: <CAGpPWDbT-epwo5puaDdJG87Y-9fmKwFnxJTU8qEUAP9J39=itQ@mail.gmail.com>

@befreeandopen   "If you want to make some arbitrary very narrow
definitions of what nothing at stake is so that you can claim your false
statement that it is a solved problem"

Wow, you are really unnecessarily hostile. This isn't r/bitcoin my friend.
Please assume some good faith. I simply pointed out my misunderstanding.
But it sounds like you're not willing to explain yourself clearly nor
actually have a reasoned discussion and prefer to insult me. So I think our
conversation is indeed over.

On Fri, May 28, 2021 at 10:06 AM Erik Aronesty <erik at q32.com> wrote:

> best writeup i know of is here:
>
> https://en.bitcoin.it/wiki/Proof_of_burn
>
> no formal proposals or proofs that i know of.
>
> On Fri, May 28, 2021 at 10:40 AM befreeandopen
> <befreeandopen at protonmail.com> wrote:
> >
> > Erik, I am sorry, I have little knowledge about proof-of-burn, I never
> found it interesting up until now. Some of your recent claims seem quite
> strong to me and I'd like to read more.
> >
> > Forgive me if this has been mentioned recently, but is there a full
> specification of the concept you are referring to? I don't mean just the
> basic idea description (that much is clear to me), I mean a fully detailed
> proposal or technical documentation that would give me a precise
> information about what exactly it is that you are talking about.
> >
> >
> > Sent with ProtonMail Secure Email.
> >
> > ??????? Original Message ???????
> > On Wednesday, May 26, 2021 11:07 PM, Erik Aronesty <erik at q32.com> wrote:
> >
> > > note: the "nothing at stake" problem you propose is not broken for
> > > proof-of-burn, because the attacker
> > >
> > > a) has no idea which past transactions are burns
> > > b) has no way to use his mining power, even 5%, to maliciously improve
> > > his odds of being selected
> > >
> > > On Wed, May 26, 2021 at 9:12 AM befreeandopen
> > > befreeandopen at protonmail.com wrote:
> > >
> > > > @befreeandopen I guess I misunderstood your selfish minting attack.
> Let me make sure I understand it. You're saying it would go as follows?:
> > > >
> > > > 1.  The malicious actor comes across an opportunity to mint the next
> 3 blocks. But they hold off and don't release their blocks just yet.
> > > > 2.  They receive a new block minted by someone else.
> > > > 3.  The malicious actor then chooses to release their other 2 blocks
> on on the second from the top block if it gives them more blocks in the
> future than minting on the top block. And instead lets the top block
> proceed if it gives them more blocks in the future (also figuring in the 3
> blocks they're missing out on minting).
> > > > 4.  Profit!
> > > >
> > > > The problem with this attack is that any self respecting PoS system
> wouldn't have the information available for minters to know how blocks will
> affect their future prospects of minting. Otherwise this would introduce
> the problem of stake grinding. This can be done using collaborative
> randomness (where numbers from many parties are combined to create a random
> number that no individual party could predict). In fact, that's what the
> Casper protocol does to decide quorums. In a non quorum case, you can do
> something like record a hash of a number in the block header, and then have
> a second step to release that number later. Rewards can be given can be
> used to ensure minters act honestly here by minting messages that release
> these numbers and not releasing their secret numbers too early.
> > > > Yes, you misunderstood it. First, let me say that the above thoughts
> of yours are incorrect, at least for non-quorum case. Since the transition
> in the blockchain system from S1 to S2 is only by adding new block, and
> since stakers always need to be able to decide whether or not they can add
> the next block, it follows that if a staker creates a new block locally,
> she can decide whether the new state allows her to add another block on
> top. As you mentioned, this COULD introduce problem of staking, that you
> are incorrect in that it is a necessity. Usual prevention of the grinding
> problem in this case is that an "old enough" source of randomness applies
> for the current block production process. Of course this, as it is typical
> for PoS, introduces other problems, but let's discard those.
> > > > I will try to explain in detail what you misunderstood before. You
> start with a chain ending with blocks A-B-C, C being the top, the common
> feature of PoS system (non-quorum), roughly speaking, is that if N is the
> total amount of coins that participate in the staking process to create a
> new block on top of C (let's call that D), then a participant having K*N
> amount of stake has chance K to be the one who will create the next stake.
> In other words, the power of stakers is supposed to be linear in the system
> - you own 10 coins gives you 10x the chance of finding block over someone
> who has 1 coin.
> > > > What i was claiming is that using the technique I have described,
> this linearity is violated. Why? Well, it works for honest stakers among
> the competition of honest stakers - they really do have the chance of K to
> find the next block. However, the attacker, using nothing at stake, checks
> her ability to build block D (at some timestamp). If she is successful, she
> does not propagate D immediately, but instead she also checks whether she
> can build on top of B and on top of A. Since with every new timestamp,
> usually, there is a new chance to build the block, it is not uncommon that
> she finds she is indeed able to build such block C' on top of B. Here it is
> likely t(C') > t(C) as the attacker has relatively low stake. Note that in
> order to produce such C', she not only could have tried the current
> timestamp t(D), but also all previous timestamps up to t(B) (usually that's
> the consensus rule, but it may depend on a specific consensus). So her
> chance to produce such C' is greater than her previous chance of producing
> C (which chance was limited by other stakers in the system and the
> discovery of block C by one of them). Now suppose that she found such C'
> and now she continues by trying to prolong this chain by finding D'. And
> again here, it is quite likely that her chance to find such D' is greater
> than was her chance of finding D because again there are likely multiple
> timestamps she could try. This all was possible just because nothing at
> stake allows you to just try if you can produce a block in certain state of
> block chain or not. Now if she actually was able to find D', she discards D
> and only publishes chain A-B-C'-D', which can not be punished despite the
> fact that she indeed produced two different forks. She can not be punished
> because this production was local and only the final result of A-B-C'-D'
> was published, in which case she gained an extra block over the honest
> strategy which would only give her block D.
> > > > Fun fact tho: there is an attack called the "selfish mining attack"
> for proof of work, and it reduces the security of PoW by at least 1/3rd.
> > > > How is that relevant to our discussion? This is known research that
> has nothing to do with PoS except that it is often worse on PoS.
> > > >
> > > > > the problem is not as hard as you think
> > > >
> > > > I don't claim to know just how hard finding the IP address
> associated with a bitcoin address is. However, the DOS risk can be solved
> more completely by only allowing the owner of coins themselves to know
> whether they can mint a block. Eg by determining whether someone can mint a
> block based on their public key hidden behind hashes (as normal in
> addresses). Only when someone does in fact mint a block do they reveal
> their hidden public key in order to prove they are allowed to mint the
> block.
> > > > This is true, but you are mixing quorum and non-quorum systems. My
> objection here was towards such system where I specifically said that the
> list of producers for next epoch is known up front and you confirmed that
> this is what you meant with "quorum" system. So in such system, I claimed,
> the known producer is the only target at any given point of time. This of
> course does not apply to any other type of system where future producers
> are not known. No need to dispute, again, something that was not claimed.
> > > >
> > > > > I agree that introduction of punishment itself does not imply
> introducing a problem elsewhere (which I did not claim if you reread my
> previous message)
> > > >
> > > > I'm glad we agree there. Perhaps I misunderstood what you meant by
> "you should not omit to mention that by doing so, typically, you have
> introduced another problem elsewhere."
> > > > Perhaps you should quote the full sentence and not just a part of it:
> > > > "Of course you can always change the rules in a way that a certain
> specific attack is not doable, but you should not omit to mention that by
> doing so, typically, you have introduced another problem elsewhere, or you
> have not solved it completely."
> > > > You can parse this as: (CREATE PROBLEM ELSEWHERE) OR (NOT SOLVE IT
> COMPLETELY)
> > > > In case of the punishment it was meant to be the not solve it
> completely part.
> > > > Also "typically" does not imply always.
> > > > But this parsing of English sentences for you seems very off topic
> here. My point is, in context of Bitcoin, reject such unsupported claims
> that PoS is a reasonable alternative to PoW, let's stick to that.
> > > >
> > > > > As long as the staker makes sure (which is not that hard) that she
> does not miss a chance to create a block, her significance in the system
> will always increase in time. It will increase relative to all normal users
> who do not stake
> > > >
> > > > Well, if you're in the closed system of the cryptocurrency, sure.
> But we don't live in that closed system. Minters will earn some ROI from
> minting just like any other financial activity. Others may find more
> success spending their time doing things other than figuring out how to
> mint coins. In that case, they'll be able to earn more coin that they could
> later decide to use to mint blocks if they decide to.
> > > > This only supports the point I was making. Since the optimal
> scenario with all existing coins participating is just theoretical, the
> attacker's position will ever so improve. It seems we are in agreement
> here, great.
> > > >
> > > > > Just because of the above we must reject PoS as being critically
> insecure
> > > >
> > > > I think the only thing we can conclude from this is that you have
> come up with an insecure proof of stake protocol. I don't see how anything
> you've brought up amounts to substantial evidence that all possible PoS
> protocols are insecure.
> > > > I have not come up with anything. I'm afraid you've not realized the
> burden of proof is on your side if you vouch for a design that is not
> believed and trusted to be secure. It is up to you to show that you know
> how to solve every problem that people throw at you. So far we have just
> demonstrated that your claim that nothing at stake is solved was
> unjustified. You have not described a system that would solve it (and not
> introduce critical DDOS attack vector as it is in quorum based systems -
> per the prior definition of such systems).
> > > > Of course the list of problems of PoS systems do not end with just
> nothing at stake, but it is good enough example that by itself prevents its
> adoption in decentralized consensus. No need to go to other hard problems
> without solving nothing at stake.
> > > > On Tue, May 25, 2021 at 11:10 AM befreeandopen
> befreeandopen at protonmail.com wrote:
> > > >
> > > > > @befreeandopen " An attacker can calculate whether or not she can
> prolong this chain or not and if so with what timestamp."
> > > > > The scenario you describe would only be likely to happen at all if
> the malicious actor has a very large fraction of the stake - probably quite
> close to 50%. At that point, you're talking about a 51% attack, not the
> nothing at stake problem. The nothing at stake problem is the problem where
> anyone will mint on any chain. Its clear that if there's a substantial
> punishment for minting on chains other than the one that eventually wins,
> every minter without a significant fraction of the stake will be honest and
> not attempt to mint on old blocks or support someone else's attempt to mint
> on old blocks (until and if it becomes the heaviest chain). Because the
> attacker would need probably >45% of the active stake (take a look at the
> reasoning here for a deeper analysis of that statement), I don't agree that
> punishment is not a sufficient mitigation of the nothing at stake problem.
> To exploit the nothing at stake problem, you basically need to 51% attack,
> at which point you've exceeded the operating conditions of the system, so
> of course its gonna have problems, just like a 51% attack would cause with
> PoW.
> > > > > This is not at all the case. The attacker benefits using the
> described technique at any size of the stake and significantly so with just
> 5% of the stake. By significantly, I do not mean that the attacker is able
> to completely take control the network (in short term), but rather that the
> attacker has significant advantage in the number of blocks she creates
> compared to what she "should be able to create". This means the attacker's
> stake increases significantly faster than of the honest nodes, which in
> long term is very serious in PoS system. If you believe close to 50% is
> needed for that, you need to redo your math. So no, you are wrong stating
> that "to exploit nothing at stake problem you basically need to 51%
> attack". It is rather the opposite - eventually, nothing at stake attack
> leads to ability to perform 51% attack.
> > > > >
> > > > > > I am not sure if this is what you call quorum-based PoS
> > > > >
> > > > > Yes, pre-selected minters is exactly what I mean by that.
> > > > >
> > > > > > it allows the attacker to know who to attack at which point with
> powerful DDOS in order to hurt liveness of such system
> > > > >
> > > > > Just like in bitcoin, associating keys with IP addresses isn't
> generally an easy thing to do on the fly like that. If you know someone's
> IP address, you can target them. But if you only know their address or
> public key, the reverse isn't as easy. With a quorum-based PoS system, you
> can see their public key and address, but finding out their IP to DOS would
> be a huge challenge I think.
> > > > > I do not dispute that the problem is not trivial, but the problem
> is not as hard as you think. The network graph analysis is a known
> technique and it is not trivial, but not very hard either. Introducing a
> large number of nodes to the system to achieve very good success rate of
> analysis of area of origin of blocks is doable and has been done in past.
> So again, I very much disagree with your conclusion that this is somehow
> secure. It is absolutely insecure.
> > > > > Note, tho, that quorum-based PoS generally also have punishments
> as part of the protocol. The introduction of punishments do indeed handily
> solve the nothing at stake problem. And you didn't mention a single problem
> that the punishments introduce that weren't already there before
> punishments. There are tradeoffs with introducing punishments (eg in some
> cases you might punish honest actors), but they are minor in comparison to
> solving the nothing at stake problem.
> > > > > While I agree that introduction of punishment itself does not
> imply introducing a problem elsewhere (which I did not claim if you reread
> my previous message), it does introduce additional complexity which may
> introduce problem, but more importantly, while it slightly improves
> resistance against the nothing at stake attack, it solves absolutely
> nothing. Your claim is based on wrong claim of needed close to 50% stake,
> but that could not be farther from the truth. It is not true even in
> optimal conditions when all participants of the network stake or delegate
> their stake. These optimal conditions rarely, if ever, occur. And that's
> another thing that we have not mention in our debate, so please allow me to
> introduce another problem to PoS.
> > > > > Consider what is needed for such optimal conditions to occur - all
> coins are always part of the stake, which means that they need to somehow
> automatically part of the staking process even when they are moved. But in
> many PoS systems you usually require some age (in terms of confirmations)
> of the coin before you allow it to be used for participation in staking
> process and that is for a good reason - to prevent various grinding
> attacks. In some systems the coin must be specifically registered before it
> can be staked, in others, simply waiting for enough confirmations enables
> you to stake with the coin. I am not sure if there is a system which does
> not have this cooling period for a coin that has been moved. Maybe it is
> possible though, but AFAIK it is not common and not battle tested feature.
> > > > > Then if we admit that achieving the optimal condition is rather
> theoretical. Then if we do not have the optimal condition, it means that a
> staker with K% of the total available supply increases it's percentage over
> time to some amounts >K%. As long as the staker makes sure (which is not
> that hard) that she does not miss a chance to create a block, her
> significance in the system will always increase in time. It will increase
> relative to all normal users who do not stake (if there are any) and
> relative to all other stakers who make mistakes or who are not wealthy
> enough to afford not selling any position ever. But powerful attacker is
> exactly in such position and thus she will gain significance in such a
> system. The technique I have described, and that you mistakenly think is
> viable only with huge amounts of stake, only puts the attacker to even
> greater advantage. But even without the described attack (which exploits
> nothing at stake), the PoS system converges to a system more and more
> controlled by powerful entity, which we can assume is the attacker.
> > > > > So I don't think it is at all misleading to claim that "nothing at
> stake" is a solved problem. I do in fact mean that the solutions to that
> problem don't introduce any other problems with anywhere near the same
> level of significance.
> > > > > It still stands as truly misleading claim. I disagree that
> introducing DDOS opportunity with medium level of difficulty for the
> attacker to implement it, in case of "quorum-based PoS" is not a problem
> anywhere near the same level of significance. Such an attack vector allows
> you to turn off the network if you spend some time and money. That is
> hardly acceptable.
> > > > > Just because of the above we must reject PoS as being critically
> insecure until someone invents and demonstrates an actual way of solving
> these issues.
> > > > > On Tue, May 25, 2021 at 3:00 AM Erik Aronesty erik at q32.com wrote:
> > > > >
> > > > > > > > you burn them to be used at a future particular block height
> > > > > >
> > > > > > > This sounds exploitable. It seems like an attacker could
> simply focus all their burns on a particular set of 6 blocks to double
> spend, minimizing their cost of attack.
> > > > > >
> > > > > > could be right. the original idea was to have burns decay over
> time,
> > > > > > like ASIC's.
> > > > > > anyway the point was not that "i had a magic formula"
> > > > > > the point was that proof of burn is almost always better than
> proof of
> > > > > > stake - simply because the "proof" is on-chain, not sitting on a
> node
> > > > > > somewhere waiting to be stolen.
> > > > > > On Mon, May 24, 2021 at 9:53 PM Billy Tetrud
> billy.tetrud at gmail.com wrote:
> > > > > >
> > > > > > > Is this the kind of proof of burn you're talking about?
> > > > > > >
> > > > > > > > if i have a choice between two chains, one longer and one
> shorter, i can only choose one... deterministically
> > > > > > >
> > > > > > > What prevents you from attempting to mine block 553 on both
> chains?
> > > > > > >
> > > > > > > > miners have a very strong, long-term, investment in the
> stability of the chain.
> > > > > > >
> > > > > > > Yes, but the same can be said of any coin, even ones that do
> have the nothing at stake problem. This isn't sufficient tho because the
> chain is a common good, and the tragedy of the commons holds for it.
> > > > > > >
> > > > > > > > you burn them to be used at a future particular block height
> > > > > > >
> > > > > > > This sounds exploitable. It seems like an attacker could
> simply focus all their burns on a particular set of 6 blocks to double
> spend, minimizing their cost of attack.
> > > > > > >
> > > > > > > > i can imagine scenarios where large stakeholders can collude
> to punish smaller stakeholders simply to drive them out of business, for
> example
> > > > > > >
> > > > > > > Are you talking about a 51% attack? This is possible in any
> decentralized cryptocurrency.
> > > > > > > On Mon, May 24, 2021 at 11:49 AM Erik Aronesty erik at q32.com
> wrote:
> > > > > > >
> > > > > > > > > > your burn investment is always "at stake", any redaction
> can result in a loss-of-burn, because burns can be tied, precisely, to
> block-heights
> > > > > > > > > > I'm fuzzy on how proof of burn works.
> > > > > > > >
> > > > > > > > when you burn coins, you burn them to be used at a future
> particular
> > > > > > > > block height: so if i'm burning for block 553, i can only
> use them to
> > > > > > > > mine block 553. if i have a choice between two chains, one
> longer
> > > > > > > > and one shorter, i can only choose one... deterministically,
> for that
> > > > > > > > burn: the chain with the height 553. if we fix the "lead
> time" for
> > > > > > > > burned coins to be weeks or even months in advance, miners
> have a very
> > > > > > > > strong, long-term, investment in the stability of the chain.
> > > > > > > > therefore there is no "nothing at stake" problem. it's
> > > > > > > > deterministic, so miners have no choice. they can only
> choose the
> > > > > > > > transactions that go into the block. they cannot choose
> which chain
> > > > > > > > to mine, and it's time-locked, so rollbacks and instability
> always
> > > > > > > > hurt miners the most.
> > > > > > > > the "punishment" systems of PoS are "weird at best",
> certainly
> > > > > > > > unproven. i can imagine scenarios where large stakeholders
> can
> > > > > > > > collude to punish smaller stakeholders simply to drive them
> out of
> > > > > > > > business, for example. and then you have to put checks in
> place to
> > > > > > > > prevent that, and more checks for those prevention system...
> > > > > > > > in PoB, there is no complexity. simpler systems like this are
> > > > > > > > typically more secure.
> > > > > > > > PoB also solves problems caused by "energy dependence",
> which could
> > > > > > > > lead to state monopolies on mining (like the new Bitcoin
> Mining
> > > > > > > > Council). these consortiums, if state sanctioned, could
> become a
> > > > > > > > source of censorship, for example. Since PoB doesn't require
> you to
> > > > > > > > have a live, well-connected node, it's harder to censor &
> harder to
> > > > > > > > trace.
> > > > > > > > Eliminating this weakness seems to be in the best interests
> of
> > > > > > > > existing stakeholders
> > > > > > > > On Mon, May 24, 2021 at 4:44 PM Billy Tetrud
> billy.tetrud at gmail.com wrote:
> > > > > > > >
> > > > > > > > > > proof of burn clearly solves this, since nothing is held
> online
> > > > > > > > >
> > > > > > > > > Well.. the coins to be burned need to be online when
> they're burned. But yes, only a small fraction of the total coins need to
> be online.
> > > > > > > > >
> > > > > > > > > > your burn investment is always "at stake", any redaction
> can result in a loss-of-burn, because burns can be tied, precisely, to
> block-heights
> > > > > > > > >
> > > > > > > > > So you're saying that if say someone tries to mine a block
> on a shorter chain, that requires them to send a transaction burning their
> coins, and that transaction could also be spent on the longest chain, which
> means their coins are burned even if the chain they tried to mine on
> doesn't win? I'm fuzzy on how proof of burn works.
> > > > > > > > >
> > > > > > > > > > proof of burn can be more secure than proof-of-stake
> > > > > > > > >
> > > > > > > > > FYI, proof of stake can be done without the "nothing at
> stake" problem. You can simply punish people who mint on shorter chains (by
> rewarding people who publish proofs of this happening on the main chain).
> In quorum-based PoS, you can punish people in the quorum that propose or
> sign multiple blocks for the same height. The "nothing at stake" problem is
> a solved problem at this point for PoS.
> > > > > > > > > On Mon, May 24, 2021 at 3:47 AM Erik Aronesty erik at q32.com
> wrote:
> > > > > > > > >
> > > > > > > > > > > I don't see a way to get around the conflicting
> requirement that the keys for large amounts of coins should be kept offline
> but those are exactly the coins we need online to make the scheme secure.
> > > > > > > > > >
> > > > > > > > > > proof of burn clearly solves this, since nothing is held
> online
> > > > > > > > > >
> > > > > > > > > > > how does proof of burn solve the "nothing at stake"
> problem in your view?
> > > > > > > > > >
> > > > > > > > > > definition of nothing at stake: in the event of a fork,
> whether the
> > > > > > > > > > fork is accidental or a malicious, the optimal strategy
> for any miner
> > > > > > > > > > is to mine on every chain, so that the miner gets their
> reward no
> > > > > > > > > > matter which fork wins. indeed in proof-of-stake, the
> proofs are
> > > > > > > > > > published on the very chains mines, so the incentive is
> magnified.
> > > > > > > > > > in proof-of-burn, your burn investment is always "at
> stake", any
> > > > > > > > > > redaction can result in a loss-of-burn, because burns
> can be tied,
> > > > > > > > > > precisely, to block-heights
> > > > > > > > > > as a result, miners no longer have an incentive to mine
> all chains
> > > > > > > > > > in this way proof of burn can be more secure than
> proof-of-stake, and
> > > > > > > > > > even more secure than proof of work
> > > > > > > > > >
> > > > > > > > > > >
> > > > > > > > > >
> > > > > > > > > > On Sun, May 23, 2021 at 3:52 AM Lloyd Fournier via
> bitcoin-dev
> > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > >
> > > > > > > > > > > Hi Billy,
> > > > > > > > > > > I was going to write a post which started by
> dismissing many of the weak arguments that are made against PoS made in
> this thread and elsewhere.
> > > > > > > > > > > Although I don't agree with all your points you have
> done a decent job here so I'll focus on the second part: why I think
> Proof-of-Stake is inappropriate for a Bitcoin-like system.
> > > > > > > > > > > Proof of stake is not fit for purpose for a global
> settlement layer in a pure digital asset (i.e. "digital gold") which is
> what Bitcoin is trying to be.
> > > > > > > > > > > PoS necessarily gives responsibilities to the holders
> of coins that they do not want and cannot handle.
> > > > > > > > > > > In Bitcoin, large unsophisticated coin holders can put
> their coins in cold storage without a second thought given to the health of
> the underlying ledger.
> > > > > > > > > > > As much as hardcore Bitcoiners try to convince them to
> run their own node, most don't, and that's perfectly acceptable.
> > > > > > > > > > > At no point do their personal decisions affect the
> underlying consensus -- it only affects their personal security assurance
> (not that of the system itself).
> > > > > > > > > > > In PoS systems this clean separation of
> responsibilities does not exist.
> > > > > > > > > > > I think that the more rigorously studied PoS protocols
> will work fine within the security claims made in their papers.
> > > > > > > > > > > People who believe that these protocols are destined
> for catastrophic consensus failure are certainly in for a surprise.
> > > > > > > > > > > But the devil is in the detail.
> > > > > > > > > > > Let's look at what the implications of using the
> leading proof of stake protocols would have on Bitcoin:
> > > > > > > > > > >
> > > > > > > > > > > ### Proof of SquareSpace (Cardano, Polkdadot)
> > > > > > > > > > >
> > > > > > > > > > > Cardano is a UTXO based PoS coin based on Ouroboros
> Praos3 with an inbuilt on-chain delegation system5.
> > > > > > > > > > > In these protocols, coin holders who do not want to
> run their node with their hot keys in it delegate it to a "Stake Pool".
> > > > > > > > > > > I call the resulting system Proof-of-SquareSpace since
> most will choose a pool by looking around for one with a nice website and
> offering the largest share of the block reward.
> > > > > > > > > > > On the surface this might sound no different than
> someone with an mining rig shopping around for a good mining pool but there
> are crucial differences:
> > > > > > > > > > >
> > > > > > > > > > > 1.  The person making the decision is forced into it
> just because they own the currency -- someone with a mining rig has
> purchased it with the intent to make profit by participating in consensus.
> > > > > > > > > > >
> > > > > > > > > > > 2.  When you join a mining pool your systems are very
> much still online. You are just partaking in a pool to reduce your profit
> variance. You still see every block that you help create and you never help
> create a block without seeing it first.
> > > > > > > > > > >
> > > > > > > > > > > 3.  If by SquareSpace sybil attack you gain a
> dishonest majority and start censoring transactions how are the users meant
> to redelegate their stake to honest pools?
> > > > > > > > > > >     I guess they can just send a transaction
> delegating to another pool...oh wait I guess that might be censored too!
> This seems really really bad.
> > > > > > > > > > >     In Bitcoin, miners can just join a different pool
> at a whim. There is nothing the attacker can do to stop them. A temporary
> dishonest majority heals relatively well.
> > > > > > > > > > >
> > > > > > > > > > >
> > > > > > > > > > > There is another severe disadvantage to this on-chain
> delegation system: every UTXO must indicate which staking account this UTXO
> belongs to so the appropriate share of block rewards can be transferred
> there.
> > > > > > > > > > > Being able to associate every UTXO to an account ruins
> one of the main privacy advantages of the UTXO model.
> > > > > > > > > > > It also grows the size of the blockchain significantly.
> > > > > > > > > > >
> > > > > > > > > > > ### "Pure" proof of stake (Algorand)
> > > > > > > > > > >
> > > > > > > > > > > Algorand's4 approach is to only allow online stake to
> participate in the protocol.
> > > > > > > > > > > Theoretically, This means that keys holding funds have
> to be online in order for them to author blocks when they are chosen.
> > > > > > > > > > > Of course in reality no one wants to keep their coin
> holding keys online so in Alogorand you can authorize a set of
> "participation keys"1 that will be used to create blocks on your coin
> holding key's behalf.
> > > > > > > > > > > Hopefully you've spotted the problem.
> > > > > > > > > > > You can send your participation keys to any malicious
> party with a nice website (see random example 2) offering you a good return.
> > > > > > > > > > > Damn it's still Proof-of-SquareSpace!
> > > > > > > > > > > The minor advantage is that at least the participation
> keys expire after a certain amount of time so eventually the SquareSpace
> attacker will lose their hold on consensus.
> > > > > > > > > > > Importantly there is also less junk on the blockchain
> because the participation keys are delegated off-chain and so are not
> making as much of a mess.
> > > > > > > > > > >
> > > > > > > > > > > ### Conclusion
> > > > > > > > > > >
> > > > > > > > > > > I don't see a way to get around the conflicting
> requirement that the keys for large amounts of coins should be kept offline
> but those are exactly the coins we need online to make the scheme secure.
> > > > > > > > > > > If we allow delegation then we open up a new social
> attack surface and it degenerates to Proof-of-SquareSpace.
> > > > > > > > > > > For a "digital gold" like system like Bitcoin we
> optimize for simplicity and desperately want to avoid extraneous
> responsibilities for the holder of the coin.
> > > > > > > > > > > After all, gold is an inert element on the periodic
> table that doesn't confer responsibilities on the holder to maintain the
> quality of all the other bars of gold out there.
> > > > > > > > > > > Bitcoin feels like this too and in many ways is more
> inert and beautifully boring than gold.
> > > > > > > > > > > For Bitcoin to succeed I think we need to keep it that
> way and Proof-of-Stake makes everything a bit too exciting.
> > > > > > > > > > > I suppose in the end the market will decide what is
> real digital gold and whether these bad technical trade offs are worth
> being able to say it uses less electricity. It goes without saying that
> making bad technical decisions to appease the current political climate is
> an anathema to Bitcoin.
> > > > > > > > > > > Would be interested to know if you or others think
> differently on these points.
> > > > > > > > > > > Cheers,
> > > > > > > > > > > LL
> > > > > > > > > > > On Fri, 21 May 2021 at 19:21, Billy Tetrud via
> bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > > >
> > > > > > > > > > > > I think there is a lot of misinformation and bias
> against Proof of Stake. Yes there have been lots of shady coins that use
> insecure PoS mechanisms. Yes there have been massive issues with
> distribution of PoS coins (of course there have also been massive issues
> with PoW coins as well). However, I want to remind everyone that there is a
> difference between "proved to be impossible" and "have not achieved
> recognized success yet". Most of the arguments levied against PoS are out
> of date or rely on unproven assumptions or extrapolation from the analysis
> of a particular PoS system. I certainly don't think we should experiment
> with bitcoin by switching to PoS, but from my research, it seems very
> likely that there is a proof of stake consensus protocol we could build
> that has substantially higher security (cost / capital required to execute
> an attack) while at the same time costing far less resources (which do
> translate to fees on the network) without compromising any of the critical
> security properties bitcoin relies on. I think the critical piece of this
> is the disagreements around hardcoded checkpoints, which is a critical
> piece solving attacks that could be levied on a PoS chain, and how that
> does (or doesn't) affect the security model.
> > > > > > > > > > > > @Eric Your proof of stake fallacy seems to be saying
> that PoS is worse when a 51% attack happens. While I agree, I think that
> line of thinking omits important facts:
> > > > > > > > > > > >
> > > > > > > > > > > > -   The capital required to 51% attack a PoS chain
> can be made substantially greater than on a PoS chain.
> > > > > > > > > > > > -   The capital the attacker stands to lose can be
> substantially greater as well if the attack is successful.
> > > > > > > > > > > > -   The effectiveness of paying miners to raise the
> honest fraction of miners above 50% may be quite bad.
> > > > > > > > > > > > -   Allowing a 51% attack is already unacceptable.
> It should be considered whether what happens in the case of a 51% may not
> be significantly different. The currency would likely be critically damaged
> in a 51% attack regardless of consensus mechanism.
> > > > > > > > > > > >
> > > > > > > > > > > > > Proof-of-stake tends towards oligopolistic control
> > > > > > > > > > > >
> > > > > > > > > > > > People repeat this often, but the facts support
> this. There is no centralization pressure in any proof of stake mechanism
> that I'm aware of. IE if you have 10 times as much coin that you use to
> mint blocks, you should expect to earn 10x as much minting revenue - not
> more than 10x. By contrast, proof of work does in fact have clear
> centralization pressure - this is not disputed. Our goal in relation to
> that is to ensure that the centralization pressure remains insignifiant.
> Proof of work also clearly has a lot more barriers to entry than any proof
> of stake system does. Both of these mean the tendency towards oligopolistic
> control is worse for PoW.
> > > > > > > > > > > >
> > > > > > > > > > > > > Energy usage, in-and-of-itself, is nothing to be
> ashamed of!!
> > > > > > > > > > > >
> > > > > > > > > > > > I certainly agree. Bitcoin's energy usage at the
> moment is I think quite warranted. However, the question is: can we do
> substantially better. I think if we can, we probably should... eventually.
> > > > > > > > > > > >
> > > > > > > > > > > > > Proof of Stake is only resilient to ? of the
> network demonstrating a Byzantine Fault, whilst Proof of Work is resilient
> up to the ? threshold
> > > > > > > > > > > >
> > > > > > > > > > > > I see no mention of this in the pos.pdf you linked
> to. I'm not aware of any proof that all PoS systems have a failure
> threshold of 1/3. I know that staking systems like Casper do in fact have
> that 1/3 requirement. However there are PoS designs that should exceed that
> up to nearly 50% as far as I'm aware. Proof of work is not in fact
> resilient up to the 1/2 threshold in the way you would think. IE, if 100%
> of miners are currently honest and have a collective 100 exahashes/s
> hashpower, an attacker does not need to obtain 100 exahashes/s, but
> actually only needs to accumulate 50 exahashes/s. This is because as the
> attacker accumulates hashpower, it drives honest miners out of the market
> as the difficulty increases to beyond what is economically sustainable.
> Also, its been shown that the best proof of work can do is require an
> attacker to obtain 33% of the hashpower because of the selfish mining
> attack discussed in depth in this paper: https://arxiv.org/abs/1311.0243.
> Together, both of these things reduce PoW's security by a factor of about
> 83% (1 - 50%*33%).
> > > > > > > > > > > >
> > > > > > > > > > > > > Proof of Stake requires other trade-offs which are
> incompatible with Bitcoin's objective (to be a trustless digital cash) ?
> specifically the famous "security vs. liveness" guarantee
> > > > > > > > > > > >
> > > > > > > > > > > > Do you have a good source that talks about why you
> think proof of stake cannot be used for a trustless digital cash?
> > > > > > > > > > > >
> > > > > > > > > > > > > You cannot gain tokens without someone choosing to
> give up those coins - a form of permission.
> > > > > > > > > > > >
> > > > > > > > > > > > This is not a practical constraint. Just like in
> mining, some nodes may reject you, but there will likely be more that will
> accept you, some sellers may reject you, but most would accept your money
> as payment for bitcoins. I don't think requiring the "permission" of one of
> millions of people in the market can be reasonably considered a
> "permissioned currency".
> > > > > > > > > > > >
> > > > > > > > > > > > > 2.  Proof of stake must have a trusted means of
> timestamping to regulate overproduction of blocks
> > > > > > > > > > > >
> > > > > > > > > > > > Both PoW and PoS could mine/mint blocks twice as
> fast if everyone agreed to double their clock speeds. Both systems rely on
> an honest majority sticking to standard time.
> > > > > > > > > > > > On Wed, May 19, 2021 at 5:32 AM Michael Dubrovsky
> via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > > > >
> > > > > > > > > > > > > Ah sorry, I didn't realize this was, in fact, a
> different thread! :)
> > > > > > > > > > > > > On Wed, May 19, 2021 at 10:07 AM Michael Dubrovsky
> mike at powx.org wrote:
> > > > > > > > > > > > >
> > > > > > > > > > > > > > Folks, I suggest we keep the discussion to PoW,
> oPoW, and the BIP itself. PoS, VDFs, and so on are interesting but I guess
> there are other threads going on these topics already where they would be
> relevant.
> > > > > > > > > > > > > > Also, it's important to distinguish between oPoW
> and these other "alternatives" to Hashcash. oPoW is a true Proof of Work
> that doesn't alter the core game theory or security assumptions of Hashcash
> and actually contains SHA (can be SHA3, SHA256, etc hash is
> interchangeable).
> > > > > > > > > > > > > > Cheers,
> > > > > > > > > > > > > > Mike
> > > > > > > > > > > > > > On Tue, May 18, 2021 at 4:55 PM Erik Aronesty
> via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > > 1.  i never suggested vdf's to replace pow.
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > 2.  my suggestion was specifically in the
> context of a working
> > > > > > > > > > > > > > >     proof-of-burn protocol
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > -   vdfs used only for timing (not block
> height)
> > > > > > > > > > > > > > > -   blind-burned coins of a specific age used
> to replace proof of work
> > > > > > > > > > > > > > > -   the required "work" per block would simply
> be a competition to
> > > > > > > > > > > > > > >     acquire rewards, and so miners would have
> to burn coins, well in
> > > > > > > > > > > > > > >     advance, and hope that their burned coins
> got rewarded in some far
> > > > > > > > > > > > > > >     future
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > -   the point of burned coins is to mimic, in
> every meaningful way, the
> > > > > > > > > > > > > > >     value gained from proof of work... without
> some of the security
> > > > > > > > > > > > > > >     drawbacks
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > -   the miner risks losing all of his burned
> coins (like all miners risk
> > > > > > > > > > > > > > >     losing their work in each block)
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > -   new burns can't be used
> > > > > > > > > > > > > > > -   old burns age out (like ASICs do)
> > > > > > > > > > > > > > > -   other requirements on burns might be
> needed to properly mirror the
> > > > > > > > > > > > > > >     properties of PoW and the incentives
> Bitcoin uses to mine honestly.
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > 3.  i do believe it is possible that a "burned
> coin + vdf system"
> > > > > > > > > > > > > > >     might be more secure in the long run, and
> that if the entire space
> > > > > > > > > > > > > > >     agreed that such an endeavor was
> worthwhile, a test net could be spun
> > > > > > > > > > > > > > >     up, and a hard-fork could be initiated.
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > 4.  i would never suggest such a thing unless
> i believed it was
> > > > > > > > > > > > > > >     possible that consensus was possible. so
> no, this is not an "alt
> > > > > > > > > > > > > > >     coin"
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > On Tue, May 18, 2021 at 10:02 AM Zac Greenwood
> zachgrw at gmail.com wrote:
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > Hi ZmnSCPxj,
> > > > > > > > > > > > > > > > Please note that I am not suggesting VDFs as
> a means to save energy, but solely as a means to make the time between
> blocks more constant.
> > > > > > > > > > > > > > > > Zac
> > > > > > > > > > > > > > > > On Tue, 18 May 2021 at 12:42, ZmnSCPxj
> ZmnSCPxj at protonmail.com wrote:
> > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > Good morning Zac,
> > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > > VDFs might enable more constant block
> times, for instance by having a two-step PoW:
> > > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > > 1.  Use a VDF that takes say 9 minutes
> to resolve (VDF being subject to difficulty adjustments similar to the
> as-is). As per the property of VDFs, miners are able show proof of work.
> > > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > > 2.  Use current PoW mechanism with lower
> difficulty so finding a block takes 1 minute on average, again subject to
> as-is difficulty adjustments.
> > > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > > As a result, variation in block times
> will be greatly reduced.
> > > > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > > > As I understand it, another weakness of
> VDFs is that they are not inherently progress-free (their sequential nature
> prevents that; they are inherently progress-requiring).
> > > > > > > > > > > > > > > > > Thus, a miner which focuses on improving
> the amount of energy that it can pump into the VDF circuitry (by
> overclocking and freezing the circuitry), could potentially get into a
> winner-takes-all situation, possibly leading to even worse competition and
> even more energy consumption.
> > > > > > > > > > > > > > > > > After all, if you can start mining 0.1s
> faster than the competition, that is a 0.1s advantage where only you can
> mine in the entire world.
> > > > > > > > > > > > > > > > > Regards,
> > > > > > > > > > > > > > > > > ZmnSCPxj
> > > > > > > > > > > > > > >
> > > > > > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > > > > >
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > > > > > >
> > > > > > > > > > > > > > --
> > > > > > > > > > > > > > Michael Dubrovsky
> > > > > > > > > > > > > > Founder; PoWx
> > > > > > > > > > > > > > www.PoWx.org
> > > > > > > > > > > > >
> > > > > > > > > > > > > --
> > > > > > > > > > > > > Michael Dubrovsky
> > > > > > > > > > > > > Founder; PoWx
> > > > > > > > > > > > > www.PoWx.org
> > > > > > > > > > > > >
> > > > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > > >
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > > > >
> > > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > > >
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> > > > > > > > > > >
> > > > > > > > > > > bitcoin-dev mailing list
> > > > > > > > > > > bitcoin-dev at lists.linuxfoundation.org
> > > > > > > > > > >
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210528/2af536ce/attachment-0001.html>

From antoine.riard at gmail.com  Sat May 29 06:32:53 2021
From: antoine.riard at gmail.com (Antoine Riard)
Date: Sat, 29 May 2021 02:32:53 -0400
Subject: [bitcoin-dev] Improvement on Blockbuilding
In-Reply-To: <25ab1452-78a8-90f1-9b47-8de050d632d2@murch.one>
References: <25ab1452-78a8-90f1-9b47-8de050d632d2@murch.one>
Message-ID: <CALZpt+Fj4=EiWSR1j65-ucwiTnwgVc-gvLuwaye3zNyApbuxFA@mail.gmail.com>

Hi Mark and Clara,

Great research, thanks for it!

Few questions out of mind after a first read.

> This approach enables block building to consider Child Pays For Parent
(CPFP) constellations.

I think that's a really interesting point, it's likely that such
transaction graphs with multiple disjunctive branches become far more
regular in the future. One can think about OP_CTV's style
congestion-tree, LN's splicing or chain of coinjoins. If this phenomenon
happens, can you expect CSB feerate perf to improve ?

> CSB is more complex and requires more computation

Let's say a malicious miner identifies and connects to its competitors'
mempools then starts to broadcast to them hard-to-traverse CPFP
constellations. Doing so, this malicious miner would prevent them either
from assembling block templates at all or slow down their assemblage
computation enough to gain an advantage in fee collection. Following
current mempools limits, it would be relevant to know by how much CSB makes
that kind of DoS possible/efficient.

> From the point of view of global blockspace demand, if miners generally
became DPFA-sensitive,
it could encourage creation of additional transactions for the sole purpose
of bumping stuck ancestors.

As ASB's ancestor set and CSB's candidate set, a fee bidder, we'll have to
pay the feerate to cover the new transaction fields, high enough to catch
up with the already-present feerate set ? Likely more feerate efficient to
RBF the first child, though you have to swallow the replacement feerate
penalty (default 1 sat/vbyte iirc)

Antoine

Le mar. 25 mai 2021 ? 10:34, Murch via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> a ?crit :

> Hi Bitcoin Devs,
>
> We are writing to share with you a suggested improvement to the current
> bitcoin core block building algorithm. In short, currently Bitcoin Core
> uses a straightforward greedy algorithm which evaluates each
> transaction?s effective fee rate in the context of its unconfirmed
> ancestors. This overlooks situations in which multiple descendant
> transactions could be grouped with their shared ancestors to form a more
> attractive transaction set for block inclusion.
>
> For example, if we have 4 transactions A,B,C, and D, with fee rates and
> weights as follows
>
> Tx Fee Weight
> A    5    1
> B   10    1
> C   15    1
> D   14    1
>
> And dependencies:
> ? B is a descendant of A
> ? C is a descendant of B
> ? D is a descendant of A
> The current algorithm will consider {A,B,C} best which has an effective
> fee rate of 10. Our suggested algorithm will also consider {A,B,C,D},
> which has an effective fee rate of 11.
>
> Experimental data shows that our suggested algorithm did better on more
> than 94% of blocks (99% for times of high congestion). We have also
> compared the results to CBC and SAT Linear Programming solvers. The LP
> solvers did slightly better, at the price of longer running times. Greg
> Maxwell has also studied LP solvers in the past, and his results suggest
> that better running times are possible.
>
> The full details are given in this document, and we are happy to hear
> any comment, critic or suggestion!
>
> Best,
> Mark and Clara
>
> Full details:
>
> https://gist.github.com/Xekyo/5cb413fe9f26dbce57abfd344ebbfaf2#file-candidate-set-based-block-building-md
>
> Research Code:
> https://github.com/Xekyo/blockbuilding
>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210529/a2f7875d/attachment.html>

From jtimon at jtimon.cc  Sat May 29 15:04:57 2021
From: jtimon at jtimon.cc (=?UTF-8?B?Sm9yZ2UgVGltw7Nu?=)
Date: Sat, 29 May 2021 16:04:57 +0100
Subject: [bitcoin-dev] Improvement on Blockbuilding
In-Reply-To: <CALZpt+Fj4=EiWSR1j65-ucwiTnwgVc-gvLuwaye3zNyApbuxFA@mail.gmail.com>
References: <25ab1452-78a8-90f1-9b47-8de050d632d2@murch.one>
 <CALZpt+Fj4=EiWSR1j65-ucwiTnwgVc-gvLuwaye3zNyApbuxFA@mail.gmail.com>
Message-ID: <CABm2gDpeWtge=OuPb2Ps15Og3-+Qk1wJ+cYfHnxoMxZF30h6Nw@mail.gmail.com>

Sounds really interesting, thanks. Making CPFP reliable would be very nice
in my opinion.

On Sat, May 29, 2021, 14:24 Antoine Riard via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org> wrote:

> Hi Mark and Clara,
>
> Great research, thanks for it!
>
> Few questions out of mind after a first read.
>
> > This approach enables block building to consider Child Pays For Parent
> (CPFP) constellations.
>
> I think that's a really interesting point, it's likely that such
> transaction graphs with multiple disjunctive branches become far more
> regular in the future. One can think about OP_CTV's style
> congestion-tree, LN's splicing or chain of coinjoins. If this phenomenon
> happens, can you expect CSB feerate perf to improve ?
>
> > CSB is more complex and requires more computation
>
> Let's say a malicious miner identifies and connects to its competitors'
> mempools then starts to broadcast to them hard-to-traverse CPFP
> constellations. Doing so, this malicious miner would prevent them either
> from assembling block templates at all or slow down their assemblage
> computation enough to gain an advantage in fee collection. Following
> current mempools limits, it would be relevant to know by how much CSB makes
> that kind of DoS possible/efficient.
>
> > From the point of view of global blockspace demand, if miners generally
> became DPFA-sensitive,
> it could encourage creation of additional transactions for the sole
> purpose of bumping stuck ancestors.
>
> As ASB's ancestor set and CSB's candidate set, a fee bidder, we'll have to
> pay the feerate to cover the new transaction fields, high enough to catch
> up with the already-present feerate set ? Likely more feerate efficient to
> RBF the first child, though you have to swallow the replacement feerate
> penalty (default 1 sat/vbyte iirc)
>
> Antoine
>
> Le mar. 25 mai 2021 ? 10:34, Murch via bitcoin-dev <
> bitcoin-dev at lists.linuxfoundation.org> a ?crit :
>
>> Hi Bitcoin Devs,
>>
>> We are writing to share with you a suggested improvement to the current
>> bitcoin core block building algorithm. In short, currently Bitcoin Core
>> uses a straightforward greedy algorithm which evaluates each
>> transaction?s effective fee rate in the context of its unconfirmed
>> ancestors. This overlooks situations in which multiple descendant
>> transactions could be grouped with their shared ancestors to form a more
>> attractive transaction set for block inclusion.
>>
>> For example, if we have 4 transactions A,B,C, and D, with fee rates and
>> weights as follows
>>
>> Tx Fee Weight
>> A    5    1
>> B   10    1
>> C   15    1
>> D   14    1
>>
>> And dependencies:
>> ? B is a descendant of A
>> ? C is a descendant of B
>> ? D is a descendant of A
>> The current algorithm will consider {A,B,C} best which has an effective
>> fee rate of 10. Our suggested algorithm will also consider {A,B,C,D},
>> which has an effective fee rate of 11.
>>
>> Experimental data shows that our suggested algorithm did better on more
>> than 94% of blocks (99% for times of high congestion). We have also
>> compared the results to CBC and SAT Linear Programming solvers. The LP
>> solvers did slightly better, at the price of longer running times. Greg
>> Maxwell has also studied LP solvers in the past, and his results suggest
>> that better running times are possible.
>>
>> The full details are given in this document, and we are happy to hear
>> any comment, critic or suggestion!
>>
>> Best,
>> Mark and Clara
>>
>> Full details:
>>
>> https://gist.github.com/Xekyo/5cb413fe9f26dbce57abfd344ebbfaf2#file-candidate-set-based-block-building-md
>>
>> Research Code:
>> https://github.com/Xekyo/blockbuilding
>>
>> _______________________________________________
>> bitcoin-dev mailing list
>> bitcoin-dev at lists.linuxfoundation.org
>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>>
> _______________________________________________
> bitcoin-dev mailing list
> bitcoin-dev at lists.linuxfoundation.org
> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20210529/e817c2eb/attachment.html>

